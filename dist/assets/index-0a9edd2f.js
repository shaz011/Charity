(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=r(i);fetch(i.href,o)}})();var nr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var i=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return e[n]}})}),r}var lg={exports:{}},rl={},ug={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=Symbol.for("react.element"),n0=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),o0=Symbol.for("react.strict_mode"),s0=Symbol.for("react.profiler"),a0=Symbol.for("react.provider"),l0=Symbol.for("react.context"),u0=Symbol.for("react.forward_ref"),c0=Symbol.for("react.suspense"),d0=Symbol.for("react.memo"),h0=Symbol.for("react.lazy"),fh=Symbol.iterator;function f0(e){return e===null||typeof e!="object"?null:(e=fh&&e[fh]||e["@@iterator"],typeof e=="function"?e:null)}var cg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dg=Object.assign,hg={};function Zi(e,t,r){this.props=e,this.context=t,this.refs=hg,this.updater=r||cg}Zi.prototype.isReactComponent={};Zi.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Zi.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function fg(){}fg.prototype=Zi.prototype;function Bc(e,t,r){this.props=e,this.context=t,this.refs=hg,this.updater=r||cg}var Wc=Bc.prototype=new fg;Wc.constructor=Bc;dg(Wc,Zi.prototype);Wc.isPureReactComponent=!0;var ph=Array.isArray,pg=Object.prototype.hasOwnProperty,Vc={current:null},gg={key:!0,ref:!0,__self:!0,__source:!0};function mg(e,t,r){var n,i={},o=null,s=null;if(t!=null)for(n in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)pg.call(t,n)&&!gg.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(n in a=e.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:us,type:e,key:o,ref:s,props:i,_owner:Vc.current}}function p0(e,t){return{$$typeof:us,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Zc(e){return typeof e=="object"&&e!==null&&e.$$typeof===us}function g0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gh=/\/+/g;function Il(e,t){return typeof e=="object"&&e!==null&&e.key!=null?g0(""+e.key):t.toString(36)}function oa(e,t,r,n,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case us:case n0:s=!0}}if(s)return s=e,i=i(s),e=n===""?"."+Il(s,0):n,ph(i)?(r="",e!=null&&(r=e.replace(gh,"$&/")+"/"),oa(i,t,r,"",function(u){return u})):i!=null&&(Zc(i)&&(i=p0(i,r+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(gh,"$&/")+"/")+e)),t.push(i)),1;if(s=0,n=n===""?".":n+":",ph(e))for(var a=0;a<e.length;a++){o=e[a];var l=n+Il(o,a);s+=oa(o,t,r,l,i)}else if(l=f0(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=n+Il(o,a++),s+=oa(o,t,r,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Os(e,t,r){if(e==null)return e;var n=[],i=0;return oa(e,n,"","",function(o){return t.call(r,o,i++)}),n}function m0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ot={current:null},sa={transition:null},y0={ReactCurrentDispatcher:Ot,ReactCurrentBatchConfig:sa,ReactCurrentOwner:Vc};function yg(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Os,forEach:function(e,t,r){Os(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return Os(e,function(){t++}),t},toArray:function(e){return Os(e,function(t){return t})||[]},only:function(e){if(!Zc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};be.Component=Zi;be.Fragment=i0;be.Profiler=s0;be.PureComponent=Bc;be.StrictMode=o0;be.Suspense=c0;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y0;be.act=yg;be.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=dg({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=Vc.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)pg.call(t,l)&&!gg.hasOwnProperty(l)&&(n[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:us,type:e.type,key:i,ref:o,props:n,_owner:s}};be.createContext=function(e){return e={$$typeof:l0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:a0,_context:e},e.Consumer=e};be.createElement=mg;be.createFactory=function(e){var t=mg.bind(null,e);return t.type=e,t};be.createRef=function(){return{current:null}};be.forwardRef=function(e){return{$$typeof:u0,render:e}};be.isValidElement=Zc;be.lazy=function(e){return{$$typeof:h0,_payload:{_status:-1,_result:e},_init:m0}};be.memo=function(e,t){return{$$typeof:d0,type:e,compare:t===void 0?null:t}};be.startTransition=function(e){var t=sa.transition;sa.transition={};try{e()}finally{sa.transition=t}};be.unstable_act=yg;be.useCallback=function(e,t){return Ot.current.useCallback(e,t)};be.useContext=function(e){return Ot.current.useContext(e)};be.useDebugValue=function(){};be.useDeferredValue=function(e){return Ot.current.useDeferredValue(e)};be.useEffect=function(e,t){return Ot.current.useEffect(e,t)};be.useId=function(){return Ot.current.useId()};be.useImperativeHandle=function(e,t,r){return Ot.current.useImperativeHandle(e,t,r)};be.useInsertionEffect=function(e,t){return Ot.current.useInsertionEffect(e,t)};be.useLayoutEffect=function(e,t){return Ot.current.useLayoutEffect(e,t)};be.useMemo=function(e,t){return Ot.current.useMemo(e,t)};be.useReducer=function(e,t,r){return Ot.current.useReducer(e,t,r)};be.useRef=function(e){return Ot.current.useRef(e)};be.useState=function(e){return Ot.current.useState(e)};be.useSyncExternalStore=function(e,t,r){return Ot.current.useSyncExternalStore(e,t,r)};be.useTransition=function(){return Ot.current.useTransition()};be.version="18.3.1";ug.exports=be;var S=ug.exports;const It=t0(S);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=S,w0=Symbol.for("react.element"),_0=Symbol.for("react.fragment"),S0=Object.prototype.hasOwnProperty,x0=v0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,b0={key:!0,ref:!0,__self:!0,__source:!0};function vg(e,t,r){var n,i={},o=null,s=null;r!==void 0&&(o=""+r),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(n in t)S0.call(t,n)&&!b0.hasOwnProperty(n)&&(i[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)i[n]===void 0&&(i[n]=t[n]);return{$$typeof:w0,type:e,key:o,ref:s,props:i,_owner:x0.current}}rl.Fragment=_0;rl.jsx=vg;rl.jsxs=vg;lg.exports=rl;var Hc=lg.exports;const qc=Hc.Fragment,h=Hc.jsx,_=Hc.jsxs;var wg={exports:{}},Qt={},_g={exports:{}},Sg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(U,W){var Q=U.length;U.push(W);e:for(;0<Q;){var ge=Q-1>>>1,Ee=U[ge];if(0<i(Ee,W))U[ge]=W,U[Q]=Ee,Q=ge;else break e}}function r(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var W=U[0],Q=U.pop();if(Q!==W){U[0]=Q;e:for(var ge=0,Ee=U.length,Ie=Ee>>>1;ge<Ie;){var Z=2*(ge+1)-1,z=U[Z],B=Z+1,me=U[B];if(0>i(z,Q))B<Ee&&0>i(me,z)?(U[ge]=me,U[B]=Q,ge=B):(U[ge]=z,U[Z]=Q,ge=Z);else if(B<Ee&&0>i(me,Q))U[ge]=me,U[B]=Q,ge=B;else break e}}return W}function i(U,W){var Q=U.sortIndex-W.sortIndex;return Q!==0?Q:U.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,f=3,g=!1,w=!1,v=!1,C=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(U){for(var W=r(u);W!==null;){if(W.callback===null)n(u);else if(W.startTime<=U)n(u),W.sortIndex=W.expirationTime,t(l,W);else break;W=r(u)}}function b(U){if(v=!1,p(U),!w)if(r(l)!==null)w=!0,ce(T);else{var W=r(u);W!==null&&ke(b,W.startTime-U)}}function T(U,W){w=!1,v&&(v=!1,y($),$=-1),g=!0;var Q=f;try{for(p(W),d=r(l);d!==null&&(!(d.expirationTime>W)||U&&!we());){var ge=d.callback;if(typeof ge=="function"){d.callback=null,f=d.priorityLevel;var Ee=ge(d.expirationTime<=W);W=e.unstable_now(),typeof Ee=="function"?d.callback=Ee:d===r(l)&&n(l),p(W)}else n(l);d=r(l)}if(d!==null)var Ie=!0;else{var Z=r(u);Z!==null&&ke(b,Z.startTime-W),Ie=!1}return Ie}finally{d=null,f=Q,g=!1}}var x=!1,A=null,$=-1,V=5,J=-1;function we(){return!(e.unstable_now()-J<V)}function te(){if(A!==null){var U=e.unstable_now();J=U;var W=!0;try{W=A(!0,U)}finally{W?ue():(x=!1,A=null)}}else x=!1}var ue;if(typeof m=="function")ue=function(){m(te)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,oe=ne.port2;ne.port1.onmessage=te,ue=function(){oe.postMessage(null)}}else ue=function(){C(te,0)};function ce(U){A=U,x||(x=!0,ue())}function ke(U,W){$=C(function(){U(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(U){U.callback=null},e.unstable_continueExecution=function(){w||g||(w=!0,ce(T))},e.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<U?Math.floor(1e3/U):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_getFirstCallbackNode=function(){return r(l)},e.unstable_next=function(U){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var Q=f;f=W;try{return U()}finally{f=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(U,W){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var Q=f;f=U;try{return W()}finally{f=Q}},e.unstable_scheduleCallback=function(U,W,Q){var ge=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ge+Q:ge):Q=ge,U){case 1:var Ee=-1;break;case 2:Ee=250;break;case 5:Ee=1073741823;break;case 4:Ee=1e4;break;default:Ee=5e3}return Ee=Q+Ee,U={id:c++,callback:W,priorityLevel:U,startTime:Q,expirationTime:Ee,sortIndex:-1},Q>ge?(U.sortIndex=Q,t(u,U),r(l)===null&&U===r(u)&&(v?(y($),$=-1):v=!0,ke(b,Q-ge))):(U.sortIndex=Ee,t(l,U),w||g||(w=!0,ce(T))),U},e.unstable_shouldYield=we,e.unstable_wrapCallback=function(U){var W=f;return function(){var Q=f;f=W;try{return U.apply(this,arguments)}finally{f=Q}}}})(Sg);_g.exports=Sg;var k0=_g.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0=S,Gt=k0;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xg=new Set,Mo={};function Gn(e,t){Ni(e,t),Ni(e+"Capture",t)}function Ni(e,t){for(Mo[e]=t,e=0;e<t.length;e++)xg.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tu=Object.prototype.hasOwnProperty,C0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,mh={},yh={};function P0(e){return Tu.call(yh,e)?!0:Tu.call(mh,e)?!1:C0.test(e)?yh[e]=!0:(mh[e]=!0,!1)}function T0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function R0(e,t,r,n){if(t===null||typeof t>"u"||T0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function $t(e,t,r,n,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new $t(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new $t(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new $t(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new $t(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new $t(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new $t(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new $t(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new $t(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new $t(e,5,!1,e.toLowerCase(),null,!1,!1)});var Kc=/[\-:]([a-z])/g;function Gc(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Kc,Gc);wt[t]=new $t(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Kc,Gc);wt[t]=new $t(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Kc,Gc);wt[t]=new $t(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new $t(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new $t(e,1,!1,e.toLowerCase(),null,!0,!0)});function Qc(e,t,r,n){var i=wt.hasOwnProperty(t)?wt[t]:null;(i!==null?i.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(R0(t,r,i,n)&&(r=null),n||i===null?P0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=r===null?i.type===3?!1:"":r:(t=i.attributeName,n=i.attributeNamespace,r===null?e.removeAttribute(t):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Br=E0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$s=Symbol.for("react.element"),vi=Symbol.for("react.portal"),wi=Symbol.for("react.fragment"),Jc=Symbol.for("react.strict_mode"),Ru=Symbol.for("react.profiler"),bg=Symbol.for("react.provider"),kg=Symbol.for("react.context"),Yc=Symbol.for("react.forward_ref"),Au=Symbol.for("react.suspense"),Du=Symbol.for("react.suspense_list"),Xc=Symbol.for("react.memo"),Yr=Symbol.for("react.lazy"),Eg=Symbol.for("react.offscreen"),vh=Symbol.iterator;function no(e){return e===null||typeof e!="object"?null:(e=vh&&e[vh]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,zl;function vo(e){if(zl===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);zl=t&&t[1]||""}return`
`+zl+e}var Ll=!1;function Nl(e,t){if(!e||Ll)return"";Ll=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=n.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{Ll=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?vo(e):""}function A0(e){switch(e.tag){case 5:return vo(e.type);case 16:return vo("Lazy");case 13:return vo("Suspense");case 19:return vo("SuspenseList");case 0:case 2:case 15:return e=Nl(e.type,!1),e;case 11:return e=Nl(e.type.render,!1),e;case 1:return e=Nl(e.type,!0),e;default:return""}}function Ou(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case wi:return"Fragment";case vi:return"Portal";case Ru:return"Profiler";case Jc:return"StrictMode";case Au:return"Suspense";case Du:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case kg:return(e.displayName||"Context")+".Consumer";case bg:return(e._context.displayName||"Context")+".Provider";case Yc:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Xc:return t=e.displayName||null,t!==null?t:Ou(e.type)||"Memo";case Yr:t=e._payload,e=e._init;try{return Ou(e(t))}catch{}}return null}function D0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ou(t);case 8:return t===Jc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function vn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Cg(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function O0(e){var t=Cg(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){n=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(s){n=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Is(e){e._valueTracker||(e._valueTracker=O0(e))}function Pg(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=Cg(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function xa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function $u(e,t){var r=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function wh(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=vn(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Tg(e,t){t=t.checked,t!=null&&Qc(e,"checked",t,!1)}function Iu(e,t){Tg(e,t);var r=vn(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?zu(e,t.type,r):t.hasOwnProperty("defaultValue")&&zu(e,t.type,vn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function _h(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function zu(e,t,r){(t!=="number"||xa(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var wo=Array.isArray;function Ai(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+vn(r),t=null,i=0;i<e.length;i++){if(e[i].value===r){e[i].selected=!0,n&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Lu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Sh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(F(92));if(wo(r)){if(1<r.length)throw Error(F(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:vn(r)}}function Rg(e,t){var r=vn(t.value),n=vn(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function xh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Ag(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nu(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Ag(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var zs,Dg=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,i){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(zs=zs||document.createElement("div"),zs.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=zs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Fo(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ko={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$0=["Webkit","ms","Moz","O"];Object.keys(ko).forEach(function(e){$0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ko[t]=ko[e]})});function Og(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ko.hasOwnProperty(e)&&ko[e]?(""+t).trim():t+"px"}function $g(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=Og(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}var I0=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ju(e,t){if(t){if(I0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function Mu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fu=null;function ed(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Uu=null,Di=null,Oi=null;function bh(e){if(e=hs(e)){if(typeof Uu!="function")throw Error(F(280));var t=e.stateNode;t&&(t=al(t),Uu(e.stateNode,e.type,t))}}function Ig(e){Di?Oi?Oi.push(e):Oi=[e]:Di=e}function zg(){if(Di){var e=Di,t=Oi;if(Oi=Di=null,bh(e),t)for(e=0;e<t.length;e++)bh(t[e])}}function Lg(e,t){return e(t)}function Ng(){}var jl=!1;function jg(e,t,r){if(jl)return e(t,r);jl=!0;try{return Lg(e,t,r)}finally{jl=!1,(Di!==null||Oi!==null)&&(Ng(),zg())}}function Uo(e,t){var r=e.stateNode;if(r===null)return null;var n=al(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(F(231,t,typeof r));return r}var Bu=!1;if(jr)try{var io={};Object.defineProperty(io,"passive",{get:function(){Bu=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{Bu=!1}function z0(e,t,r,n,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(c){this.onError(c)}}var Eo=!1,ba=null,ka=!1,Wu=null,L0={onError:function(e){Eo=!0,ba=e}};function N0(e,t,r,n,i,o,s,a,l){Eo=!1,ba=null,z0.apply(L0,arguments)}function j0(e,t,r,n,i,o,s,a,l){if(N0.apply(this,arguments),Eo){if(Eo){var u=ba;Eo=!1,ba=null}else throw Error(F(198));ka||(ka=!0,Wu=u)}}function Qn(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Mg(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kh(e){if(Qn(e)!==e)throw Error(F(188))}function M0(e){var t=e.alternate;if(!t){if(t=Qn(e),t===null)throw Error(F(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(i===null)break;var o=i.alternate;if(o===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===r)return kh(i),e;if(o===n)return kh(i),t;o=o.sibling}throw Error(F(188))}if(r.return!==n.return)r=i,n=o;else{for(var s=!1,a=i.child;a;){if(a===r){s=!0,r=i,n=o;break}if(a===n){s=!0,n=i,r=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===r){s=!0,r=o,n=i;break}if(a===n){s=!0,n=o,r=i;break}a=a.sibling}if(!s)throw Error(F(189))}}if(r.alternate!==n)throw Error(F(190))}if(r.tag!==3)throw Error(F(188));return r.stateNode.current===r?e:t}function Fg(e){return e=M0(e),e!==null?Ug(e):null}function Ug(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ug(e);if(t!==null)return t;e=e.sibling}return null}var Bg=Gt.unstable_scheduleCallback,Eh=Gt.unstable_cancelCallback,F0=Gt.unstable_shouldYield,U0=Gt.unstable_requestPaint,Xe=Gt.unstable_now,B0=Gt.unstable_getCurrentPriorityLevel,td=Gt.unstable_ImmediatePriority,Wg=Gt.unstable_UserBlockingPriority,Ea=Gt.unstable_NormalPriority,W0=Gt.unstable_LowPriority,Vg=Gt.unstable_IdlePriority,nl=null,Er=null;function V0(e){if(Er&&typeof Er.onCommitFiberRoot=="function")try{Er.onCommitFiberRoot(nl,e,void 0,(e.current.flags&128)===128)}catch{}}var gr=Math.clz32?Math.clz32:q0,Z0=Math.log,H0=Math.LN2;function q0(e){return e>>>=0,e===0?32:31-(Z0(e)/H0|0)|0}var Ls=64,Ns=4194304;function _o(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ca(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=r&268435455;if(s!==0){var a=s&~i;a!==0?n=_o(a):(o&=s,o!==0&&(n=_o(o)))}else s=r&~i,s!==0?n=_o(s):o!==0&&(n=_o(o));if(n===0)return 0;if(t!==0&&t!==n&&!(t&i)&&(i=n&-n,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-gr(t),i=1<<r,n|=e[r],t&=~i;return n}function K0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function G0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-gr(o),a=1<<s,l=i[s];l===-1?(!(a&r)||a&n)&&(i[s]=K0(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Vu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zg(){var e=Ls;return Ls<<=1,!(Ls&4194240)&&(Ls=64),e}function Ml(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function cs(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-gr(t),e[t]=r}function Q0(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-gr(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}function rd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-gr(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var Ae=0;function Hg(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qg,nd,Kg,Gg,Qg,Zu=!1,js=[],cn=null,dn=null,hn=null,Bo=new Map,Wo=new Map,tn=[],J0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ch(e,t){switch(e){case"focusin":case"focusout":cn=null;break;case"dragenter":case"dragleave":dn=null;break;case"mouseover":case"mouseout":hn=null;break;case"pointerover":case"pointerout":Bo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wo.delete(t.pointerId)}}function oo(e,t,r,n,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},t!==null&&(t=hs(t),t!==null&&nd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Y0(e,t,r,n,i){switch(t){case"focusin":return cn=oo(cn,e,t,r,n,i),!0;case"dragenter":return dn=oo(dn,e,t,r,n,i),!0;case"mouseover":return hn=oo(hn,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return Bo.set(o,oo(Bo.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Wo.set(o,oo(Wo.get(o)||null,e,t,r,n,i)),!0}return!1}function Jg(e){var t=zn(e.target);if(t!==null){var r=Qn(t);if(r!==null){if(t=r.tag,t===13){if(t=Mg(r),t!==null){e.blockedOn=t,Qg(e.priority,function(){Kg(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function aa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Hu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Fu=n,r.target.dispatchEvent(n),Fu=null}else return t=hs(r),t!==null&&nd(t),e.blockedOn=r,!1;t.shift()}return!0}function Ph(e,t,r){aa(e)&&r.delete(t)}function X0(){Zu=!1,cn!==null&&aa(cn)&&(cn=null),dn!==null&&aa(dn)&&(dn=null),hn!==null&&aa(hn)&&(hn=null),Bo.forEach(Ph),Wo.forEach(Ph)}function so(e,t){e.blockedOn===t&&(e.blockedOn=null,Zu||(Zu=!0,Gt.unstable_scheduleCallback(Gt.unstable_NormalPriority,X0)))}function Vo(e){function t(i){return so(i,e)}if(0<js.length){so(js[0],e);for(var r=1;r<js.length;r++){var n=js[r];n.blockedOn===e&&(n.blockedOn=null)}}for(cn!==null&&so(cn,e),dn!==null&&so(dn,e),hn!==null&&so(hn,e),Bo.forEach(t),Wo.forEach(t),r=0;r<tn.length;r++)n=tn[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<tn.length&&(r=tn[0],r.blockedOn===null);)Jg(r),r.blockedOn===null&&tn.shift()}var $i=Br.ReactCurrentBatchConfig,Pa=!0;function ew(e,t,r,n){var i=Ae,o=$i.transition;$i.transition=null;try{Ae=1,id(e,t,r,n)}finally{Ae=i,$i.transition=o}}function tw(e,t,r,n){var i=Ae,o=$i.transition;$i.transition=null;try{Ae=4,id(e,t,r,n)}finally{Ae=i,$i.transition=o}}function id(e,t,r,n){if(Pa){var i=Hu(e,t,r,n);if(i===null)Gl(e,t,n,Ta,r),Ch(e,n);else if(Y0(i,e,t,r,n))n.stopPropagation();else if(Ch(e,n),t&4&&-1<J0.indexOf(e)){for(;i!==null;){var o=hs(i);if(o!==null&&qg(o),o=Hu(e,t,r,n),o===null&&Gl(e,t,n,Ta,r),o===i)break;i=o}i!==null&&n.stopPropagation()}else Gl(e,t,n,null,r)}}var Ta=null;function Hu(e,t,r,n){if(Ta=null,e=ed(n),e=zn(e),e!==null)if(t=Qn(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Mg(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ta=e,null}function Yg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(B0()){case td:return 1;case Wg:return 4;case Ea:case W0:return 16;case Vg:return 536870912;default:return 16}default:return 16}}var ln=null,od=null,la=null;function Xg(){if(la)return la;var e,t=od,r=t.length,n,i="value"in ln?ln.value:ln.textContent,o=i.length;for(e=0;e<r&&t[e]===i[e];e++);var s=r-e;for(n=1;n<=s&&t[r-n]===i[o-n];n++);return la=i.slice(e,1<n?1-n:void 0)}function ua(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ms(){return!0}function Th(){return!1}function Jt(e){function t(r,n,i,o,s){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(r=e[a],this[a]=r?r(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ms:Th,this.isPropagationStopped=Th,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Ms)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Ms)},persist:function(){},isPersistent:Ms}),t}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sd=Jt(Hi),ds=Ke({},Hi,{view:0,detail:0}),rw=Jt(ds),Fl,Ul,ao,il=Ke({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ad,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ao&&(ao&&e.type==="mousemove"?(Fl=e.screenX-ao.screenX,Ul=e.screenY-ao.screenY):Ul=Fl=0,ao=e),Fl)},movementY:function(e){return"movementY"in e?e.movementY:Ul}}),Rh=Jt(il),nw=Ke({},il,{dataTransfer:0}),iw=Jt(nw),ow=Ke({},ds,{relatedTarget:0}),Bl=Jt(ow),sw=Ke({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),aw=Jt(sw),lw=Ke({},Hi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uw=Jt(lw),cw=Ke({},Hi,{data:0}),Ah=Jt(cw),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pw(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fw[e])?!!t[e]:!1}function ad(){return pw}var gw=Ke({},ds,{key:function(e){if(e.key){var t=dw[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ua(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hw[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ad,charCode:function(e){return e.type==="keypress"?ua(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ua(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mw=Jt(gw),yw=Ke({},il,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dh=Jt(yw),vw=Ke({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ad}),ww=Jt(vw),_w=Ke({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sw=Jt(_w),xw=Ke({},il,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),bw=Jt(xw),kw=[9,13,27,32],ld=jr&&"CompositionEvent"in window,Co=null;jr&&"documentMode"in document&&(Co=document.documentMode);var Ew=jr&&"TextEvent"in window&&!Co,em=jr&&(!ld||Co&&8<Co&&11>=Co),Oh=String.fromCharCode(32),$h=!1;function tm(e,t){switch(e){case"keyup":return kw.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rm(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _i=!1;function Cw(e,t){switch(e){case"compositionend":return rm(t);case"keypress":return t.which!==32?null:($h=!0,Oh);case"textInput":return e=t.data,e===Oh&&$h?null:e;default:return null}}function Pw(e,t){if(_i)return e==="compositionend"||!ld&&tm(e,t)?(e=Xg(),la=od=ln=null,_i=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return em&&t.locale!=="ko"?null:t.data;default:return null}}var Tw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ih(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Tw[e.type]:t==="textarea"}function nm(e,t,r,n){Ig(n),t=Ra(t,"onChange"),0<t.length&&(r=new sd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Po=null,Zo=null;function Rw(e){pm(e,0)}function ol(e){var t=bi(e);if(Pg(t))return e}function Aw(e,t){if(e==="change")return t}var im=!1;if(jr){var Wl;if(jr){var Vl="oninput"in document;if(!Vl){var zh=document.createElement("div");zh.setAttribute("oninput","return;"),Vl=typeof zh.oninput=="function"}Wl=Vl}else Wl=!1;im=Wl&&(!document.documentMode||9<document.documentMode)}function Lh(){Po&&(Po.detachEvent("onpropertychange",om),Zo=Po=null)}function om(e){if(e.propertyName==="value"&&ol(Zo)){var t=[];nm(t,Zo,e,ed(e)),jg(Rw,t)}}function Dw(e,t,r){e==="focusin"?(Lh(),Po=t,Zo=r,Po.attachEvent("onpropertychange",om)):e==="focusout"&&Lh()}function Ow(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ol(Zo)}function $w(e,t){if(e==="click")return ol(t)}function Iw(e,t){if(e==="input"||e==="change")return ol(t)}function zw(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yr=typeof Object.is=="function"?Object.is:zw;function Ho(e,t){if(yr(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tu.call(t,i)||!yr(e[i],t[i]))return!1}return!0}function Nh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jh(e,t){var r=Nh(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nh(r)}}function sm(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?sm(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function am(){for(var e=window,t=xa();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=xa(e.document)}return t}function ud(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Lw(e){var t=am(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&sm(r.ownerDocument.documentElement,r)){if(n!==null&&ud(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=n.end===void 0?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=jh(r,o);var s=jh(r,n);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nw=jr&&"documentMode"in document&&11>=document.documentMode,Si=null,qu=null,To=null,Ku=!1;function Mh(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Ku||Si==null||Si!==xa(n)||(n=Si,"selectionStart"in n&&ud(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),To&&Ho(To,n)||(To=n,n=Ra(qu,"onSelect"),0<n.length&&(t=new sd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Si)))}function Fs(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var xi={animationend:Fs("Animation","AnimationEnd"),animationiteration:Fs("Animation","AnimationIteration"),animationstart:Fs("Animation","AnimationStart"),transitionend:Fs("Transition","TransitionEnd")},Zl={},lm={};jr&&(lm=document.createElement("div").style,"AnimationEvent"in window||(delete xi.animationend.animation,delete xi.animationiteration.animation,delete xi.animationstart.animation),"TransitionEvent"in window||delete xi.transitionend.transition);function sl(e){if(Zl[e])return Zl[e];if(!xi[e])return e;var t=xi[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in lm)return Zl[e]=t[r];return e}var um=sl("animationend"),cm=sl("animationiteration"),dm=sl("animationstart"),hm=sl("transitionend"),fm=new Map,Fh="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sn(e,t){fm.set(e,t),Gn(t,[e])}for(var Hl=0;Hl<Fh.length;Hl++){var ql=Fh[Hl],jw=ql.toLowerCase(),Mw=ql[0].toUpperCase()+ql.slice(1);Sn(jw,"on"+Mw)}Sn(um,"onAnimationEnd");Sn(cm,"onAnimationIteration");Sn(dm,"onAnimationStart");Sn("dblclick","onDoubleClick");Sn("focusin","onFocus");Sn("focusout","onBlur");Sn(hm,"onTransitionEnd");Ni("onMouseEnter",["mouseout","mouseover"]);Ni("onMouseLeave",["mouseout","mouseover"]);Ni("onPointerEnter",["pointerout","pointerover"]);Ni("onPointerLeave",["pointerout","pointerover"]);Gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Gn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var So="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Fw=new Set("cancel close invalid load scroll toggle".split(" ").concat(So));function Uh(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,j0(n,t,void 0,e),e.currentTarget=null}function pm(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;Uh(i,a,u),o=l}else for(s=0;s<n.length;s++){if(a=n[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;Uh(i,a,u),o=l}}}if(ka)throw e=Wu,ka=!1,Wu=null,e}function Fe(e,t){var r=t[Xu];r===void 0&&(r=t[Xu]=new Set);var n=e+"__bubble";r.has(n)||(gm(t,e,2,!1),r.add(n))}function Kl(e,t,r){var n=0;t&&(n|=4),gm(r,e,n,t)}var Us="_reactListening"+Math.random().toString(36).slice(2);function qo(e){if(!e[Us]){e[Us]=!0,xg.forEach(function(r){r!=="selectionchange"&&(Fw.has(r)||Kl(r,!1,e),Kl(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Us]||(t[Us]=!0,Kl("selectionchange",!1,t))}}function gm(e,t,r,n){switch(Yg(t)){case 1:var i=ew;break;case 4:i=tw;break;default:i=id}r=i.bind(null,t,r,e),i=void 0,!Bu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),n?i!==void 0?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):i!==void 0?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Gl(e,t,r,n,i){var o=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var s=n.tag;if(s===3||s===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=n.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=zn(a),s===null)return;if(l=s.tag,l===5||l===6){n=o=s;continue e}a=a.parentNode}}n=n.return}jg(function(){var u=o,c=ed(r),d=[];e:{var f=fm.get(e);if(f!==void 0){var g=sd,w=e;switch(e){case"keypress":if(ua(r)===0)break e;case"keydown":case"keyup":g=mw;break;case"focusin":w="focus",g=Bl;break;case"focusout":w="blur",g=Bl;break;case"beforeblur":case"afterblur":g=Bl;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=iw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=ww;break;case um:case cm:case dm:g=aw;break;case hm:g=Sw;break;case"scroll":g=rw;break;case"wheel":g=bw;break;case"copy":case"cut":case"paste":g=uw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Dh}var v=(t&4)!==0,C=!v&&e==="scroll",y=v?f!==null?f+"Capture":null:f;v=[];for(var m=u,p;m!==null;){p=m;var b=p.stateNode;if(p.tag===5&&b!==null&&(p=b,y!==null&&(b=Uo(m,y),b!=null&&v.push(Ko(m,b,p)))),C)break;m=m.return}0<v.length&&(f=new g(f,w,null,r,c),d.push({event:f,listeners:v}))}}if(!(t&7)){e:{if(f=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",f&&r!==Fu&&(w=r.relatedTarget||r.fromElement)&&(zn(w)||w[Mr]))break e;if((g||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,g?(w=r.relatedTarget||r.toElement,g=u,w=w?zn(w):null,w!==null&&(C=Qn(w),w!==C||w.tag!==5&&w.tag!==6)&&(w=null)):(g=null,w=u),g!==w)){if(v=Rh,b="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(v=Dh,b="onPointerLeave",y="onPointerEnter",m="pointer"),C=g==null?f:bi(g),p=w==null?f:bi(w),f=new v(b,m+"leave",g,r,c),f.target=C,f.relatedTarget=p,b=null,zn(c)===u&&(v=new v(y,m+"enter",w,r,c),v.target=p,v.relatedTarget=C,b=v),C=b,g&&w)t:{for(v=g,y=w,m=0,p=v;p;p=li(p))m++;for(p=0,b=y;b;b=li(b))p++;for(;0<m-p;)v=li(v),m--;for(;0<p-m;)y=li(y),p--;for(;m--;){if(v===y||y!==null&&v===y.alternate)break t;v=li(v),y=li(y)}v=null}else v=null;g!==null&&Bh(d,f,g,v,!1),w!==null&&C!==null&&Bh(d,C,w,v,!0)}}e:{if(f=u?bi(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var T=Aw;else if(Ih(f))if(im)T=Iw;else{T=Ow;var x=Dw}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(T=$w);if(T&&(T=T(e,u))){nm(d,T,r,c);break e}x&&x(e,f,u),e==="focusout"&&(x=f._wrapperState)&&x.controlled&&f.type==="number"&&zu(f,"number",f.value)}switch(x=u?bi(u):window,e){case"focusin":(Ih(x)||x.contentEditable==="true")&&(Si=x,qu=u,To=null);break;case"focusout":To=qu=Si=null;break;case"mousedown":Ku=!0;break;case"contextmenu":case"mouseup":case"dragend":Ku=!1,Mh(d,r,c);break;case"selectionchange":if(Nw)break;case"keydown":case"keyup":Mh(d,r,c)}var A;if(ld)e:{switch(e){case"compositionstart":var $="onCompositionStart";break e;case"compositionend":$="onCompositionEnd";break e;case"compositionupdate":$="onCompositionUpdate";break e}$=void 0}else _i?tm(e,r)&&($="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&($="onCompositionStart");$&&(em&&r.locale!=="ko"&&(_i||$!=="onCompositionStart"?$==="onCompositionEnd"&&_i&&(A=Xg()):(ln=c,od="value"in ln?ln.value:ln.textContent,_i=!0)),x=Ra(u,$),0<x.length&&($=new Ah($,e,null,r,c),d.push({event:$,listeners:x}),A?$.data=A:(A=rm(r),A!==null&&($.data=A)))),(A=Ew?Cw(e,r):Pw(e,r))&&(u=Ra(u,"onBeforeInput"),0<u.length&&(c=new Ah("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=A))}pm(d,t)})}function Ko(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Ra(e,t){for(var r=t+"Capture",n=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Uo(e,r),o!=null&&n.unshift(Ko(e,o,i)),o=Uo(e,t),o!=null&&n.push(Ko(e,o,i))),e=e.return}return n}function li(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bh(e,t,r,n,i){for(var o=t._reactName,s=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Uo(r,o),l!=null&&s.unshift(Ko(r,l,a))):i||(l=Uo(r,o),l!=null&&s.push(Ko(r,l,a)))),r=r.return}s.length!==0&&e.push({event:t,listeners:s})}var Uw=/\r\n?/g,Bw=/\u0000|\uFFFD/g;function Wh(e){return(typeof e=="string"?e:""+e).replace(Uw,`
`).replace(Bw,"")}function Bs(e,t,r){if(t=Wh(t),Wh(e)!==t&&r)throw Error(F(425))}function Aa(){}var Gu=null,Qu=null;function Ju(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Yu=typeof setTimeout=="function"?setTimeout:void 0,Ww=typeof clearTimeout=="function"?clearTimeout:void 0,Vh=typeof Promise=="function"?Promise:void 0,Vw=typeof queueMicrotask=="function"?queueMicrotask:typeof Vh<"u"?function(e){return Vh.resolve(null).then(e).catch(Zw)}:Yu;function Zw(e){setTimeout(function(){throw e})}function Ql(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){e.removeChild(i),Vo(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vo(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var qi=Math.random().toString(36).slice(2),br="__reactFiber$"+qi,Go="__reactProps$"+qi,Mr="__reactContainer$"+qi,Xu="__reactEvents$"+qi,Hw="__reactListeners$"+qi,qw="__reactHandles$"+qi;function zn(e){var t=e[br];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Mr]||r[br]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Zh(e);e!==null;){if(r=e[br])return r;e=Zh(e)}return t}e=r,r=e.parentNode}return null}function hs(e){return e=e[br]||e[Mr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function bi(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function al(e){return e[Go]||null}var ec=[],ki=-1;function xn(e){return{current:e}}function Ue(e){0>ki||(e.current=ec[ki],ec[ki]=null,ki--)}function Ne(e,t){ki++,ec[ki]=e.current,e.current=t}var wn={},Ct=xn(wn),Ut=xn(!1),Bn=wn;function ji(e,t){var r=e.type.contextTypes;if(!r)return wn;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in r)i[o]=t[o];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Bt(e){return e=e.childContextTypes,e!=null}function Da(){Ue(Ut),Ue(Ct)}function Hh(e,t,r){if(Ct.current!==wn)throw Error(F(168));Ne(Ct,t),Ne(Ut,r)}function mm(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in t))throw Error(F(108,D0(e)||"Unknown",i));return Ke({},r,n)}function Oa(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Bn=Ct.current,Ne(Ct,e),Ne(Ut,Ut.current),!0}function qh(e,t,r){var n=e.stateNode;if(!n)throw Error(F(169));r?(e=mm(e,t,Bn),n.__reactInternalMemoizedMergedChildContext=e,Ue(Ut),Ue(Ct),Ne(Ct,e)):Ue(Ut),Ne(Ut,r)}var Ir=null,ll=!1,Jl=!1;function ym(e){Ir===null?Ir=[e]:Ir.push(e)}function Kw(e){ll=!0,ym(e)}function bn(){if(!Jl&&Ir!==null){Jl=!0;var e=0,t=Ae;try{var r=Ir;for(Ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}Ir=null,ll=!1}catch(i){throw Ir!==null&&(Ir=Ir.slice(e+1)),Bg(td,bn),i}finally{Ae=t,Jl=!1}}return null}var Ei=[],Ci=0,$a=null,Ia=0,Xt=[],er=0,Wn=null,zr=1,Lr="";function Dn(e,t){Ei[Ci++]=Ia,Ei[Ci++]=$a,$a=e,Ia=t}function vm(e,t,r){Xt[er++]=zr,Xt[er++]=Lr,Xt[er++]=Wn,Wn=e;var n=zr;e=Lr;var i=32-gr(n)-1;n&=~(1<<i),r+=1;var o=32-gr(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,zr=1<<32-gr(t)+i|r<<i|n,Lr=o+e}else zr=1<<o|r<<i|n,Lr=e}function cd(e){e.return!==null&&(Dn(e,1),vm(e,1,0))}function dd(e){for(;e===$a;)$a=Ei[--Ci],Ei[Ci]=null,Ia=Ei[--Ci],Ei[Ci]=null;for(;e===Wn;)Wn=Xt[--er],Xt[er]=null,Lr=Xt[--er],Xt[er]=null,zr=Xt[--er],Xt[er]=null}var Kt=null,qt=null,We=!1,hr=null;function wm(e,t){var r=tr(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Kh(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Kt=e,qt=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Kt=e,qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Wn!==null?{id:zr,overflow:Lr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=tr(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,Kt=e,qt=null,!0):!1;default:return!1}}function tc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rc(e){if(We){var t=qt;if(t){var r=t;if(!Kh(e,t)){if(tc(e))throw Error(F(418));t=fn(r.nextSibling);var n=Kt;t&&Kh(e,t)?wm(n,r):(e.flags=e.flags&-4097|2,We=!1,Kt=e)}}else{if(tc(e))throw Error(F(418));e.flags=e.flags&-4097|2,We=!1,Kt=e}}}function Gh(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Kt=e}function Ws(e){if(e!==Kt)return!1;if(!We)return Gh(e),We=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Ju(e.type,e.memoizedProps)),t&&(t=qt)){if(tc(e))throw _m(),Error(F(418));for(;t;)wm(e,t),t=fn(t.nextSibling)}if(Gh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){qt=fn(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}qt=null}}else qt=Kt?fn(e.stateNode.nextSibling):null;return!0}function _m(){for(var e=qt;e;)e=fn(e.nextSibling)}function Mi(){qt=Kt=null,We=!1}function hd(e){hr===null?hr=[e]:hr.push(e)}var Gw=Br.ReactCurrentBatchConfig;function lo(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(F(309));var n=r.stateNode}if(!n)throw Error(F(147,e));var i=n,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!r._owner)throw Error(F(290,e))}return e}function Vs(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qh(e){var t=e._init;return t(e._payload)}function Sm(e){function t(y,m){if(e){var p=y.deletions;p===null?(y.deletions=[m],y.flags|=16):p.push(m)}}function r(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function i(y,m){return y=yn(y,m),y.index=0,y.sibling=null,y}function o(y,m,p){return y.index=p,e?(p=y.alternate,p!==null?(p=p.index,p<m?(y.flags|=2,m):p):(y.flags|=2,m)):(y.flags|=1048576,m)}function s(y){return e&&y.alternate===null&&(y.flags|=2),y}function a(y,m,p,b){return m===null||m.tag!==6?(m=iu(p,y.mode,b),m.return=y,m):(m=i(m,p),m.return=y,m)}function l(y,m,p,b){var T=p.type;return T===wi?c(y,m,p.props.children,b,p.key):m!==null&&(m.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Yr&&Qh(T)===m.type)?(b=i(m,p.props),b.ref=lo(y,m,p),b.return=y,b):(b=ma(p.type,p.key,p.props,null,y.mode,b),b.ref=lo(y,m,p),b.return=y,b)}function u(y,m,p,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=ou(p,y.mode,b),m.return=y,m):(m=i(m,p.children||[]),m.return=y,m)}function c(y,m,p,b,T){return m===null||m.tag!==7?(m=Un(p,y.mode,b,T),m.return=y,m):(m=i(m,p),m.return=y,m)}function d(y,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=iu(""+m,y.mode,p),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case $s:return p=ma(m.type,m.key,m.props,null,y.mode,p),p.ref=lo(y,null,m),p.return=y,p;case vi:return m=ou(m,y.mode,p),m.return=y,m;case Yr:var b=m._init;return d(y,b(m._payload),p)}if(wo(m)||no(m))return m=Un(m,y.mode,p,null),m.return=y,m;Vs(y,m)}return null}function f(y,m,p,b){var T=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return T!==null?null:a(y,m,""+p,b);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:return p.key===T?l(y,m,p,b):null;case vi:return p.key===T?u(y,m,p,b):null;case Yr:return T=p._init,f(y,m,T(p._payload),b)}if(wo(p)||no(p))return T!==null?null:c(y,m,p,b,null);Vs(y,p)}return null}function g(y,m,p,b,T){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(p)||null,a(m,y,""+b,T);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case $s:return y=y.get(b.key===null?p:b.key)||null,l(m,y,b,T);case vi:return y=y.get(b.key===null?p:b.key)||null,u(m,y,b,T);case Yr:var x=b._init;return g(y,m,p,x(b._payload),T)}if(wo(b)||no(b))return y=y.get(p)||null,c(m,y,b,T,null);Vs(m,b)}return null}function w(y,m,p,b){for(var T=null,x=null,A=m,$=m=0,V=null;A!==null&&$<p.length;$++){A.index>$?(V=A,A=null):V=A.sibling;var J=f(y,A,p[$],b);if(J===null){A===null&&(A=V);break}e&&A&&J.alternate===null&&t(y,A),m=o(J,m,$),x===null?T=J:x.sibling=J,x=J,A=V}if($===p.length)return r(y,A),We&&Dn(y,$),T;if(A===null){for(;$<p.length;$++)A=d(y,p[$],b),A!==null&&(m=o(A,m,$),x===null?T=A:x.sibling=A,x=A);return We&&Dn(y,$),T}for(A=n(y,A);$<p.length;$++)V=g(A,y,$,p[$],b),V!==null&&(e&&V.alternate!==null&&A.delete(V.key===null?$:V.key),m=o(V,m,$),x===null?T=V:x.sibling=V,x=V);return e&&A.forEach(function(we){return t(y,we)}),We&&Dn(y,$),T}function v(y,m,p,b){var T=no(p);if(typeof T!="function")throw Error(F(150));if(p=T.call(p),p==null)throw Error(F(151));for(var x=T=null,A=m,$=m=0,V=null,J=p.next();A!==null&&!J.done;$++,J=p.next()){A.index>$?(V=A,A=null):V=A.sibling;var we=f(y,A,J.value,b);if(we===null){A===null&&(A=V);break}e&&A&&we.alternate===null&&t(y,A),m=o(we,m,$),x===null?T=we:x.sibling=we,x=we,A=V}if(J.done)return r(y,A),We&&Dn(y,$),T;if(A===null){for(;!J.done;$++,J=p.next())J=d(y,J.value,b),J!==null&&(m=o(J,m,$),x===null?T=J:x.sibling=J,x=J);return We&&Dn(y,$),T}for(A=n(y,A);!J.done;$++,J=p.next())J=g(A,y,$,J.value,b),J!==null&&(e&&J.alternate!==null&&A.delete(J.key===null?$:J.key),m=o(J,m,$),x===null?T=J:x.sibling=J,x=J);return e&&A.forEach(function(te){return t(y,te)}),We&&Dn(y,$),T}function C(y,m,p,b){if(typeof p=="object"&&p!==null&&p.type===wi&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case $s:e:{for(var T=p.key,x=m;x!==null;){if(x.key===T){if(T=p.type,T===wi){if(x.tag===7){r(y,x.sibling),m=i(x,p.props.children),m.return=y,y=m;break e}}else if(x.elementType===T||typeof T=="object"&&T!==null&&T.$$typeof===Yr&&Qh(T)===x.type){r(y,x.sibling),m=i(x,p.props),m.ref=lo(y,x,p),m.return=y,y=m;break e}r(y,x);break}else t(y,x);x=x.sibling}p.type===wi?(m=Un(p.props.children,y.mode,b,p.key),m.return=y,y=m):(b=ma(p.type,p.key,p.props,null,y.mode,b),b.ref=lo(y,m,p),b.return=y,y=b)}return s(y);case vi:e:{for(x=p.key;m!==null;){if(m.key===x)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){r(y,m.sibling),m=i(m,p.children||[]),m.return=y,y=m;break e}else{r(y,m);break}else t(y,m);m=m.sibling}m=ou(p,y.mode,b),m.return=y,y=m}return s(y);case Yr:return x=p._init,C(y,m,x(p._payload),b)}if(wo(p))return w(y,m,p,b);if(no(p))return v(y,m,p,b);Vs(y,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(r(y,m.sibling),m=i(m,p),m.return=y,y=m):(r(y,m),m=iu(p,y.mode,b),m.return=y,y=m),s(y)):r(y,m)}return C}var Fi=Sm(!0),xm=Sm(!1),za=xn(null),La=null,Pi=null,fd=null;function pd(){fd=Pi=La=null}function gd(e){var t=za.current;Ue(za),e._currentValue=t}function nc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Ii(e,t){La=e,fd=Pi=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Mt=!0),e.firstContext=null)}function ir(e){var t=e._currentValue;if(fd!==e)if(e={context:e,memoizedValue:t,next:null},Pi===null){if(La===null)throw Error(F(308));Pi=e,La.dependencies={lanes:0,firstContext:e}}else Pi=Pi.next=e;return t}var Ln=null;function md(e){Ln===null?Ln=[e]:Ln.push(e)}function bm(e,t,r,n){var i=t.interleaved;return i===null?(r.next=r,md(t)):(r.next=i.next,i.next=r),t.interleaved=r,Fr(e,n)}function Fr(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Xr=!1;function yd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function km(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Nr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function pn(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,Ce&2){var i=n.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),n.pending=t,Fr(e,r)}return i=n.interleaved,i===null?(t.next=t,md(n)):(t.next=i.next,i.next=t),n.interleaved=t,Fr(e,r)}function ca(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rd(e,r)}}function Jh(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,o=null;if(r=r.firstBaseUpdate,r!==null){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};o===null?i=o=s:o=o.next=s,r=r.next}while(r!==null);o===null?i=o=t:o=o.next=t}else i=o=t;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Na(e,t,r,n){var i=e.updateQueue;Xr=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=e.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var d=i.baseState;s=0,c=u=l=null,a=o;do{var f=a.lane,g=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var w=e,v=a;switch(f=t,g=r,v.tag){case 1:if(w=v.payload,typeof w=="function"){d=w.call(g,d,f);break e}d=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=v.payload,f=typeof w=="function"?w.call(g,d,f):w,f==null)break e;d=Ke({},d,f);break e;case 2:Xr=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=g,l=d):c=c.next=g,s|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(1);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Zn|=s,e.lanes=s,e.memoizedState=d}}function Yh(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(F(191,i));i.call(n)}}}var fs={},Cr=xn(fs),Qo=xn(fs),Jo=xn(fs);function Nn(e){if(e===fs)throw Error(F(174));return e}function vd(e,t){switch(Ne(Jo,t),Ne(Qo,e),Ne(Cr,fs),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Nu(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Nu(t,e)}Ue(Cr),Ne(Cr,t)}function Ui(){Ue(Cr),Ue(Qo),Ue(Jo)}function Em(e){Nn(Jo.current);var t=Nn(Cr.current),r=Nu(t,e.type);t!==r&&(Ne(Qo,e),Ne(Cr,r))}function wd(e){Qo.current===e&&(Ue(Cr),Ue(Qo))}var He=xn(0);function ja(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Yl=[];function _d(){for(var e=0;e<Yl.length;e++)Yl[e]._workInProgressVersionPrimary=null;Yl.length=0}var da=Br.ReactCurrentDispatcher,Xl=Br.ReactCurrentBatchConfig,Vn=0,qe=null,ct=null,gt=null,Ma=!1,Ro=!1,Yo=0,Qw=0;function bt(){throw Error(F(321))}function Sd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yr(e[r],t[r]))return!1;return!0}function xd(e,t,r,n,i,o){if(Vn=o,qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=e===null||e.memoizedState===null?e_:t_,e=r(n,i),Ro){o=0;do{if(Ro=!1,Yo=0,25<=o)throw Error(F(301));o+=1,gt=ct=null,t.updateQueue=null,da.current=r_,e=r(n,i)}while(Ro)}if(da.current=Fa,t=ct!==null&&ct.next!==null,Vn=0,gt=ct=qe=null,Ma=!1,t)throw Error(F(300));return e}function bd(){var e=Yo!==0;return Yo=0,e}function _r(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return gt===null?qe.memoizedState=gt=e:gt=gt.next=e,gt}function or(){if(ct===null){var e=qe.alternate;e=e!==null?e.memoizedState:null}else e=ct.next;var t=gt===null?qe.memoizedState:gt.next;if(t!==null)gt=t,ct=e;else{if(e===null)throw Error(F(310));ct=e,e={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},gt===null?qe.memoizedState=gt=e:gt=gt.next=e}return gt}function Xo(e,t){return typeof t=="function"?t(e):t}function eu(e){var t=or(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=ct,i=n.baseQueue,o=r.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}n.baseQueue=i=o,r.pending=null}if(i!==null){o=i.next,n=n.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Vn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=n):l=l.next=d,qe.lanes|=c,Zn|=c}u=u.next}while(u!==null&&u!==o);l===null?s=n:l.next=a,yr(n,t.memoizedState)||(Mt=!0),t.memoizedState=n,t.baseState=s,t.baseQueue=l,r.lastRenderedState=n}if(e=r.interleaved,e!==null){i=e;do o=i.lane,qe.lanes|=o,Zn|=o,i=i.next;while(i!==e)}else i===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function tu(e){var t=or(),r=t.queue;if(r===null)throw Error(F(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,o=t.memoizedState;if(i!==null){r.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);yr(o,t.memoizedState)||(Mt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Cm(){}function Pm(e,t){var r=qe,n=or(),i=t(),o=!yr(n.memoizedState,i);if(o&&(n.memoizedState=i,Mt=!0),n=n.queue,kd(Am.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||gt!==null&&gt.memoizedState.tag&1){if(r.flags|=2048,es(9,Rm.bind(null,r,n,i,t),void 0,null),mt===null)throw Error(F(349));Vn&30||Tm(r,t,i)}return i}function Tm(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function Rm(e,t,r,n){t.value=r,t.getSnapshot=n,Dm(t)&&Om(e)}function Am(e,t,r){return r(function(){Dm(t)&&Om(e)})}function Dm(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yr(e,r)}catch{return!0}}function Om(e){var t=Fr(e,1);t!==null&&mr(t,e,1,-1)}function Xh(e){var t=_r();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Xo,lastRenderedState:e},t.queue=e,e=e.dispatch=Xw.bind(null,qe,e),[t.memoizedState,e]}function es(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=qe.updateQueue,t===null?(t={lastEffect:null,stores:null},qe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function $m(){return or().memoizedState}function ha(e,t,r,n){var i=_r();qe.flags|=e,i.memoizedState=es(1|t,r,void 0,n===void 0?null:n)}function ul(e,t,r,n){var i=or();n=n===void 0?null:n;var o=void 0;if(ct!==null){var s=ct.memoizedState;if(o=s.destroy,n!==null&&Sd(n,s.deps)){i.memoizedState=es(t,r,o,n);return}}qe.flags|=e,i.memoizedState=es(1|t,r,o,n)}function ef(e,t){return ha(8390656,8,e,t)}function kd(e,t){return ul(2048,8,e,t)}function Im(e,t){return ul(4,2,e,t)}function zm(e,t){return ul(4,4,e,t)}function Lm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nm(e,t,r){return r=r!=null?r.concat([e]):null,ul(4,4,Lm.bind(null,t,e),r)}function Ed(){}function jm(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Mm(e,t){var r=or();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Sd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Fm(e,t,r){return Vn&21?(yr(r,t)||(r=Zg(),qe.lanes|=r,Zn|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Mt=!0),e.memoizedState=r)}function Jw(e,t){var r=Ae;Ae=r!==0&&4>r?r:4,e(!0);var n=Xl.transition;Xl.transition={};try{e(!1),t()}finally{Ae=r,Xl.transition=n}}function Um(){return or().memoizedState}function Yw(e,t,r){var n=mn(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bm(e))Wm(t,r);else if(r=bm(e,t,r,n),r!==null){var i=Dt();mr(r,e,n,i),Vm(r,t,n)}}function Xw(e,t,r){var n=mn(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bm(e))Wm(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,yr(a,s)){var l=t.interleaved;l===null?(i.next=i,md(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch{}finally{}r=bm(e,t,i,n),r!==null&&(i=Dt(),mr(r,e,n,i),Vm(r,t,n))}}function Bm(e){var t=e.alternate;return e===qe||t!==null&&t===qe}function Wm(e,t){Ro=Ma=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Vm(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,rd(e,r)}}var Fa={readContext:ir,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},e_={readContext:ir,useCallback:function(e,t){return _r().memoizedState=[e,t===void 0?null:t],e},useContext:ir,useEffect:ef,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,ha(4194308,4,Lm.bind(null,t,e),r)},useLayoutEffect:function(e,t){return ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return ha(4,2,e,t)},useMemo:function(e,t){var r=_r();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=_r();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Yw.bind(null,qe,e),[n.memoizedState,e]},useRef:function(e){var t=_r();return e={current:e},t.memoizedState=e},useState:Xh,useDebugValue:Ed,useDeferredValue:function(e){return _r().memoizedState=e},useTransition:function(){var e=Xh(!1),t=e[0];return e=Jw.bind(null,e[1]),_r().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=qe,i=_r();if(We){if(r===void 0)throw Error(F(407));r=r()}else{if(r=t(),mt===null)throw Error(F(349));Vn&30||Tm(n,t,r)}i.memoizedState=r;var o={value:r,getSnapshot:t};return i.queue=o,ef(Am.bind(null,n,o,e),[e]),n.flags|=2048,es(9,Rm.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=_r(),t=mt.identifierPrefix;if(We){var r=Lr,n=zr;r=(n&~(1<<32-gr(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Yo++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=Qw++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t_={readContext:ir,useCallback:jm,useContext:ir,useEffect:kd,useImperativeHandle:Nm,useInsertionEffect:Im,useLayoutEffect:zm,useMemo:Mm,useReducer:eu,useRef:$m,useState:function(){return eu(Xo)},useDebugValue:Ed,useDeferredValue:function(e){var t=or();return Fm(t,ct.memoizedState,e)},useTransition:function(){var e=eu(Xo)[0],t=or().memoizedState;return[e,t]},useMutableSource:Cm,useSyncExternalStore:Pm,useId:Um,unstable_isNewReconciler:!1},r_={readContext:ir,useCallback:jm,useContext:ir,useEffect:kd,useImperativeHandle:Nm,useInsertionEffect:Im,useLayoutEffect:zm,useMemo:Mm,useReducer:tu,useRef:$m,useState:function(){return tu(Xo)},useDebugValue:Ed,useDeferredValue:function(e){var t=or();return ct===null?t.memoizedState=e:Fm(t,ct.memoizedState,e)},useTransition:function(){var e=tu(Xo)[0],t=or().memoizedState;return[e,t]},useMutableSource:Cm,useSyncExternalStore:Pm,useId:Um,unstable_isNewReconciler:!1};function ur(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ic(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:Ke({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var cl={isMounted:function(e){return(e=e._reactInternals)?Qn(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Dt(),i=mn(e),o=Nr(n,i);o.payload=t,r!=null&&(o.callback=r),t=pn(e,o,i),t!==null&&(mr(t,e,i,n),ca(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Dt(),i=mn(e),o=Nr(n,i);o.tag=1,o.payload=t,r!=null&&(o.callback=r),t=pn(e,o,i),t!==null&&(mr(t,e,i,n),ca(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Dt(),n=mn(e),i=Nr(r,n);i.tag=2,t!=null&&(i.callback=t),t=pn(e,i,n),t!==null&&(mr(t,e,n,r),ca(t,e,n))}};function tf(e,t,r,n,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,o,s):t.prototype&&t.prototype.isPureReactComponent?!Ho(r,n)||!Ho(i,o):!0}function Zm(e,t,r){var n=!1,i=wn,o=t.contextType;return typeof o=="object"&&o!==null?o=ir(o):(i=Bt(t)?Bn:Ct.current,n=t.contextTypes,o=(n=n!=null)?ji(e,i):wn),t=new t(r,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=cl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function rf(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&cl.enqueueReplaceState(t,t.state,null)}function oc(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},yd(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=ir(o):(o=Bt(t)?Bn:Ct.current,i.context=ji(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ic(e,t,o,r),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&cl.enqueueReplaceState(i,i.state,null),Na(e,r,i,n),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function Bi(e,t){try{var r="",n=t;do r+=A0(n),n=n.return;while(n);var i=r}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function ru(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function sc(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var n_=typeof WeakMap=="function"?WeakMap:Map;function Hm(e,t,r){r=Nr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Ba||(Ba=!0,mc=n),sc(e,t)},r}function qm(e,t,r){r=Nr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){sc(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(r.callback=function(){sc(e,t),typeof n!="function"&&(gn===null?gn=new Set([this]):gn.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),r}function nf(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new n_;var i=new Set;n.set(t,i)}else i=n.get(t),i===void 0&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=y_.bind(null,e,t,r),t.then(e,e))}function of(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function sf(e,t,r,n,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=Nr(-1,1),t.tag=2,pn(r,t,1))),r.lanes|=1),e)}var i_=Br.ReactCurrentOwner,Mt=!1;function Rt(e,t,r,n){t.child=e===null?xm(t,null,r,n):Fi(t,e.child,r,n)}function af(e,t,r,n,i){r=r.render;var o=t.ref;return Ii(t,i),n=xd(e,t,r,n,o,i),r=bd(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(We&&r&&cd(t),t.flags|=1,Rt(e,t,n,i),t.child)}function lf(e,t,r,n,i){if(e===null){var o=r.type;return typeof o=="function"&&!$d(o)&&o.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=o,Km(e,t,o,n,i)):(e=ma(r.type,null,n,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(r=r.compare,r=r!==null?r:Ho,r(s,n)&&e.ref===t.ref)return Ur(e,t,i)}return t.flags|=1,e=yn(o,n),e.ref=t.ref,e.return=t,t.child=e}function Km(e,t,r,n,i){if(e!==null){var o=e.memoizedProps;if(Ho(o,n)&&e.ref===t.ref)if(Mt=!1,t.pendingProps=n=o,(e.lanes&i)!==0)e.flags&131072&&(Mt=!0);else return t.lanes=e.lanes,Ur(e,t,i)}return ac(e,t,r,n,i)}function Gm(e,t,r){var n=t.pendingProps,i=n.children,o=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ne(Ri,Zt),Zt|=r;else{if(!(r&1073741824))return e=o!==null?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ne(Ri,Zt),Zt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=o!==null?o.baseLanes:r,Ne(Ri,Zt),Zt|=n}else o!==null?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ne(Ri,Zt),Zt|=n;return Rt(e,t,i,r),t.child}function Qm(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function ac(e,t,r,n,i){var o=Bt(r)?Bn:Ct.current;return o=ji(t,o),Ii(t,i),r=xd(e,t,r,n,o,i),n=bd(),e!==null&&!Mt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ur(e,t,i)):(We&&n&&cd(t),t.flags|=1,Rt(e,t,r,i),t.child)}function uf(e,t,r,n,i){if(Bt(r)){var o=!0;Oa(t)}else o=!1;if(Ii(t,i),t.stateNode===null)fa(e,t),Zm(t,r,n),oc(t,r,n,i),n=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=r.contextType;typeof u=="object"&&u!==null?u=ir(u):(u=Bt(r)?Bn:Ct.current,u=ji(t,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==n||l!==u)&&rf(t,s,n,u),Xr=!1;var f=t.memoizedState;s.state=f,Na(t,n,s,i),l=t.memoizedState,a!==n||f!==l||Ut.current||Xr?(typeof c=="function"&&(ic(t,r,c,n),l=t.memoizedState),(a=Xr||tf(t,r,a,n,f,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),s.props=n,s.state=l,s.context=u,n=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,km(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:ur(t.type,a),s.props=u,d=t.pendingProps,f=s.context,l=r.contextType,typeof l=="object"&&l!==null?l=ir(l):(l=Bt(r)?Bn:Ct.current,l=ji(t,l));var g=r.getDerivedStateFromProps;(c=typeof g=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||f!==l)&&rf(t,s,n,l),Xr=!1,f=t.memoizedState,s.state=f,Na(t,n,s,i);var w=t.memoizedState;a!==d||f!==w||Ut.current||Xr?(typeof g=="function"&&(ic(t,r,g,n),w=t.memoizedState),(u=Xr||tf(t,r,u,n,f,w,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(n,w,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(n,w,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=w),s.props=n,s.state=w,s.context=l,n=u):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),n=!1)}return lc(e,t,r,n,o,i)}function lc(e,t,r,n,i,o){Qm(e,t);var s=(t.flags&128)!==0;if(!n&&!s)return i&&qh(t,r,!1),Ur(e,t,o);n=t.stateNode,i_.current=t;var a=s&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&s?(t.child=Fi(t,e.child,null,o),t.child=Fi(t,null,a,o)):Rt(e,t,a,o),t.memoizedState=n.state,i&&qh(t,r,!0),t.child}function Jm(e){var t=e.stateNode;t.pendingContext?Hh(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Hh(e,t.context,!1),vd(e,t.containerInfo)}function cf(e,t,r,n,i){return Mi(),hd(i),t.flags|=256,Rt(e,t,r,n),t.child}var uc={dehydrated:null,treeContext:null,retryLane:0};function cc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ym(e,t,r){var n=t.pendingProps,i=He.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Ne(He,i&1),e===null)return rc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=n.children,e=n.fallback,o?(n=t.mode,o=t.child,s={mode:"hidden",children:s},!(n&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=fl(s,n,0,null),e=Un(e,n,r,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=cc(r),t.memoizedState=uc,e):Cd(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return o_(e,t,s,n,a,i,r);if(o){o=n.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(s&1)&&t.child!==i?(n=t.child,n.childLanes=0,n.pendingProps=l,t.deletions=null):(n=yn(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=yn(a,o):(o=Un(o,s,r,null),o.flags|=2),o.return=t,n.return=t,n.sibling=o,t.child=n,n=o,o=t.child,s=e.child.memoizedState,s=s===null?cc(r):{baseLanes:s.baseLanes|r,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~r,t.memoizedState=uc,n}return o=e.child,e=o.sibling,n=yn(o,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Cd(e,t){return t=fl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Zs(e,t,r,n){return n!==null&&hd(n),Fi(t,e.child,null,r),e=Cd(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function o_(e,t,r,n,i,o,s){if(r)return t.flags&256?(t.flags&=-257,n=ru(Error(F(422))),Zs(e,t,s,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=n.fallback,i=t.mode,n=fl({mode:"visible",children:n.children},i,0,null),o=Un(o,i,s,null),o.flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,t.mode&1&&Fi(t,e.child,null,s),t.child.memoizedState=cc(s),t.memoizedState=uc,o);if(!(t.mode&1))return Zs(e,t,s,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,o=Error(F(419)),n=ru(o,n,void 0),Zs(e,t,s,n)}if(a=(s&e.childLanes)!==0,Mt||a){if(n=mt,n!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fr(e,i),mr(n,e,i,-1))}return Od(),n=ru(Error(F(421))),Zs(e,t,s,n)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=v_.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,qt=fn(i.nextSibling),Kt=t,We=!0,hr=null,e!==null&&(Xt[er++]=zr,Xt[er++]=Lr,Xt[er++]=Wn,zr=e.id,Lr=e.overflow,Wn=t),t=Cd(t,n.children),t.flags|=4096,t)}function df(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nc(e.return,t,r)}function nu(e,t,r,n,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function Xm(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Rt(e,t,n.children,r),n=He.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,r,t);else if(e.tag===19)df(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ne(He,n),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;r!==null;)e=r.alternate,e!==null&&ja(e)===null&&(i=r),r=r.sibling;r=i,r===null?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),nu(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&ja(e)===null){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}nu(t,!0,r,null,o);break;case"together":nu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fa(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ur(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),Zn|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,r=yn(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=yn(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function s_(e,t,r){switch(t.tag){case 3:Jm(t),Mi();break;case 5:Em(t);break;case 1:Bt(t.type)&&Oa(t);break;case 4:vd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ne(za,n._currentValue),n._currentValue=i;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(Ne(He,He.current&1),t.flags|=128,null):r&t.child.childLanes?Ym(e,t,r):(Ne(He,He.current&1),e=Ur(e,t,r),e!==null?e.sibling:null);Ne(He,He.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Xm(e,t,r);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ne(He,He.current),n)break;return null;case 22:case 23:return t.lanes=0,Gm(e,t,r)}return Ur(e,t,r)}var ey,dc,ty,ry;ey=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};dc=function(){};ty=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Nn(Cr.current);var o=null;switch(r){case"input":i=$u(e,i),n=$u(e,n),o=[];break;case"select":i=Ke({},i,{value:void 0}),n=Ke({},n,{value:void 0}),o=[];break;case"textarea":i=Lu(e,i),n=Lu(e,n),o=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Aa)}ju(r,n);var s;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Mo.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(r||(r={}),r[s]=l[s])}else r||(o||(o=[]),o.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Mo.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Fe("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};ry=function(e,t,r,n){r!==n&&(t.flags|=4)};function uo(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function kt(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function a_(e,t,r){var n=t.pendingProps;switch(dd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kt(t),null;case 1:return Bt(t.type)&&Da(),kt(t),null;case 3:return n=t.stateNode,Ui(),Ue(Ut),Ue(Ct),_d(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Ws(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,hr!==null&&(wc(hr),hr=null))),dc(e,t),kt(t),null;case 5:wd(t);var i=Nn(Jo.current);if(r=t.type,e!==null&&t.stateNode!=null)ty(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(F(166));return kt(t),null}if(e=Nn(Cr.current),Ws(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[br]=t,n[Go]=o,e=(t.mode&1)!==0,r){case"dialog":Fe("cancel",n),Fe("close",n);break;case"iframe":case"object":case"embed":Fe("load",n);break;case"video":case"audio":for(i=0;i<So.length;i++)Fe(So[i],n);break;case"source":Fe("error",n);break;case"img":case"image":case"link":Fe("error",n),Fe("load",n);break;case"details":Fe("toggle",n);break;case"input":wh(n,o),Fe("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Fe("invalid",n);break;case"textarea":Sh(n,o),Fe("invalid",n)}ju(r,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?n.textContent!==a&&(o.suppressHydrationWarning!==!0&&Bs(n.textContent,a,e),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Bs(n.textContent,a,e),i=["children",""+a]):Mo.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&Fe("scroll",n)}switch(r){case"input":Is(n),_h(n,o,!0);break;case"textarea":Is(n),xh(n);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(n.onclick=Aa)}n=i,t.updateQueue=n,n!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Ag(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=s.createElement(r,{is:n.is}):(e=s.createElement(r),r==="select"&&(s=e,n.multiple?s.multiple=!0:n.size&&(s.size=n.size))):e=s.createElementNS(e,r),e[br]=t,e[Go]=n,ey(e,t,!1,!1),t.stateNode=e;e:{switch(s=Mu(r,n),r){case"dialog":Fe("cancel",e),Fe("close",e),i=n;break;case"iframe":case"object":case"embed":Fe("load",e),i=n;break;case"video":case"audio":for(i=0;i<So.length;i++)Fe(So[i],e);i=n;break;case"source":Fe("error",e),i=n;break;case"img":case"image":case"link":Fe("error",e),Fe("load",e),i=n;break;case"details":Fe("toggle",e),i=n;break;case"input":wh(e,n),i=$u(e,n),Fe("invalid",e);break;case"option":i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=Ke({},n,{value:void 0}),Fe("invalid",e);break;case"textarea":Sh(e,n),i=Lu(e,n),Fe("invalid",e);break;default:i=n}ju(r,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?$g(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Dg(e,l)):o==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Fo(e,l):typeof l=="number"&&Fo(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Mo.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Fe("scroll",e):l!=null&&Qc(e,o,l,s))}switch(r){case"input":Is(e),_h(e,n,!1);break;case"textarea":Is(e),xh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+vn(n.value));break;case"select":e.multiple=!!n.multiple,o=n.value,o!=null?Ai(e,!!n.multiple,o,!1):n.defaultValue!=null&&Ai(e,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Aa)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return kt(t),null;case 6:if(e&&t.stateNode!=null)ry(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(F(166));if(r=Nn(Jo.current),Nn(Cr.current),Ws(t)){if(n=t.stateNode,r=t.memoizedProps,n[br]=t,(o=n.nodeValue!==r)&&(e=Kt,e!==null))switch(e.tag){case 3:Bs(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Bs(n.nodeValue,r,(e.mode&1)!==0)}o&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[br]=t,t.stateNode=n}return kt(t),null;case 13:if(Ue(He),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&qt!==null&&t.mode&1&&!(t.flags&128))_m(),Mi(),t.flags|=98560,o=!1;else if(o=Ws(t),n!==null&&n.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[br]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;kt(t),o=!1}else hr!==null&&(wc(hr),hr=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||He.current&1?dt===0&&(dt=3):Od())),t.updateQueue!==null&&(t.flags|=4),kt(t),null);case 4:return Ui(),dc(e,t),e===null&&qo(t.stateNode.containerInfo),kt(t),null;case 10:return gd(t.type._context),kt(t),null;case 17:return Bt(t.type)&&Da(),kt(t),null;case 19:if(Ue(He),o=t.memoizedState,o===null)return kt(t),null;if(n=(t.flags&128)!==0,s=o.rendering,s===null)if(n)uo(o,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=ja(e),s!==null){for(t.flags|=128,uo(o,!1),n=s.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)o=r,e=n,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ne(He,He.current&1|2),t.child}e=e.sibling}o.tail!==null&&Xe()>Wi&&(t.flags|=128,n=!0,uo(o,!1),t.lanes=4194304)}else{if(!n)if(e=ja(s),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),uo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!We)return kt(t),null}else 2*Xe()-o.renderingStartTime>Wi&&r!==1073741824&&(t.flags|=128,n=!0,uo(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(r=o.last,r!==null?r.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,r=He.current,Ne(He,n?r&1|2:r&1),t):(kt(t),null);case 22:case 23:return Dd(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?Zt&1073741824&&(kt(t),t.subtreeFlags&6&&(t.flags|=8192)):kt(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function l_(e,t){switch(dd(t),t.tag){case 1:return Bt(t.type)&&Da(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ui(),Ue(Ut),Ue(Ct),_d(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wd(t),null;case 13:if(Ue(He),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(He),null;case 4:return Ui(),null;case 10:return gd(t.type._context),null;case 22:case 23:return Dd(),null;case 24:return null;default:return null}}var Hs=!1,Et=!1,u_=typeof WeakSet=="function"?WeakSet:Set,Y=null;function Ti(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Je(e,t,n)}else r.current=null}function hc(e,t,r){try{r()}catch(n){Je(e,t,n)}}var hf=!1;function c_(e,t){if(Gu=Pa,e=am(),ud(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch{r=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=e,f=null;t:for(;;){for(var g;d!==r||i!==0&&d.nodeType!==3||(a=s+i),d!==o||n!==0&&d.nodeType!==3||(l=s+n),d.nodeType===3&&(s+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===e)break t;if(f===r&&++u===i&&(a=s),f===o&&++c===n&&(l=s),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Qu={focusedElem:e,selectionRange:r},Pa=!1,Y=t;Y!==null;)if(t=Y,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Y=e;else for(;Y!==null;){t=Y;try{var w=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var v=w.memoizedProps,C=w.memoizedState,y=t.stateNode,m=y.getSnapshotBeforeUpdate(t.elementType===t.type?v:ur(t.type,v),C);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=t.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(b){Je(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,Y=e;break}Y=t.return}return w=hf,hf=!1,w}function Ao(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&hc(t,r,o)}i=i.next}while(i!==n)}}function dl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function fc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function ny(e){var t=e.alternate;t!==null&&(e.alternate=null,ny(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[br],delete t[Go],delete t[Xu],delete t[Hw],delete t[qw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function iy(e){return e.tag===5||e.tag===3||e.tag===4}function ff(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function pc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Aa));else if(n!==4&&(e=e.child,e!==null))for(pc(e,t,r),e=e.sibling;e!==null;)pc(e,t,r),e=e.sibling}function gc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(gc(e,t,r),e=e.sibling;e!==null;)gc(e,t,r),e=e.sibling}var yt=null,cr=!1;function Kr(e,t,r){for(r=r.child;r!==null;)oy(e,t,r),r=r.sibling}function oy(e,t,r){if(Er&&typeof Er.onCommitFiberUnmount=="function")try{Er.onCommitFiberUnmount(nl,r)}catch{}switch(r.tag){case 5:Et||Ti(r,t);case 6:var n=yt,i=cr;yt=null,Kr(e,t,r),yt=n,cr=i,yt!==null&&(cr?(e=yt,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):yt.removeChild(r.stateNode));break;case 18:yt!==null&&(cr?(e=yt,r=r.stateNode,e.nodeType===8?Ql(e.parentNode,r):e.nodeType===1&&Ql(e,r),Vo(e)):Ql(yt,r.stateNode));break;case 4:n=yt,i=cr,yt=r.stateNode.containerInfo,cr=!0,Kr(e,t,r),yt=n,cr=i;break;case 0:case 11:case 14:case 15:if(!Et&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hc(r,t,s),i=i.next}while(i!==n)}Kr(e,t,r);break;case 1:if(!Et&&(Ti(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Je(r,t,a)}Kr(e,t,r);break;case 21:Kr(e,t,r);break;case 22:r.mode&1?(Et=(n=Et)||r.memoizedState!==null,Kr(e,t,r),Et=n):Kr(e,t,r);break;default:Kr(e,t,r)}}function pf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new u_),t.forEach(function(n){var i=w_.bind(null,e,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ar(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,cr=!1;break e;case 3:yt=a.stateNode.containerInfo,cr=!0;break e;case 4:yt=a.stateNode.containerInfo,cr=!0;break e}a=a.return}if(yt===null)throw Error(F(160));oy(o,s,i),yt=null,cr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Je(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)sy(t,e),t=t.sibling}function sy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ar(t,e),wr(e),n&4){try{Ao(3,e,e.return),dl(3,e)}catch(v){Je(e,e.return,v)}try{Ao(5,e,e.return)}catch(v){Je(e,e.return,v)}}break;case 1:ar(t,e),wr(e),n&512&&r!==null&&Ti(r,r.return);break;case 5:if(ar(t,e),wr(e),n&512&&r!==null&&Ti(r,r.return),e.flags&32){var i=e.stateNode;try{Fo(i,"")}catch(v){Je(e,e.return,v)}}if(n&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=r!==null?r.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Tg(i,o),Mu(a,s);var u=Mu(a,o);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?$g(i,d):c==="dangerouslySetInnerHTML"?Dg(i,d):c==="children"?Fo(i,d):Qc(i,c,d,u)}switch(a){case"input":Iu(i,o);break;case"textarea":Rg(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var g=o.value;g!=null?Ai(i,!!o.multiple,g,!1):f!==!!o.multiple&&(o.defaultValue!=null?Ai(i,!!o.multiple,o.defaultValue,!0):Ai(i,!!o.multiple,o.multiple?[]:"",!1))}i[Go]=o}catch(v){Je(e,e.return,v)}}break;case 6:if(ar(t,e),wr(e),n&4){if(e.stateNode===null)throw Error(F(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(v){Je(e,e.return,v)}}break;case 3:if(ar(t,e),wr(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vo(t.containerInfo)}catch(v){Je(e,e.return,v)}break;case 4:ar(t,e),wr(e);break;case 13:ar(t,e),wr(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(Rd=Xe())),n&4&&pf(e);break;case 22:if(c=r!==null&&r.memoizedState!==null,e.mode&1?(Et=(u=Et)||c,ar(t,e),Et=u):ar(t,e),wr(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!c&&e.mode&1)for(Y=e,c=e.child;c!==null;){for(d=Y=c;Y!==null;){switch(f=Y,g=f.child,f.tag){case 0:case 11:case 14:case 15:Ao(4,f,f.return);break;case 1:Ti(f,f.return);var w=f.stateNode;if(typeof w.componentWillUnmount=="function"){n=f,r=f.return;try{t=n,w.props=t.memoizedProps,w.state=t.memoizedState,w.componentWillUnmount()}catch(v){Je(n,r,v)}}break;case 5:Ti(f,f.return);break;case 22:if(f.memoizedState!==null){mf(d);continue}}g!==null?(g.return=f,Y=g):mf(d)}c=c.sibling}e:for(c=null,d=e;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Og("display",s))}catch(v){Je(e,e.return,v)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(v){Je(e,e.return,v)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===e)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;d.sibling===null;){if(d.return===null||d.return===e)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ar(t,e),wr(e),n&4&&pf(e);break;case 21:break;default:ar(t,e),wr(e)}}function wr(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(iy(r)){var n=r;break e}r=r.return}throw Error(F(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Fo(i,""),n.flags&=-33);var o=ff(e);gc(e,o,i);break;case 3:case 4:var s=n.stateNode.containerInfo,a=ff(e);pc(e,a,s);break;default:throw Error(F(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d_(e,t,r){Y=e,ay(e)}function ay(e,t,r){for(var n=(e.mode&1)!==0;Y!==null;){var i=Y,o=i.child;if(i.tag===22&&n){var s=i.memoizedState!==null||Hs;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Et;a=Hs;var u=Et;if(Hs=s,(Et=l)&&!u)for(Y=i;Y!==null;)s=Y,l=s.child,s.tag===22&&s.memoizedState!==null?yf(i):l!==null?(l.return=s,Y=l):yf(i);for(;o!==null;)Y=o,ay(o),o=o.sibling;Y=i,Hs=a,Et=u}gf(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Y=o):gf(e)}}function gf(e){for(;Y!==null;){var t=Y;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Et||dl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Et)if(r===null)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ur(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Yh(t,o,n);break;case 3:var s=t.updateQueue;if(s!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}Yh(t,s,r)}break;case 5:var a=t.stateNode;if(r===null&&t.flags&4){r=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Vo(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}Et||t.flags&512&&fc(t)}catch(f){Je(t,t.return,f)}}if(t===e){Y=null;break}if(r=t.sibling,r!==null){r.return=t.return,Y=r;break}Y=t.return}}function mf(e){for(;Y!==null;){var t=Y;if(t===e){Y=null;break}var r=t.sibling;if(r!==null){r.return=t.return,Y=r;break}Y=t.return}}function yf(e){for(;Y!==null;){var t=Y;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{dl(4,t)}catch(l){Je(t,r,l)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var i=t.return;try{n.componentDidMount()}catch(l){Je(t,i,l)}}var o=t.return;try{fc(t)}catch(l){Je(t,o,l)}break;case 5:var s=t.return;try{fc(t)}catch(l){Je(t,s,l)}}}catch(l){Je(t,t.return,l)}if(t===e){Y=null;break}var a=t.sibling;if(a!==null){a.return=t.return,Y=a;break}Y=t.return}}var h_=Math.ceil,Ua=Br.ReactCurrentDispatcher,Pd=Br.ReactCurrentOwner,rr=Br.ReactCurrentBatchConfig,Ce=0,mt=null,nt=null,vt=0,Zt=0,Ri=xn(0),dt=0,ts=null,Zn=0,hl=0,Td=0,Do=null,Nt=null,Rd=0,Wi=1/0,Or=null,Ba=!1,mc=null,gn=null,qs=!1,un=null,Wa=0,Oo=0,yc=null,pa=-1,ga=0;function Dt(){return Ce&6?Xe():pa!==-1?pa:pa=Xe()}function mn(e){return e.mode&1?Ce&2&&vt!==0?vt&-vt:Gw.transition!==null?(ga===0&&(ga=Zg()),ga):(e=Ae,e!==0||(e=window.event,e=e===void 0?16:Yg(e.type)),e):1}function mr(e,t,r,n){if(50<Oo)throw Oo=0,yc=null,Error(F(185));cs(e,r,n),(!(Ce&2)||e!==mt)&&(e===mt&&(!(Ce&2)&&(hl|=r),dt===4&&rn(e,vt)),Wt(e,n),r===1&&Ce===0&&!(t.mode&1)&&(Wi=Xe()+500,ll&&bn()))}function Wt(e,t){var r=e.callbackNode;G0(e,t);var n=Ca(e,e===mt?vt:0);if(n===0)r!==null&&Eh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Eh(r),t===1)e.tag===0?Kw(vf.bind(null,e)):ym(vf.bind(null,e)),Vw(function(){!(Ce&6)&&bn()}),r=null;else{switch(Hg(n)){case 1:r=td;break;case 4:r=Wg;break;case 16:r=Ea;break;case 536870912:r=Vg;break;default:r=Ea}r=gy(r,ly.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function ly(e,t){if(pa=-1,ga=0,Ce&6)throw Error(F(327));var r=e.callbackNode;if(zi()&&e.callbackNode!==r)return null;var n=Ca(e,e===mt?vt:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Va(e,n);else{t=n;var i=Ce;Ce|=2;var o=cy();(mt!==e||vt!==t)&&(Or=null,Wi=Xe()+500,Fn(e,t));do try{g_();break}catch(a){uy(e,a)}while(1);pd(),Ua.current=o,Ce=i,nt!==null?t=0:(mt=null,vt=0,t=dt)}if(t!==0){if(t===2&&(i=Vu(e),i!==0&&(n=i,t=vc(e,i))),t===1)throw r=ts,Fn(e,0),rn(e,n),Wt(e,Xe()),r;if(t===6)rn(e,n);else{if(i=e.current.alternate,!(n&30)&&!f_(i)&&(t=Va(e,n),t===2&&(o=Vu(e),o!==0&&(n=o,t=vc(e,o))),t===1))throw r=ts,Fn(e,0),rn(e,n),Wt(e,Xe()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(F(345));case 2:On(e,Nt,Or);break;case 3:if(rn(e,n),(n&130023424)===n&&(t=Rd+500-Xe(),10<t)){if(Ca(e,0)!==0)break;if(i=e.suspendedLanes,(i&n)!==n){Dt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Yu(On.bind(null,e,Nt,Or),t);break}On(e,Nt,Or);break;case 4:if(rn(e,n),(n&4194240)===n)break;for(t=e.eventTimes,i=-1;0<n;){var s=31-gr(n);o=1<<s,s=t[s],s>i&&(i=s),n&=~o}if(n=i,n=Xe()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*h_(n/1960))-n,10<n){e.timeoutHandle=Yu(On.bind(null,e,Nt,Or),n);break}On(e,Nt,Or);break;case 5:On(e,Nt,Or);break;default:throw Error(F(329))}}}return Wt(e,Xe()),e.callbackNode===r?ly.bind(null,e):null}function vc(e,t){var r=Do;return e.current.memoizedState.isDehydrated&&(Fn(e,t).flags|=256),e=Va(e,t),e!==2&&(t=Nt,Nt=r,t!==null&&wc(t)),e}function wc(e){Nt===null?Nt=e:Nt.push.apply(Nt,e)}function f_(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!yr(o(),i))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function rn(e,t){for(t&=~Td,t&=~hl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-gr(t),n=1<<r;e[r]=-1,t&=~n}}function vf(e){if(Ce&6)throw Error(F(327));zi();var t=Ca(e,0);if(!(t&1))return Wt(e,Xe()),null;var r=Va(e,t);if(e.tag!==0&&r===2){var n=Vu(e);n!==0&&(t=n,r=vc(e,n))}if(r===1)throw r=ts,Fn(e,0),rn(e,t),Wt(e,Xe()),r;if(r===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Nt,Or),Wt(e,Xe()),null}function Ad(e,t){var r=Ce;Ce|=1;try{return e(t)}finally{Ce=r,Ce===0&&(Wi=Xe()+500,ll&&bn())}}function Hn(e){un!==null&&un.tag===0&&!(Ce&6)&&zi();var t=Ce;Ce|=1;var r=rr.transition,n=Ae;try{if(rr.transition=null,Ae=1,e)return e()}finally{Ae=n,rr.transition=r,Ce=t,!(Ce&6)&&bn()}}function Dd(){Zt=Ri.current,Ue(Ri)}function Fn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Ww(r)),nt!==null)for(r=nt.return;r!==null;){var n=r;switch(dd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Da();break;case 3:Ui(),Ue(Ut),Ue(Ct),_d();break;case 5:wd(n);break;case 4:Ui();break;case 13:Ue(He);break;case 19:Ue(He);break;case 10:gd(n.type._context);break;case 22:case 23:Dd()}r=r.return}if(mt=e,nt=e=yn(e.current,null),vt=Zt=t,dt=0,ts=null,Td=hl=Zn=0,Nt=Do=null,Ln!==null){for(t=0;t<Ln.length;t++)if(r=Ln[t],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,o=r.pending;if(o!==null){var s=o.next;o.next=i,n.next=s}r.pending=n}Ln=null}return e}function uy(e,t){do{var r=nt;try{if(pd(),da.current=Fa,Ma){for(var n=qe.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Ma=!1}if(Vn=0,gt=ct=qe=null,Ro=!1,Yo=0,Pd.current=null,r===null||r.return===null){dt=1,ts=t,nt=null;break}e:{var o=e,s=r.return,a=r,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var g=of(s);if(g!==null){g.flags&=-257,sf(g,s,a,o,t),g.mode&1&&nf(o,u,t),t=g,l=u;var w=t.updateQueue;if(w===null){var v=new Set;v.add(l),t.updateQueue=v}else w.add(l);break e}else{if(!(t&1)){nf(o,u,t),Od();break e}l=Error(F(426))}}else if(We&&a.mode&1){var C=of(s);if(C!==null){!(C.flags&65536)&&(C.flags|=256),sf(C,s,a,o,t),hd(Bi(l,a));break e}}o=l=Bi(l,a),dt!==4&&(dt=2),Do===null?Do=[o]:Do.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var y=Hm(o,l,t);Jh(o,y);break e;case 1:a=l;var m=o.type,p=o.stateNode;if(!(o.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gn===null||!gn.has(p)))){o.flags|=65536,t&=-t,o.lanes|=t;var b=qm(o,a,t);Jh(o,b);break e}}o=o.return}while(o!==null)}hy(r)}catch(T){t=T,nt===r&&r!==null&&(nt=r=r.return);continue}break}while(1)}function cy(){var e=Ua.current;return Ua.current=Fa,e===null?Fa:e}function Od(){(dt===0||dt===3||dt===2)&&(dt=4),mt===null||!(Zn&268435455)&&!(hl&268435455)||rn(mt,vt)}function Va(e,t){var r=Ce;Ce|=2;var n=cy();(mt!==e||vt!==t)&&(Or=null,Fn(e,t));do try{p_();break}catch(i){uy(e,i)}while(1);if(pd(),Ce=r,Ua.current=n,nt!==null)throw Error(F(261));return mt=null,vt=0,dt}function p_(){for(;nt!==null;)dy(nt)}function g_(){for(;nt!==null&&!F0();)dy(nt)}function dy(e){var t=py(e.alternate,e,Zt);e.memoizedProps=e.pendingProps,t===null?hy(e):nt=t,Pd.current=null}function hy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=l_(r,t),r!==null){r.flags&=32767,nt=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,nt=null;return}}else if(r=a_(r,t,Zt),r!==null){nt=r;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);dt===0&&(dt=5)}function On(e,t,r){var n=Ae,i=rr.transition;try{rr.transition=null,Ae=1,m_(e,t,r,n)}finally{rr.transition=i,Ae=n}return null}function m_(e,t,r,n){do zi();while(un!==null);if(Ce&6)throw Error(F(327));r=e.finishedWork;var i=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(Q0(e,o),e===mt&&(nt=mt=null,vt=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||qs||(qs=!0,gy(Ea,function(){return zi(),null})),o=(r.flags&15990)!==0,r.subtreeFlags&15990||o){o=rr.transition,rr.transition=null;var s=Ae;Ae=1;var a=Ce;Ce|=4,Pd.current=null,c_(e,r),sy(r,e),Lw(Qu),Pa=!!Gu,Qu=Gu=null,e.current=r,d_(r),U0(),Ce=a,Ae=s,rr.transition=o}else e.current=r;if(qs&&(qs=!1,un=e,Wa=i),o=e.pendingLanes,o===0&&(gn=null),V0(r.stateNode),Wt(e,Xe()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ba)throw Ba=!1,e=mc,mc=null,e;return Wa&1&&e.tag!==0&&zi(),o=e.pendingLanes,o&1?e===yc?Oo++:(Oo=0,yc=e):Oo=0,bn(),null}function zi(){if(un!==null){var e=Hg(Wa),t=rr.transition,r=Ae;try{if(rr.transition=null,Ae=16>e?16:e,un===null)var n=!1;else{if(e=un,un=null,Wa=0,Ce&6)throw Error(F(331));var i=Ce;for(Ce|=4,Y=e.current;Y!==null;){var o=Y,s=o.child;if(Y.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(Y=u;Y!==null;){var c=Y;switch(c.tag){case 0:case 11:case 15:Ao(8,c,o)}var d=c.child;if(d!==null)d.return=c,Y=d;else for(;Y!==null;){c=Y;var f=c.sibling,g=c.return;if(ny(c),c===u){Y=null;break}if(f!==null){f.return=g,Y=f;break}Y=g}}}var w=o.alternate;if(w!==null){var v=w.child;if(v!==null){w.child=null;do{var C=v.sibling;v.sibling=null,v=C}while(v!==null)}}Y=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Y=s;else e:for(;Y!==null;){if(o=Y,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ao(9,o,o.return)}var y=o.sibling;if(y!==null){y.return=o.return,Y=y;break e}Y=o.return}}var m=e.current;for(Y=m;Y!==null;){s=Y;var p=s.child;if(s.subtreeFlags&2064&&p!==null)p.return=s,Y=p;else e:for(s=m;Y!==null;){if(a=Y,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:dl(9,a)}}catch(T){Je(a,a.return,T)}if(a===s){Y=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,Y=b;break e}Y=a.return}}if(Ce=i,bn(),Er&&typeof Er.onPostCommitFiberRoot=="function")try{Er.onPostCommitFiberRoot(nl,e)}catch{}n=!0}return n}finally{Ae=r,rr.transition=t}}return!1}function wf(e,t,r){t=Bi(r,t),t=Hm(e,t,1),e=pn(e,t,1),t=Dt(),e!==null&&(cs(e,1,t),Wt(e,t))}function Je(e,t,r){if(e.tag===3)wf(e,e,r);else for(;t!==null;){if(t.tag===3){wf(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(gn===null||!gn.has(n))){e=Bi(r,e),e=qm(t,e,1),t=pn(t,e,1),e=Dt(),t!==null&&(cs(t,1,e),Wt(t,e));break}}t=t.return}}function y_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=Dt(),e.pingedLanes|=e.suspendedLanes&r,mt===e&&(vt&r)===r&&(dt===4||dt===3&&(vt&130023424)===vt&&500>Xe()-Rd?Fn(e,0):Td|=r),Wt(e,t)}function fy(e,t){t===0&&(e.mode&1?(t=Ns,Ns<<=1,!(Ns&130023424)&&(Ns=4194304)):t=1);var r=Dt();e=Fr(e,t),e!==null&&(cs(e,t,r),Wt(e,r))}function v_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),fy(e,r)}function w_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(F(314))}n!==null&&n.delete(t),fy(e,r)}var py;py=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ut.current)Mt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return Mt=!1,s_(e,t,r);Mt=!!(e.flags&131072)}else Mt=!1,We&&t.flags&1048576&&vm(t,Ia,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;fa(e,t),e=t.pendingProps;var i=ji(t,Ct.current);Ii(t,r),i=xd(null,t,n,e,i,r);var o=bd();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Bt(n)?(o=!0,Oa(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yd(t),i.updater=cl,t.stateNode=i,i._reactInternals=t,oc(t,n,e,r),t=lc(null,t,n,!0,o,r)):(t.tag=0,We&&o&&cd(t),Rt(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(fa(e,t),e=t.pendingProps,i=n._init,n=i(n._payload),t.type=n,i=t.tag=S_(n),e=ur(n,e),i){case 0:t=ac(null,t,n,e,r);break e;case 1:t=uf(null,t,n,e,r);break e;case 11:t=af(null,t,n,e,r);break e;case 14:t=lf(null,t,n,ur(n.type,e),r);break e}throw Error(F(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),ac(e,t,n,i,r);case 1:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),uf(e,t,n,i,r);case 3:e:{if(Jm(t),e===null)throw Error(F(387));n=t.pendingProps,o=t.memoizedState,i=o.element,km(e,t),Na(t,n,null,r);var s=t.memoizedState;if(n=s.element,o.isDehydrated)if(o={element:n,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=Bi(Error(F(423)),t),t=cf(e,t,n,r,i);break e}else if(n!==i){i=Bi(Error(F(424)),t),t=cf(e,t,n,r,i);break e}else for(qt=fn(t.stateNode.containerInfo.firstChild),Kt=t,We=!0,hr=null,r=xm(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Mi(),n===i){t=Ur(e,t,r);break e}Rt(e,t,n,r)}t=t.child}return t;case 5:return Em(t),e===null&&rc(t),n=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Ju(n,i)?s=null:o!==null&&Ju(n,o)&&(t.flags|=32),Qm(e,t),Rt(e,t,s,r),t.child;case 6:return e===null&&rc(t),null;case 13:return Ym(e,t,r);case 4:return vd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Fi(t,null,n,r):Rt(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),af(e,t,n,i,r);case 7:return Rt(e,t,t.pendingProps,r),t.child;case 8:return Rt(e,t,t.pendingProps.children,r),t.child;case 12:return Rt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,Ne(za,n._currentValue),n._currentValue=s,o!==null)if(yr(o.value,s)){if(o.children===i.children&&!Ut.current){t=Ur(e,t,r);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(o.tag===1){l=Nr(-1,r&-r),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),nc(o.return,r,t),a.lanes|=r;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(F(341));s.lanes|=r,a=s.alternate,a!==null&&(a.lanes|=r),nc(s,r,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Rt(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Ii(t,r),i=ir(i),n=n(i),t.flags|=1,Rt(e,t,n,r),t.child;case 14:return n=t.type,i=ur(n,t.pendingProps),i=ur(n.type,i),lf(e,t,n,i,r);case 15:return Km(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ur(n,i),fa(e,t),t.tag=1,Bt(n)?(e=!0,Oa(t)):e=!1,Ii(t,r),Zm(t,n,i),oc(t,n,i,r),lc(null,t,n,!0,e,r);case 19:return Xm(e,t,r);case 22:return Gm(e,t,r)}throw Error(F(156,t.tag))};function gy(e,t){return Bg(e,t)}function __(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function tr(e,t,r,n){return new __(e,t,r,n)}function $d(e){return e=e.prototype,!(!e||!e.isReactComponent)}function S_(e){if(typeof e=="function")return $d(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Yc)return 11;if(e===Xc)return 14}return 2}function yn(e,t){var r=e.alternate;return r===null?(r=tr(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function ma(e,t,r,n,i,o){var s=2;if(n=e,typeof e=="function")$d(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case wi:return Un(r.children,i,o,t);case Jc:s=8,i|=8;break;case Ru:return e=tr(12,r,t,i|2),e.elementType=Ru,e.lanes=o,e;case Au:return e=tr(13,r,t,i),e.elementType=Au,e.lanes=o,e;case Du:return e=tr(19,r,t,i),e.elementType=Du,e.lanes=o,e;case Eg:return fl(r,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case bg:s=10;break e;case kg:s=9;break e;case Yc:s=11;break e;case Xc:s=14;break e;case Yr:s=16,n=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=tr(s,r,t,i),t.elementType=e,t.type=n,t.lanes=o,t}function Un(e,t,r,n){return e=tr(7,e,n,t),e.lanes=r,e}function fl(e,t,r,n){return e=tr(22,e,n,t),e.elementType=Eg,e.lanes=r,e.stateNode={isHidden:!1},e}function iu(e,t,r){return e=tr(6,e,null,t),e.lanes=r,e}function ou(e,t,r){return t=tr(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function x_(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ml(0),this.expirationTimes=Ml(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ml(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Id(e,t,r,n,i,o,s,a,l){return e=new x_(e,t,r,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=tr(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yd(o),e}function b_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vi,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function my(e){if(!e)return wn;e=e._reactInternals;e:{if(Qn(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Bt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var r=e.type;if(Bt(r))return mm(e,r,t)}return t}function yy(e,t,r,n,i,o,s,a,l){return e=Id(r,n,!0,e,i,o,s,a,l),e.context=my(null),r=e.current,n=Dt(),i=mn(r),o=Nr(n,i),o.callback=t??null,pn(r,o,i),e.current.lanes=i,cs(e,i,n),Wt(e,n),e}function pl(e,t,r,n){var i=t.current,o=Dt(),s=mn(i);return r=my(r),t.context===null?t.context=r:t.pendingContext=r,t=Nr(o,s),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=pn(i,t,s),e!==null&&(mr(e,i,s,o),ca(e,i,s)),s}function Za(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function _f(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function zd(e,t){_f(e,t),(e=e.alternate)&&_f(e,t)}function k_(){return null}var vy=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ld(e){this._internalRoot=e}gl.prototype.render=Ld.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));pl(e,t,null,null)};gl.prototype.unmount=Ld.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Hn(function(){pl(null,e,null,null)}),t[Mr]=null}};function gl(e){this._internalRoot=e}gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Gg();e={blockedOn:null,target:e,priority:t};for(var r=0;r<tn.length&&t!==0&&t<tn[r].priority;r++);tn.splice(r,0,e),r===0&&Jg(e)}};function Nd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ml(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sf(){}function E_(e,t,r,n,i){if(i){if(typeof n=="function"){var o=n;n=function(){var u=Za(s);o.call(u)}}var s=yy(t,n,e,0,null,!1,!1,"",Sf);return e._reactRootContainer=s,e[Mr]=s.current,qo(e.nodeType===8?e.parentNode:e),Hn(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Za(l);a.call(u)}}var l=Id(e,0,!1,null,null,!1,!1,"",Sf);return e._reactRootContainer=l,e[Mr]=l.current,qo(e.nodeType===8?e.parentNode:e),Hn(function(){pl(t,l,r,n)}),l}function yl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Za(s);a.call(l)}}pl(t,s,e,i)}else s=E_(r,t,e,i,n);return Za(s)}qg=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=_o(t.pendingLanes);r!==0&&(rd(t,r|1),Wt(t,Xe()),!(Ce&6)&&(Wi=Xe()+500,bn()))}break;case 13:Hn(function(){var n=Fr(e,1);if(n!==null){var i=Dt();mr(n,e,1,i)}}),zd(e,1)}};nd=function(e){if(e.tag===13){var t=Fr(e,134217728);if(t!==null){var r=Dt();mr(t,e,134217728,r)}zd(e,134217728)}};Kg=function(e){if(e.tag===13){var t=mn(e),r=Fr(e,t);if(r!==null){var n=Dt();mr(r,e,t,n)}zd(e,t)}};Gg=function(){return Ae};Qg=function(e,t){var r=Ae;try{return Ae=e,t()}finally{Ae=r}};Uu=function(e,t,r){switch(t){case"input":if(Iu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=al(n);if(!i)throw Error(F(90));Pg(n),Iu(n,i)}}}break;case"textarea":Rg(e,r);break;case"select":t=r.value,t!=null&&Ai(e,!!r.multiple,t,!1)}};Lg=Ad;Ng=Hn;var C_={usingClientEntryPoint:!1,Events:[hs,bi,al,Ig,zg,Ad]},co={findFiberByHostInstance:zn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},P_={bundleType:co.bundleType,version:co.version,rendererPackageName:co.rendererPackageName,rendererConfig:co.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Br.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Fg(e),e===null?null:e.stateNode},findFiberByHostInstance:co.findFiberByHostInstance||k_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ks=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ks.isDisabled&&Ks.supportsFiber)try{nl=Ks.inject(P_),Er=Ks}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C_;Qt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(t))throw Error(F(200));return b_(e,t,null,r)};Qt.createRoot=function(e,t){if(!Nd(e))throw Error(F(299));var r=!1,n="",i=vy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Id(e,1,!1,null,null,r,!1,n,i),e[Mr]=t.current,qo(e.nodeType===8?e.parentNode:e),new Ld(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=Fg(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Hn(e)};Qt.hydrate=function(e,t,r){if(!ml(t))throw Error(F(200));return yl(null,e,t,!0,r)};Qt.hydrateRoot=function(e,t,r){if(!Nd(e))throw Error(F(405));var n=r!=null&&r.hydratedSources||null,i=!1,o="",s=vy;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(o=r.identifierPrefix),r.onRecoverableError!==void 0&&(s=r.onRecoverableError)),t=yy(t,null,e,1,r??null,i,!1,o,s),e[Mr]=t.current,qo(e),n)for(e=0;e<n.length;e++)r=n[e],i=r._getVersion,i=i(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new gl(t)};Qt.render=function(e,t,r){if(!ml(t))throw Error(F(200));return yl(null,e,t,!1,r)};Qt.unmountComponentAtNode=function(e){if(!ml(e))throw Error(F(40));return e._reactRootContainer?(Hn(function(){yl(null,null,e,!1,function(){e._reactRootContainer=null,e[Mr]=null})}),!0):!1};Qt.unstable_batchedUpdates=Ad;Qt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!ml(r))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return yl(e,t,r,!1,n)};Qt.version="18.3.1-next-f1338f8080-20240426";function wy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wy)}catch(e){console.error(e)}}wy(),wg.exports=Qt;var _y=wg.exports,Sy,xf=_y;Sy=xf.createRoot,xf.hydrateRoot;const T_="modulepreload",R_=function(e){return"/"+e},bf={},Ki=function(t,r,n){if(!r||r.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(r.map(o=>{if(o=R_(o),o in bf)return;bf[o]=!0;const s=o.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!n)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===o&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":T_,s||(u.as="script",u.crossOrigin=""),u.href=o,document.head.appendChild(u),s)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})})).then(()=>t()).catch(o=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=o,window.dispatchEvent(s),!s.defaultPrevented)throw o})};var xy=e=>{throw TypeError(e)},A_=(e,t,r)=>t.has(e)||xy("Cannot "+r),su=(e,t,r)=>(A_(e,t,"read from private field"),r?r.call(e):t.get(e)),D_=(e,t,r)=>t.has(e)?xy("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),kf="popstate";function O_(e={}){function t(n,i){let{pathname:o,search:s,hash:a}=n.location;return rs("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_n(i)}return I_(t,r,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function it(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $_(){return Math.random().toString(36).substring(2,10)}function Ef(e,t){return{usr:e.state,key:e.key,idx:t}}function rs(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Wr(t):t,state:r,key:t&&t.key||n||$_()}}function _n({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Wr(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function I_(e,t,r,n={}){let{window:i=document.defaultView,v5Compat:o=!1}=n,s=i.history,a="POP",l=null,u=c();u==null&&(u=0,s.replaceState({...s.state,idx:u},""));function c(){return(s.state||{idx:null}).idx}function d(){a="POP";let C=c(),y=C==null?null:C-u;u=C,l&&l({action:a,location:v.location,delta:y})}function f(C,y){a="PUSH";let m=rs(v.location,C,y);r&&r(m,C),u=c()+1;let p=Ef(m,u),b=v.createHref(m);try{s.pushState(p,"",b)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;i.location.assign(b)}o&&l&&l({action:a,location:v.location,delta:1})}function g(C,y){a="REPLACE";let m=rs(v.location,C,y);r&&r(m,C),u=c();let p=Ef(m,u),b=v.createHref(m);s.replaceState(p,"",b),o&&l&&l({action:a,location:v.location,delta:0})}function w(C){return by(C)}let v={get action(){return a},get location(){return e(i,s)},listen(C){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kf,d),l=C,()=>{i.removeEventListener(kf,d),l=null}},createHref(C){return t(i,C)},createURL:w,encodeLocation(C){let y=w(C);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:g,go(C){return s.go(C)}};return v}function by(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Se(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:_n(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}var xo,Cf=class{constructor(e){if(D_(this,xo,new Map),e)for(let[t,r]of e)this.set(t,r)}get(e){if(su(this,xo).has(e))return su(this,xo).get(e);if(e.defaultValue!==void 0)return e.defaultValue;throw new Error("No value found for context")}set(e,t){su(this,xo).set(e,t)}};xo=new WeakMap;var z_=new Set(["lazy","caseSensitive","path","id","index","children"]);function L_(e){return z_.has(e)}var N_=new Set(["lazy","caseSensitive","path","id","index","unstable_middleware","children"]);function j_(e){return N_.has(e)}function M_(e){return e.index===!0}function ns(e,t,r=[],n={},i=!1){return e.map((o,s)=>{let a=[...r,String(s)],l=typeof o.id=="string"?o.id:a.join("-");if(Se(o.index!==!0||!o.children,"Cannot specify children on an index route"),Se(i||!n[l],`Found a route id collision on id "${l}".  Route id's must be globally unique within Data Router usages`),M_(o)){let u={...o,...t(o),id:l};return n[l]=u,u}else{let u={...o,...t(o),id:l,children:void 0};return n[l]=u,o.children&&(u.children=ns(o.children,t,a,n,i)),u}})}function nn(e,t,r="/"){return ya(e,t,r,!1)}function ya(e,t,r,n){let i=typeof t=="string"?Wr(t):t,o=sr(i.pathname||"/",r);if(o==null)return null;let s=ky(e);U_(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=Y_(o);a=Q_(s[l],u,n)}return a}function F_(e,t){let{route:r,pathname:n,params:i}=e;return{id:r.id,pathname:n,params:i,data:t[r.id],loaderData:t[r.id],handle:r.handle}}function ky(e,t=[],r=[],n="",i=!1){let o=(s,a,l=i,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};if(c.relativePath.startsWith("/")){if(!c.relativePath.startsWith(n)&&l)return;Se(c.relativePath.startsWith(n),`Absolute route path "${c.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(n.length)}let d=Pr([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Se(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${d}".`),ky(s.children,t,f,d,l)),!(s.path==null&&!s.index)&&t.push({path:d,score:K_(d,s.index),routesMeta:f})};return e.forEach((s,a)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))o(s,a);else for(let u of Ey(s.path))o(s,a,!0,u)}),t}function Ey(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return i?[o,""]:[o];let s=Ey(n.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function U_(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:G_(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var B_=/^:[\w-]+$/,W_=3,V_=2,Z_=1,H_=10,q_=-2,Pf=e=>e==="*";function K_(e,t){let r=e.split("/"),n=r.length;return r.some(Pf)&&(n+=q_),t&&(n+=V_),r.filter(i=>!Pf(i)).reduce((i,o)=>i+(B_.test(o)?W_:o===""?Z_:H_),n)}function G_(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Q_(e,t,r=!1){let{routesMeta:n}=e,i={},o="/",s=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=o==="/"?t:t.slice(o.length)||"/",d=Ha({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d&&u&&r&&!n[n.length-1].route.index&&(d=Ha({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!d)return null;Object.assign(i,d.params),s.push({params:i,pathname:Pr([o,d.pathname]),pathnameBase:rS(Pr([o,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(o=Pr([o,d.pathnameBase]))}return s}function Ha(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=J_(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,{paramName:c,isOptional:d},f)=>{if(c==="*"){let w=a[f]||"";s=o.slice(0,o.length-w.length).replace(/(.)\/+$/,"$1")}const g=a[f];return d&&!g?u[c]=void 0:u[c]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:e}}function J_(e,t=!1,r=!0){it(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),n]}function Y_(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return it(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function sr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function X_({basename:e,pathname:t}){return t==="/"?e:Pr([e,t])}function eS(e,t="/"){let{pathname:r,search:n="",hash:i=""}=typeof e=="string"?Wr(e):e;return{pathname:r?r.startsWith("/")?r:tS(r,t):t,search:nS(n),hash:iS(i)}}function tS(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function au(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Cy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function jd(e){let t=Cy(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function Md(e,t,r,n=!1){let i;typeof e=="string"?i=Wr(e):(i={...e},Se(!i.pathname||!i.pathname.includes("?"),au("?","pathname","search",i)),Se(!i.pathname||!i.pathname.includes("#"),au("#","pathname","hash",i)),Se(!i.search||!i.search.includes("#"),au("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=r;else{let d=t.length-1;if(!n&&s.startsWith("..")){let f=s.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?t[d]:"/"}let l=eS(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}var Pr=e=>e.join("/").replace(/\/\/+/g,"/"),rS=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),nS=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iS=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,qa=class{constructor(e,t,r,n=!1){this.status=e,this.statusText=t||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function is(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var Py=["POST","PUT","PATCH","DELETE"],oS=new Set(Py),sS=["GET",...Py],aS=new Set(sS),lS=new Set([301,302,303,307,308]),uS=new Set([307,308]),lu={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cS={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},ho={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Fd=e=>dS.test(e),hS=e=>({hasErrorBoundary:!!e.hasErrorBoundary}),Ty="remix-router-transitions",Ry=Symbol("ResetLoaderData");function fS(e){const t=e.window?e.window:typeof window<"u"?window:void 0,r=typeof t<"u"&&typeof t.document<"u"&&typeof t.document.createElement<"u";Se(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let n=e.hydrationRouteProperties||[],i=e.mapRouteProperties||hS,o={},s=ns(e.routes,i,void 0,o),a,l=e.basename||"/",u=e.dataStrategy||vS,c={unstable_middleware:!1,...e.future},d=null,f=new Set,g=null,w=null,v=null,C=e.hydrationData!=null,y=nn(s,e.history.location,l),m=!1,p=null,b;if(y==null&&!e.patchRoutesOnNavigation){let E=Yt(404,{pathname:e.history.location.pathname}),{matches:P,route:D}=Mf(s);b=!0,y=P,p={[D.id]:E}}else if(y&&!e.hydrationData&&Cs(y,s,e.history.location.pathname).active&&(y=null),y)if(y.some(E=>E.route.lazy))b=!1;else if(!y.some(E=>E.route.loader))b=!0;else{let E=e.hydrationData?e.hydrationData.loaderData:null,P=e.hydrationData?e.hydrationData.errors:null;if(P){let D=y.findIndex(M=>P[M.route.id]!==void 0);b=y.slice(0,D+1).every(M=>!Sc(M.route,E,P))}else b=y.every(D=>!Sc(D.route,E,P))}else{b=!1,y=[];let E=Cs(null,s,e.history.location.pathname);E.active&&E.matches&&(m=!0,y=E.matches)}let T,x={historyAction:e.history.action,location:e.history.location,matches:y,initialized:b,navigation:lu,restoreScrollPosition:e.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||p,fetchers:new Map,blockers:new Map},A="POP",$=!1,V,J=!1,we=new Map,te=null,ue=!1,ne=!1,oe=new Set,ce=new Map,ke=0,U=-1,W=new Map,Q=new Set,ge=new Map,Ee=new Map,Ie=new Set,Z=new Map,z,B=null;function me(){if(d=e.history.listen(({action:E,location:P,delta:D})=>{if(z){z(),z=void 0;return}it(Z.size===0||D!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let M=Xi({currentLocation:x.location,nextLocation:P,historyAction:E});if(M&&D!=null){let K=new Promise(ie=>{z=ie});e.history.go(D*-1),ai(M,{state:"blocked",location:P,proceed(){ai(M,{state:"proceeding",proceed:void 0,reset:void 0,location:P}),K.then(()=>e.history.go(D))},reset(){let ie=new Map(x.blockers);ie.set(M,ho),G({blockers:ie})}});return}return _t(E,P)}),r){AS(t,we);let E=()=>DS(t,we);t.addEventListener("pagehide",E),te=()=>t.removeEventListener("pagehide",E)}return x.initialized||_t("POP",x.location,{initialHydration:!0}),T}function Qe(){d&&d(),te&&te(),f.clear(),V&&V.abort(),x.fetchers.forEach((E,P)=>ft(P)),x.blockers.forEach((E,P)=>Yi(P))}function Te(E){return f.add(E),()=>f.delete(E)}function G(E,P={}){E.matches&&(E.matches=E.matches.map(K=>{let ie=o[K.route.id],se=K.route;return se.element!==ie.element||se.errorElement!==ie.errorElement||se.hydrateFallbackElement!==ie.hydrateFallbackElement?{...K,route:ie}:K})),x={...x,...E};let D=[],M=[];x.fetchers.forEach((K,ie)=>{K.state==="idle"&&(Ie.has(ie)?D.push(ie):M.push(ie))}),Ie.forEach(K=>{!x.fetchers.has(K)&&!ce.has(K)&&D.push(K)}),[...f].forEach(K=>K(x,{deletedFetchers:D,viewTransitionOpts:P.viewTransitionOpts,flushSync:P.flushSync===!0})),D.forEach(K=>ft(K)),M.forEach(K=>x.fetchers.delete(K))}function I(E,P,{flushSync:D}={}){var he,ae;let M=x.actionData!=null&&x.navigation.formMethod!=null&&Lt(x.navigation.formMethod)&&x.navigation.state==="loading"&&((he=E.state)==null?void 0:he._isRedirect)!==!0,K;P.actionData?Object.keys(P.actionData).length>0?K=P.actionData:K=null:M?K=x.actionData:K=null;let ie=P.loaderData?Nf(x.loaderData,P.loaderData,P.matches||[],P.errors):x.loaderData,se=x.blockers;se.size>0&&(se=new Map(se),se.forEach((ye,Be)=>se.set(Be,ho)));let re=ue?!1:dh(E,P.matches||x.matches),le=$===!0||x.navigation.formMethod!=null&&Lt(x.navigation.formMethod)&&((ae=E.state)==null?void 0:ae._isRedirect)!==!0;a&&(s=a,a=void 0),ue||A==="POP"||(A==="PUSH"?e.history.push(E,E.state):A==="REPLACE"&&e.history.replace(E,E.state));let pe;if(A==="POP"){let ye=we.get(x.location.pathname);ye&&ye.has(E.pathname)?pe={currentLocation:x.location,nextLocation:E}:we.has(E.pathname)&&(pe={currentLocation:E,nextLocation:x.location})}else if(J){let ye=we.get(x.location.pathname);ye?ye.add(E.pathname):(ye=new Set([E.pathname]),we.set(x.location.pathname,ye)),pe={currentLocation:x.location,nextLocation:E}}G({...P,actionData:K,loaderData:ie,historyAction:A,location:E,initialized:!0,navigation:lu,revalidation:"idle",restoreScrollPosition:re,preventScrollReset:le,blockers:se},{viewTransitionOpts:pe,flushSync:D===!0}),A="POP",$=!1,J=!1,ue=!1,ne=!1,B==null||B.resolve(),B=null}async function H(E,P){if(typeof E=="number"){e.history.go(E);return}let D=_c(x.location,x.matches,l,E,P==null?void 0:P.fromRouteId,P==null?void 0:P.relative),{path:M,submission:K,error:ie}=Tf(!1,D,P),se=x.location,re=rs(x.location,M,P&&P.state);re={...re,...e.history.encodeLocation(re)};let le=P&&P.replace!=null?P.replace:void 0,pe="PUSH";le===!0?pe="REPLACE":le===!1||K!=null&&Lt(K.formMethod)&&K.formAction===x.location.pathname+x.location.search&&(pe="REPLACE");let he=P&&"preventScrollReset"in P?P.preventScrollReset===!0:void 0,ae=(P&&P.flushSync)===!0,ye=Xi({currentLocation:se,nextLocation:re,historyAction:pe});if(ye){ai(ye,{state:"blocked",location:re,proceed(){ai(ye,{state:"proceeding",proceed:void 0,reset:void 0,location:re}),H(E,P)},reset(){let Be=new Map(x.blockers);Be.set(ye,ho),G({blockers:Be})}});return}await _t(pe,re,{submission:K,pendingError:ie,preventScrollReset:he,replace:P&&P.replace,enableViewTransition:P&&P.viewTransition,flushSync:ae})}function fe(){B||(B=OS()),N(),G({revalidation:"loading"});let E=B.promise;return x.navigation.state==="submitting"?E:x.navigation.state==="idle"?(_t(x.historyAction,x.location,{startUninterruptedRevalidation:!0}),E):(_t(A||x.historyAction,x.navigation.location,{overrideNavigation:x.navigation,enableViewTransition:J===!0}),E)}async function _t(E,P,D){V&&V.abort(),V=null,A=E,ue=(D&&D.startUninterruptedRevalidation)===!0,Jv(x.location,x.matches),$=(D&&D.preventScrollReset)===!0,J=(D&&D.enableViewTransition)===!0;let M=a||s,K=D&&D.overrideNavigation,ie=D!=null&&D.initialHydration&&x.matches&&x.matches.length>0&&!m?x.matches:nn(M,P,l),se=(D&&D.flushSync)===!0;if(ie&&x.initialized&&!ne&&ES(x.location,P)&&!(D&&D.submission&&Lt(D.submission.formMethod))){I(P,{matches:ie},{flushSync:se});return}let re=Cs(ie,M,P.pathname);if(re.active&&re.matches&&(ie=re.matches),!ie){let{error:Pt,notFoundMatches:Ze,route:Me}=Ol(P.pathname);I(P,{matches:Ze,loaderData:{},errors:{[Me.id]:Pt}},{flushSync:se});return}V=new AbortController;let le=gi(e.history,P,V.signal,D&&D.submission),pe=e.unstable_getContext?await e.unstable_getContext():new Cf,he;if(D&&D.pendingError)he=[on(ie).route.id,{type:"error",error:D.pendingError}];else if(D&&D.submission&&Lt(D.submission.formMethod)){let Pt=await ri(le,P,D.submission,ie,pe,re.active,D&&D.initialHydration===!0,{replace:D.replace,flushSync:se});if(Pt.shortCircuited)return;if(Pt.pendingActionResult){let[Ze,Me]=Pt.pendingActionResult;if(Ht(Me)&&is(Me.error)&&Me.error.status===404){V=null,I(P,{matches:Pt.matches,loaderData:{},errors:{[Ze]:Me.error}});return}}ie=Pt.matches||ie,he=Pt.pendingActionResult,K=uu(P,D.submission),se=!1,re.active=!1,le=gi(e.history,le.url,le.signal)}let{shortCircuited:ae,matches:ye,loaderData:Be,errors:St}=await ni(le,P,ie,pe,re.active,K,D&&D.submission,D&&D.fetcherSubmission,D&&D.replace,D&&D.initialHydration===!0,se,he);ae||(V=null,I(P,{matches:ye||ie,...jf(he),loaderData:Be,errors:St}))}async function ri(E,P,D,M,K,ie,se,re={}){N();let le=TS(P,D);if(G({navigation:le},{flushSync:re.flushSync===!0}),ie){let ae=await Ps(M,P.pathname,E.signal);if(ae.type==="aborted")return{shortCircuited:!0};if(ae.type==="error"){let ye=on(ae.partialMatches).route.id;return{matches:ae.partialMatches,pendingActionResult:[ye,{type:"error",error:ae.error}]}}else if(ae.matches)M=ae.matches;else{let{notFoundMatches:ye,error:Be,route:St}=Ol(P.pathname);return{matches:ye,pendingActionResult:[St.id,{type:"error",error:Be}]}}}let pe,he=va(M,P);if(!he.route.action&&!he.route.lazy)pe={type:"error",error:Yt(405,{method:E.method,pathname:P.pathname,routeId:he.route.id})};else{let ae=Li(i,o,E,M,he,se?[]:n,K),ye=await q(E,ae,K,null);if(pe=ye[he.route.id],!pe){for(let Be of M)if(ye[Be.route.id]){pe=ye[Be.route.id];break}}if(E.signal.aborted)return{shortCircuited:!0}}if(jn(pe)){let ae;return re&&re.replace!=null?ae=re.replace:ae=If(pe.response.headers.get("Location"),new URL(E.url),l)===x.location.pathname+x.location.search,await O(E,pe,!0,{submission:D,replace:ae}),{shortCircuited:!0}}if(Ht(pe)){let ae=on(M,he.route.id);return(re&&re.replace)!==!0&&(A="PUSH"),{matches:M,pendingActionResult:[ae.route.id,pe,he.route.id]}}return{matches:M,pendingActionResult:[he.route.id,pe]}}async function ni(E,P,D,M,K,ie,se,re,le,pe,he,ae){let ye=ie||uu(P,se),Be=se||re||Uf(ye),St=!ue&&!pe;if(K){if(St){let xt=Vr(ae);G({navigation:ye,...xt!==void 0?{actionData:xt}:{}},{flushSync:he})}let Re=await Ps(D,P.pathname,E.signal);if(Re.type==="aborted")return{shortCircuited:!0};if(Re.type==="error"){let xt=on(Re.partialMatches).route.id;return{matches:Re.partialMatches,loaderData:{},errors:{[xt]:Re.error}}}else if(Re.matches)D=Re.matches;else{let{error:xt,notFoundMatches:As,route:ro}=Ol(P.pathname);return{matches:As,loaderData:{},errors:{[ro.id]:xt}}}}let Pt=a||s,{dsMatches:Ze,revalidatingFetchers:Me}=Rf(E,M,i,o,e.history,x,D,Be,P,pe?[]:n,pe===!0,ne,oe,Ie,ge,Q,Pt,l,e.patchRoutesOnNavigation!=null,ae);if(U=++ke,!e.dataStrategy&&!Ze.some(Re=>Re.shouldLoad)&&!Ze.some(Re=>Re.route.unstable_middleware)&&Me.length===0){let Re=oi();return I(P,{matches:D,loaderData:{},errors:ae&&Ht(ae[1])?{[ae[0]]:ae[1].error}:null,...jf(ae),...Re?{fetchers:new Map(x.fetchers)}:{}},{flushSync:he}),{shortCircuited:!0}}if(St){let Re={};if(!K){Re.navigation=ye;let xt=Vr(ae);xt!==void 0&&(Re.actionData=xt)}Me.length>0&&(Re.fetchers=ii(Me)),G(Re,{flushSync:he})}Me.forEach(Re=>{Ye(Re.key),Re.controller&&ce.set(Re.key,Re.controller)});let En=()=>Me.forEach(Re=>Ye(Re.key));V&&V.signal.addEventListener("abort",En);let{loaderResults:eo,fetcherResults:qr}=await j(Ze,Me,E,M);if(E.signal.aborted)return{shortCircuited:!0};V&&V.signal.removeEventListener("abort",En),Me.forEach(Re=>ce.delete(Re.key));let vr=Gs(eo);if(vr)return await O(E,vr.result,!0,{replace:le}),{shortCircuited:!0};if(vr=Gs(qr),vr)return Q.add(vr.key),await O(E,vr.result,!0,{replace:le}),{shortCircuited:!0};let{loaderData:$l,errors:to}=Lf(x,D,eo,ae,Me,qr);pe&&x.errors&&(to={...x.errors,...to});let Cn=oi(),Ts=si(U),Rs=Cn||Ts||Me.length>0;return{matches:D,loaderData:$l,errors:to,...Rs?{fetchers:new Map(x.fetchers)}:{}}}function Vr(E){if(E&&!Ht(E[1]))return{[E[0]]:E[1].data};if(x.actionData)return Object.keys(x.actionData).length===0?null:x.actionData}function ii(E){return E.forEach(P=>{let D=x.fetchers.get(P.key),M=fo(void 0,D?D.data:void 0);x.fetchers.set(P.key,M)}),new Map(x.fetchers)}async function Zr(E,P,D,M){Ye(E);let K=(M&&M.flushSync)===!0,ie=a||s,se=_c(x.location,x.matches,l,D,P,M==null?void 0:M.relative),re=nn(ie,se,l),le=Cs(re,ie,se);if(le.active&&le.matches&&(re=le.matches),!re){_e(E,P,Yt(404,{pathname:se}),{flushSync:K});return}let{path:pe,submission:he,error:ae}=Tf(!0,se,M);if(ae){_e(E,P,ae,{flushSync:K});return}let ye=e.unstable_getContext?await e.unstable_getContext():new Cf,Be=(M&&M.preventScrollReset)===!0;if(he&&Lt(he.formMethod)){await k(E,P,pe,re,ye,le.active,K,Be,he);return}ge.set(E,{routeId:P,path:pe}),await R(E,P,pe,re,ye,le.active,K,Be,he)}async function k(E,P,D,M,K,ie,se,re,le){N(),ge.delete(E);let pe=x.fetchers.get(E);X(E,RS(le,pe),{flushSync:se});let he=new AbortController,ae=gi(e.history,D,he.signal,le);if(ie){let st=await Ps(M,new URL(ae.url).pathname,ae.signal,E);if(st.type==="aborted")return;if(st.type==="error"){_e(E,P,st.error,{flushSync:se});return}else if(st.matches)M=st.matches;else{_e(E,P,Yt(404,{pathname:D}),{flushSync:se});return}}let ye=va(M,D);if(!ye.route.action&&!ye.route.lazy){let st=Yt(405,{method:le.formMethod,pathname:D,routeId:P});_e(E,P,st,{flushSync:se});return}ce.set(E,he);let Be=ke,St=Li(i,o,ae,M,ye,n,K),Ze=(await q(ae,St,K,E))[ye.route.id];if(ae.signal.aborted){ce.get(E)===he&&ce.delete(E);return}if(Ie.has(E)){if(jn(Ze)||Ht(Ze)){X(E,Qr(void 0));return}}else{if(jn(Ze))if(ce.delete(E),U>Be){X(E,Qr(void 0));return}else return Q.add(E),X(E,fo(le)),O(ae,Ze,!1,{fetcherSubmission:le,preventScrollReset:re});if(Ht(Ze)){_e(E,P,Ze.error);return}}let Me=x.navigation.location||x.location,En=gi(e.history,Me,he.signal),eo=a||s,qr=x.navigation.state!=="idle"?nn(eo,x.navigation.location,l):x.matches;Se(qr,"Didn't find any matches after fetcher action");let vr=++ke;W.set(E,vr);let $l=fo(le,Ze.data);x.fetchers.set(E,$l);let{dsMatches:to,revalidatingFetchers:Cn}=Rf(En,K,i,o,e.history,x,qr,le,Me,n,!1,ne,oe,Ie,ge,Q,eo,l,e.patchRoutesOnNavigation!=null,[ye.route.id,Ze]);Cn.filter(st=>st.key!==E).forEach(st=>{let Ds=st.key,hh=x.fetchers.get(Ds),e0=fo(void 0,hh?hh.data:void 0);x.fetchers.set(Ds,e0),Ye(Ds),st.controller&&ce.set(Ds,st.controller)}),G({fetchers:new Map(x.fetchers)});let Ts=()=>Cn.forEach(st=>Ye(st.key));he.signal.addEventListener("abort",Ts);let{loaderResults:Rs,fetcherResults:Re}=await j(to,Cn,En,K);if(he.signal.aborted)return;if(he.signal.removeEventListener("abort",Ts),W.delete(E),ce.delete(E),Cn.forEach(st=>ce.delete(st.key)),x.fetchers.has(E)){let st=Qr(Ze.data);x.fetchers.set(E,st)}let xt=Gs(Rs);if(xt)return O(En,xt.result,!1,{preventScrollReset:re});if(xt=Gs(Re),xt)return Q.add(xt.key),O(En,xt.result,!1,{preventScrollReset:re});let{loaderData:As,errors:ro}=Lf(x,qr,Rs,void 0,Cn,Re);si(vr),x.navigation.state==="loading"&&vr>U?(Se(A,"Expected pending action"),V&&V.abort(),I(x.navigation.location,{matches:qr,loaderData:As,errors:ro,fetchers:new Map(x.fetchers)})):(G({errors:ro,loaderData:Nf(x.loaderData,As,qr,ro),fetchers:new Map(x.fetchers)}),ne=!1)}async function R(E,P,D,M,K,ie,se,re,le){let pe=x.fetchers.get(E);X(E,fo(le,pe?pe.data:void 0),{flushSync:se});let he=new AbortController,ae=gi(e.history,D,he.signal);if(ie){let Me=await Ps(M,new URL(ae.url).pathname,ae.signal,E);if(Me.type==="aborted")return;if(Me.type==="error"){_e(E,P,Me.error,{flushSync:se});return}else if(Me.matches)M=Me.matches;else{_e(E,P,Yt(404,{pathname:D}),{flushSync:se});return}}let ye=va(M,D);ce.set(E,he);let Be=ke,St=Li(i,o,ae,M,ye,n,K),Ze=(await q(ae,St,K,E))[ye.route.id];if(ce.get(E)===he&&ce.delete(E),!ae.signal.aborted){if(Ie.has(E)){X(E,Qr(void 0));return}if(jn(Ze))if(U>Be){X(E,Qr(void 0));return}else{Q.add(E),await O(ae,Ze,!1,{preventScrollReset:re});return}if(Ht(Ze)){_e(E,P,Ze.error);return}X(E,Qr(Ze.data))}}async function O(E,P,D,{submission:M,fetcherSubmission:K,preventScrollReset:ie,replace:se}={}){P.response.headers.has("X-Remix-Revalidate")&&(ne=!0);let re=P.response.headers.get("Location");Se(re,"Expected a Location header on the redirect Response"),re=If(re,new URL(E.url),l);let le=rs(x.location,re,{_isRedirect:!0});if(r){let St=!1;if(P.response.headers.has("X-Remix-Reload-Document"))St=!0;else if(Fd(re)){const Pt=by(re,!0);St=Pt.origin!==t.location.origin||sr(Pt.pathname,l)==null}if(St){se?t.location.replace(re):t.location.assign(re);return}}V=null;let pe=se===!0||P.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:he,formAction:ae,formEncType:ye}=x.navigation;!M&&!K&&he&&ae&&ye&&(M=Uf(x.navigation));let Be=M||K;if(uS.has(P.response.status)&&Be&&Lt(Be.formMethod))await _t(pe,le,{submission:{...Be,formAction:re},preventScrollReset:ie||$,enableViewTransition:D?J:void 0});else{let St=uu(le,M);await _t(pe,le,{overrideNavigation:St,fetcherSubmission:K,preventScrollReset:ie||$,enableViewTransition:D?J:void 0})}}async function q(E,P,D,M){let K,ie={};try{K=await wS(u,E,P,M,D,!1)}catch(se){return P.filter(re=>re.shouldLoad).forEach(re=>{ie[re.route.id]={type:"error",error:se}}),ie}if(E.signal.aborted)return ie;for(let[se,re]of Object.entries(K))if(CS(re)){let le=re.result;ie[se]={type:"redirect",response:bS(le,E,se,P,l)}}else ie[se]=await xS(re);return ie}async function j(E,P,D,M){let K=q(D,E,M,null),ie=Promise.all(P.map(async le=>{if(le.matches&&le.match&&le.request&&le.controller){let he=(await q(le.request,le.matches,M,le.key))[le.match.route.id];return{[le.key]:he}}else return Promise.resolve({[le.key]:{type:"error",error:Yt(404,{pathname:le.path})}})})),se=await K,re=(await ie).reduce((le,pe)=>Object.assign(le,pe),{});return{loaderResults:se,fetcherResults:re}}function N(){ne=!0,ge.forEach((E,P)=>{ce.has(P)&&oe.add(P),Ye(P)})}function X(E,P,D={}){x.fetchers.set(E,P),G({fetchers:new Map(x.fetchers)},{flushSync:(D&&D.flushSync)===!0})}function _e(E,P,D,M={}){let K=on(x.matches,P);ft(E),G({errors:{[K.route.id]:D},fetchers:new Map(x.fetchers)},{flushSync:(M&&M.flushSync)===!0})}function Pe(E){return Ee.set(E,(Ee.get(E)||0)+1),Ie.has(E)&&Ie.delete(E),x.fetchers.get(E)||cS}function ft(E){let P=x.fetchers.get(E);ce.has(E)&&!(P&&P.state==="loading"&&W.has(E))&&Ye(E),ge.delete(E),W.delete(E),Q.delete(E),Ie.delete(E),oe.delete(E),x.fetchers.delete(E)}function Hr(E){let P=(Ee.get(E)||0)-1;P<=0?(Ee.delete(E),Ie.add(E)):Ee.set(E,P),G({fetchers:new Map(x.fetchers)})}function Ye(E){let P=ce.get(E);P&&(P.abort(),ce.delete(E))}function Es(E){for(let P of E){let D=Pe(P),M=Qr(D.data);x.fetchers.set(P,M)}}function oi(){let E=[],P=!1;for(let D of Q){let M=x.fetchers.get(D);Se(M,`Expected fetcher: ${D}`),M.state==="loading"&&(Q.delete(D),E.push(D),P=!0)}return Es(E),P}function si(E){let P=[];for(let[D,M]of W)if(M<E){let K=x.fetchers.get(D);Se(K,`Expected fetcher: ${D}`),K.state==="loading"&&(Ye(D),W.delete(D),P.push(D))}return Es(P),P.length>0}function Dl(E,P){let D=x.blockers.get(E)||ho;return Z.get(E)!==P&&Z.set(E,P),D}function Yi(E){x.blockers.delete(E),Z.delete(E)}function ai(E,P){let D=x.blockers.get(E)||ho;Se(D.state==="unblocked"&&P.state==="blocked"||D.state==="blocked"&&P.state==="blocked"||D.state==="blocked"&&P.state==="proceeding"||D.state==="blocked"&&P.state==="unblocked"||D.state==="proceeding"&&P.state==="unblocked",`Invalid blocker state transition: ${D.state} -> ${P.state}`);let M=new Map(x.blockers);M.set(E,P),G({blockers:M})}function Xi({currentLocation:E,nextLocation:P,historyAction:D}){if(Z.size===0)return;Z.size>1&&it(!1,"A router only supports one blocker at a time");let M=Array.from(Z.entries()),[K,ie]=M[M.length-1],se=x.blockers.get(K);if(!(se&&se.state==="proceeding")&&ie({currentLocation:E,nextLocation:P,historyAction:D}))return K}function Ol(E){let P=Yt(404,{pathname:E}),D=a||s,{matches:M,route:K}=Mf(D);return{notFoundMatches:M,route:K,error:P}}function Qv(E,P,D){if(g=E,v=P,w=D||null,!C&&x.navigation===lu){C=!0;let M=dh(x.location,x.matches);M!=null&&G({restoreScrollPosition:M})}return()=>{g=null,v=null,w=null}}function ch(E,P){return w&&w(E,P.map(M=>F_(M,x.loaderData)))||E.key}function Jv(E,P){if(g&&v){let D=ch(E,P);g[D]=v()}}function dh(E,P){if(g){let D=ch(E,P),M=g[D];if(typeof M=="number")return M}return null}function Cs(E,P,D){if(e.patchRoutesOnNavigation)if(E){if(Object.keys(E[0].params).length>0)return{active:!0,matches:ya(P,D,l,!0)}}else return{active:!0,matches:ya(P,D,l,!0)||[]};return{active:!1,matches:null}}async function Ps(E,P,D,M){if(!e.patchRoutesOnNavigation)return{type:"success",matches:E};let K=E;for(;;){let ie=a==null,se=a||s,re=o;try{await e.patchRoutesOnNavigation({signal:D,path:P,matches:K,fetcherKey:M,patch:(he,ae)=>{D.aborted||Af(he,ae,se,re,i,!1)}})}catch(he){return{type:"error",error:he,partialMatches:K}}finally{ie&&!D.aborted&&(s=[...s])}if(D.aborted)return{type:"aborted"};let le=nn(se,P,l);if(le)return{type:"success",matches:le};let pe=ya(se,P,l,!0);if(!pe||K.length===pe.length&&K.every((he,ae)=>he.route.id===pe[ae].route.id))return{type:"success",matches:null};K=pe}}function Yv(E){o={},a=ns(E,i,void 0,o)}function Xv(E,P,D=!1){let M=a==null;Af(E,P,a||s,o,i,D),M&&(s=[...s],G({}))}return T={get basename(){return l},get future(){return c},get state(){return x},get routes(){return s},get window(){return t},initialize:me,subscribe:Te,enableScrollRestoration:Qv,navigate:H,fetch:Zr,revalidate:fe,createHref:E=>e.history.createHref(E),encodeLocation:E=>e.history.encodeLocation(E),getFetcher:Pe,deleteFetcher:Hr,dispose:Qe,getBlocker:Dl,deleteBlocker:Yi,patchRoutes:Xv,_internalFetchControllers:ce,_internalSetRoutes:Yv,_internalSetStateDoNotUseOrYouWillBreakYourApp(E){G(E)}},T}function pS(e){return e!=null&&("formData"in e&&e.formData!=null||"body"in e&&e.body!==void 0)}function _c(e,t,r,n,i,o){let s,a;if(i){s=[];for(let u of t)if(s.push(u),u.route.id===i){a=u;break}}else s=t,a=t[t.length-1];let l=Md(n||".",jd(s),sr(e.pathname,r)||e.pathname,o==="path");if(n==null&&(l.search=e.search,l.hash=e.hash),(n==null||n===""||n===".")&&a){let u=Ud(l.search);if(a.route.index&&!u)l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index";else if(!a.route.index&&u){let c=new URLSearchParams(l.search),d=c.getAll("index");c.delete("index"),d.filter(g=>g).forEach(g=>c.append("index",g));let f=c.toString();l.search=f?`?${f}`:""}}return r!=="/"&&(l.pathname=X_({basename:r,pathname:l.pathname})),_n(l)}function Tf(e,t,r){if(!r||!pS(r))return{path:t};if(r.formMethod&&!PS(r.formMethod))return{path:t,error:Yt(405,{method:r.formMethod})};let n=()=>({path:t,error:Yt(400,{type:"invalid-body"})}),o=(r.formMethod||"get").toUpperCase(),s=Ly(t);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!Lt(o))return n();let d=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((f,[g,w])=>`${f}${g}=${w}
`,""):String(r.body);return{path:t,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:void 0,text:d}}}else if(r.formEncType==="application/json"){if(!Lt(o))return n();try{let d=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:t,submission:{formMethod:o,formAction:s,formEncType:r.formEncType,formData:void 0,json:d,text:void 0}}}catch{return n()}}}Se(typeof FormData=="function","FormData is not available in this environment");let a,l;if(r.formData)a=bc(r.formData),l=r.formData;else if(r.body instanceof FormData)a=bc(r.body),l=r.body;else if(r.body instanceof URLSearchParams)a=r.body,l=zf(a);else if(r.body==null)a=new URLSearchParams,l=new FormData;else try{a=new URLSearchParams(r.body),l=zf(a)}catch{return n()}let u={formMethod:o,formAction:s,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:l,json:void 0,text:void 0};if(Lt(u.formMethod))return{path:t,submission:u};let c=Wr(t);return e&&c.search&&Ud(c.search)&&a.append("index",""),c.search=`?${a}`,{path:_n(c),submission:u}}function Rf(e,t,r,n,i,o,s,a,l,u,c,d,f,g,w,v,C,y,m,p){var ue;let b=p?Ht(p[1])?p[1].error:p[1].data:void 0,T=i.createURL(o.location),x=i.createURL(l),A;if(c&&o.errors){let ne=Object.keys(o.errors)[0];A=s.findIndex(oe=>oe.route.id===ne)}else if(p&&Ht(p[1])){let ne=p[0];A=s.findIndex(oe=>oe.route.id===ne)-1}let $=p?p[1].statusCode:void 0,V=$&&$>=400,J={currentUrl:T,currentParams:((ue=o.matches[0])==null?void 0:ue.params)||{},nextUrl:x,nextParams:s[0].params,...a,actionResult:b,actionStatus:$},we=s.map((ne,oe)=>{let{route:ce}=ne,ke=null;if(A!=null&&oe>A?ke=!1:ce.lazy?ke=!0:ce.loader==null?ke=!1:c?ke=Sc(ce,o.loaderData,o.errors):gS(o.loaderData,o.matches[oe],ne)&&(ke=!0),ke!==null)return xc(r,n,e,ne,u,t,ke);let U=V?!1:d||T.pathname+T.search===x.pathname+x.search||T.search!==x.search||mS(o.matches[oe],ne),W={...J,defaultShouldRevalidate:U},Q=Ka(ne,W);return xc(r,n,e,ne,u,t,Q,W)}),te=[];return w.forEach((ne,oe)=>{if(c||!s.some(Ie=>Ie.route.id===ne.routeId)||g.has(oe))return;let ce=o.fetchers.get(oe),ke=ce&&ce.state!=="idle"&&ce.data===void 0,U=nn(C,ne.path,y);if(!U){if(m&&ke)return;te.push({key:oe,routeId:ne.routeId,path:ne.path,matches:null,match:null,request:null,controller:null});return}if(v.has(oe))return;let W=va(U,ne.path),Q=new AbortController,ge=gi(i,ne.path,Q.signal),Ee=null;if(f.has(oe))f.delete(oe),Ee=Li(r,n,ge,U,W,u,t);else if(ke)d&&(Ee=Li(r,n,ge,U,W,u,t));else{let Ie={...J,defaultShouldRevalidate:V?!1:d};Ka(W,Ie)&&(Ee=Li(r,n,ge,U,W,u,t,Ie))}Ee&&te.push({key:oe,routeId:ne.routeId,path:ne.path,matches:Ee,match:W,request:ge,controller:Q})}),{dsMatches:we,revalidatingFetchers:te}}function Sc(e,t,r){if(e.lazy)return!0;if(!e.loader)return!1;let n=t!=null&&e.id in t,i=r!=null&&r[e.id]!==void 0;return!n&&i?!1:typeof e.loader=="function"&&e.loader.hydrate===!0?!0:!n&&!i}function gS(e,t,r){let n=!t||r.route.id!==t.route.id,i=!e.hasOwnProperty(r.route.id);return n||i}function mS(e,t){let r=e.route.path;return e.pathname!==t.pathname||r!=null&&r.endsWith("*")&&e.params["*"]!==t.params["*"]}function Ka(e,t){if(e.route.shouldRevalidate){let r=e.route.shouldRevalidate(t);if(typeof r=="boolean")return r}return t.defaultShouldRevalidate}function Af(e,t,r,n,i,o){let s;if(e){let u=n[e];Se(u,`No route found to patch children into: routeId = ${e}`),u.children||(u.children=[]),s=u.children}else s=r;let a=[],l=[];if(t.forEach(u=>{let c=s.find(d=>Ay(u,d));c?l.push({existingRoute:c,newRoute:u}):a.push(u)}),a.length>0){let u=ns(a,i,[e||"_","patch",String((s==null?void 0:s.length)||"0")],n);s.push(...u)}if(o&&l.length>0)for(let u=0;u<l.length;u++){let{existingRoute:c,newRoute:d}=l[u],f=c,[g]=ns([d],i,[],{},!0);Object.assign(f,{element:g.element?g.element:f.element,errorElement:g.errorElement?g.errorElement:f.errorElement,hydrateFallbackElement:g.hydrateFallbackElement?g.hydrateFallbackElement:f.hydrateFallbackElement})}}function Ay(e,t){return"id"in e&&"id"in t&&e.id===t.id?!0:e.index===t.index&&e.path===t.path&&e.caseSensitive===t.caseSensitive?(!e.children||e.children.length===0)&&(!t.children||t.children.length===0)?!0:e.children.every((r,n)=>{var i;return(i=t.children)==null?void 0:i.some(o=>Ay(r,o))}):!1}var Df=new WeakMap,Dy=({key:e,route:t,manifest:r,mapRouteProperties:n})=>{let i=r[t.id];if(Se(i,"No route found in manifest"),!i.lazy||typeof i.lazy!="object")return;let o=i.lazy[e];if(!o)return;let s=Df.get(i);s||(s={},Df.set(i,s));let a=s[e];if(a)return a;let l=(async()=>{let u=L_(e),d=i[e]!==void 0&&e!=="hasErrorBoundary";if(u)it(!u,"Route property "+e+" is not a supported lazy route property. This property will be ignored."),s[e]=Promise.resolve();else if(d)it(!1,`Route "${i.id}" has a static property "${e}" defined. The lazy property will be ignored.`);else{let f=await o();f!=null&&(Object.assign(i,{[e]:f}),Object.assign(i,n(i)))}typeof i.lazy=="object"&&(i.lazy[e]=void 0,Object.values(i.lazy).every(f=>f===void 0)&&(i.lazy=void 0))})();return s[e]=l,l},Of=new WeakMap;function yS(e,t,r,n,i){let o=r[e.id];if(Se(o,"No route found in manifest"),!e.lazy)return{lazyRoutePromise:void 0,lazyHandlerPromise:void 0};if(typeof e.lazy=="function"){let c=Of.get(o);if(c)return{lazyRoutePromise:c,lazyHandlerPromise:c};let d=(async()=>{Se(typeof e.lazy=="function","No lazy route function found");let f=await e.lazy(),g={};for(let w in f){let v=f[w];if(v===void 0)continue;let C=j_(w),m=o[w]!==void 0&&w!=="hasErrorBoundary";C?it(!C,"Route property "+w+" is not a supported property to be returned from a lazy route function. This property will be ignored."):m?it(!m,`Route "${o.id}" has a static property "${w}" defined but its lazy function is also returning a value for this property. The lazy route property "${w}" will be ignored.`):g[w]=v}Object.assign(o,g),Object.assign(o,{...n(o),lazy:void 0})})();return Of.set(o,d),d.catch(()=>{}),{lazyRoutePromise:d,lazyHandlerPromise:d}}let s=Object.keys(e.lazy),a=[],l;for(let c of s){if(i&&i.includes(c))continue;let d=Dy({key:c,route:e,manifest:r,mapRouteProperties:n});d&&(a.push(d),c===t&&(l=d))}let u=a.length>0?Promise.all(a).then(()=>{}):void 0;return u==null||u.catch(()=>{}),l==null||l.catch(()=>{}),{lazyRoutePromise:u,lazyHandlerPromise:l}}async function $f(e){let t=e.matches.filter(i=>i.shouldLoad),r={};return(await Promise.all(t.map(i=>i.resolve()))).forEach((i,o)=>{r[t[o].route.id]=i}),r}async function vS(e){if(!e.matches.some(r=>r.route.unstable_middleware))return $f(e);let t=!1;return $y(e,()=>(t=!0,$f(e)),(r,n)=>Oy(r,n,e.matches,t))}function Oy(e,t,r,n){if(n)return{[t]:{type:"error",result:e}};{let i=Math.min(r.findIndex(s=>s.route.id===t)||0,r.findIndex(s=>s.unstable_shouldCallHandler())||0);return{[on(r,r[i].route.id).route.id]:{type:"error",result:e}}}}async function $y(e,t,r){let{matches:n,request:i,params:o,context:s}=e,a=n.flatMap(u=>u.route.unstable_middleware?u.route.unstable_middleware.map(c=>[u.route.id,c]):[]),l={};return await Iy({request:i,params:o,context:s},a,t,r,l),l}async function Iy(e,t,r,n,i={},o=0){let{request:s}=e;if(s.signal.aborted)throw s.signal.reason?s.signal.reason:new Error(`Request aborted without an \`AbortSignal.reason\`: ${s.method} ${s.url}`);let a=t[o];if(!a){let f=await r();Object.assign(i,f);return}let[l,u]=a,c=!1,d=async()=>{if(c)throw new Error("You may only call `next()` once per middleware");c=!0;try{let f=await Iy(e,t,r,n,i,o+1);Object.assign(i,f)}catch(f){let g=await n(f,l);Object.assign(i,g)}};try{let f=await u({request:e.request,params:e.params,context:e.context},d);typeof f<"u"&&console.warn("client middlewares are not intended to return values, the value will be ignored",f),c||await d()}catch(f){let g=await n(f,l);Object.assign(i,g)}}function zy(e,t,r,n,i){let o=Dy({key:"unstable_middleware",route:n.route,manifest:t,mapRouteProperties:e}),s=yS(n.route,Lt(r.method)?"action":"loader",t,e,i);return{middleware:o,route:s.lazyRoutePromise,handler:s.lazyHandlerPromise}}function xc(e,t,r,n,i,o,s,a=null){let l=!1,u=zy(e,t,r,n,i);return{...n,_lazyPromises:u,shouldLoad:s,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler(c){return l=!0,a?typeof c=="boolean"?Ka(n,{...a,defaultShouldRevalidate:c}):Ka(n,a):s},resolve(c){return l||s||c&&!Lt(r.method)&&(n.route.lazy||n.route.loader)?_S({request:r,match:n,lazyHandlerPromise:u==null?void 0:u.handler,lazyRoutePromise:u==null?void 0:u.route,handlerOverride:c,scopedContext:o}):Promise.resolve({type:"data",result:void 0})}}}function Li(e,t,r,n,i,o,s,a=null){return n.map(l=>l.route.id!==i.route.id?{...l,shouldLoad:!1,unstable_shouldRevalidateArgs:a,unstable_shouldCallHandler:()=>!1,_lazyPromises:zy(e,t,r,l,o),resolve:()=>Promise.resolve({type:"data",result:void 0})}:xc(e,t,r,l,o,s,!0,a))}async function wS(e,t,r,n,i,o){r.some(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware})&&await Promise.all(r.map(u=>{var c;return(c=u._lazyPromises)==null?void 0:c.middleware}));let s={request:t,params:r[0].params,context:i,matches:r},l=await e({...s,fetcherKey:n,unstable_runClientMiddleware:o?()=>{throw new Error("You cannot call `unstable_runClientMiddleware()` from a static handler `dataStrategy`. Middleware is run outside of `dataStrategy` during SSR in order to bubble up the Response.  You can enable middleware via the `respond` API in `query`/`queryRoute`")}:u=>{let c=s,d=!1;return $y(c,()=>(d=!0,u({...c,fetcherKey:n,unstable_runClientMiddleware:()=>{throw new Error("Cannot call `unstable_runClientMiddleware()` from within an `unstable_runClientMiddleware` handler")}})),(f,g)=>Oy(f,g,r,d))}});try{await Promise.all(r.flatMap(u=>{var c,d;return[(c=u._lazyPromises)==null?void 0:c.handler,(d=u._lazyPromises)==null?void 0:d.route]}))}catch{}return l}async function _S({request:e,match:t,lazyHandlerPromise:r,lazyRoutePromise:n,handlerOverride:i,scopedContext:o}){let s,a,l=Lt(e.method),u=l?"action":"loader",c=d=>{let f,g=new Promise((C,y)=>f=y);a=()=>f(),e.signal.addEventListener("abort",a);let w=C=>typeof d!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${u}" [routeId: ${t.route.id}]`)):d({request:e,params:t.params,context:o},...C!==void 0?[C]:[]),v=(async()=>{try{return{type:"data",result:await(i?i(y=>w(y)):w())}}catch(C){return{type:"error",result:C}}})();return Promise.race([v,g])};try{let d=l?t.route.action:t.route.loader;if(r||n)if(d){let f,[g]=await Promise.all([c(d).catch(w=>{f=w}),r,n]);if(f!==void 0)throw f;s=g}else{await r;let f=l?t.route.action:t.route.loader;if(f)[s]=await Promise.all([c(f),n]);else if(u==="action"){let g=new URL(e.url),w=g.pathname+g.search;throw Yt(405,{method:e.method,pathname:w,routeId:t.route.id})}else return{type:"data",result:void 0}}else if(d)s=await c(d);else{let f=new URL(e.url),g=f.pathname+f.search;throw Yt(404,{pathname:g})}}catch(d){return{type:"error",result:d}}finally{a&&e.signal.removeEventListener("abort",a)}return s}async function SS(e){let t=e.headers.get("Content-Type");return t&&/\bapplication\/json\b/.test(t)?e.body==null?null:e.json():e.text()}async function xS(e){var n,i,o,s,a,l;let{result:t,type:r}=e;if(Ny(t)){let u;try{u=await SS(t)}catch(c){return{type:"error",error:c}}return r==="error"?{type:"error",error:new qa(t.status,t.statusText,u),statusCode:t.status,headers:t.headers}:{type:"data",data:u,statusCode:t.status,headers:t.headers}}return r==="error"?Ff(t)?t.data instanceof Error?{type:"error",error:t.data,statusCode:(n=t.init)==null?void 0:n.status,headers:(i=t.init)!=null&&i.headers?new Headers(t.init.headers):void 0}:{type:"error",error:new qa(((o=t.init)==null?void 0:o.status)||500,void 0,t.data),statusCode:is(t)?t.status:void 0,headers:(s=t.init)!=null&&s.headers?new Headers(t.init.headers):void 0}:{type:"error",error:t,statusCode:is(t)?t.status:void 0}:Ff(t)?{type:"data",data:t.data,statusCode:(a=t.init)==null?void 0:a.status,headers:(l=t.init)!=null&&l.headers?new Headers(t.init.headers):void 0}:{type:"data",data:t}}function bS(e,t,r,n,i){let o=e.headers.get("Location");if(Se(o,"Redirects returned/thrown from loaders/actions must have a Location header"),!Fd(o)){let s=n.slice(0,n.findIndex(a=>a.route.id===r)+1);o=_c(new URL(t.url),s,i,o),e.headers.set("Location",o)}return e}function If(e,t,r){if(Fd(e)){let n=e,i=n.startsWith("//")?new URL(t.protocol+n):new URL(n),o=sr(i.pathname,r)!=null;if(i.origin===t.origin&&o)return i.pathname+i.search+i.hash}return e}function gi(e,t,r,n){let i=e.createURL(Ly(t)).toString(),o={signal:r};if(n&&Lt(n.formMethod)){let{formMethod:s,formEncType:a}=n;o.method=s.toUpperCase(),a==="application/json"?(o.headers=new Headers({"Content-Type":a}),o.body=JSON.stringify(n.json)):a==="text/plain"?o.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?o.body=bc(n.formData):o.body=n.formData}return new Request(i,o)}function bc(e){let t=new URLSearchParams;for(let[r,n]of e.entries())t.append(r,typeof n=="string"?n:n.name);return t}function zf(e){let t=new FormData;for(let[r,n]of e.entries())t.append(r,n);return t}function kS(e,t,r,n=!1,i=!1){let o={},s=null,a,l=!1,u={},c=r&&Ht(r[1])?r[1].error:void 0;return e.forEach(d=>{if(!(d.route.id in t))return;let f=d.route.id,g=t[f];if(Se(!jn(g),"Cannot handle redirect results in processLoaderData"),Ht(g)){let w=g.error;if(c!==void 0&&(w=c,c=void 0),s=s||{},i)s[f]=w;else{let v=on(e,f);s[v.route.id]==null&&(s[v.route.id]=w)}n||(o[f]=Ry),l||(l=!0,a=is(g.error)?g.error.status:500),g.headers&&(u[f]=g.headers)}else o[f]=g.data,g.statusCode&&g.statusCode!==200&&!l&&(a=g.statusCode),g.headers&&(u[f]=g.headers)}),c!==void 0&&r&&(s={[r[0]]:c},r[2]&&(o[r[2]]=void 0)),{loaderData:o,errors:s,statusCode:a||200,loaderHeaders:u}}function Lf(e,t,r,n,i,o){let{loaderData:s,errors:a}=kS(t,r,n);return i.filter(l=>!l.matches||l.matches.some(u=>u.shouldLoad)).forEach(l=>{let{key:u,match:c,controller:d}=l;if(d&&d.signal.aborted)return;let f=o[u];if(Se(f,"Did not find corresponding fetcher result"),Ht(f)){let g=on(e.matches,c==null?void 0:c.route.id);a&&a[g.route.id]||(a={...a,[g.route.id]:f.error}),e.fetchers.delete(u)}else if(jn(f))Se(!1,"Unhandled fetcher revalidation redirect");else{let g=Qr(f.data);e.fetchers.set(u,g)}}),{loaderData:s,errors:a}}function Nf(e,t,r,n){let i=Object.entries(t).filter(([,o])=>o!==Ry).reduce((o,[s,a])=>(o[s]=a,o),{});for(let o of r){let s=o.route.id;if(!t.hasOwnProperty(s)&&e.hasOwnProperty(s)&&o.route.loader&&(i[s]=e[s]),n&&n.hasOwnProperty(s))break}return i}function jf(e){return e?Ht(e[1])?{actionData:{}}:{actionData:{[e[0]]:e[1].data}}:{}}function on(e,t){return(t?e.slice(0,e.findIndex(n=>n.route.id===t)+1):[...e]).reverse().find(n=>n.route.hasErrorBoundary===!0)||e[0]}function Mf(e){let t=e.length===1?e[0]:e.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Yt(e,{pathname:t,routeId:r,method:n,type:i,message:o}={}){let s="Unknown Server Error",a="Unknown @remix-run/router error";return e===400?(s="Bad Request",n&&t&&r?a=`You made a ${n} request to "${t}" but did not provide a \`loader\` for route "${r}", so there is no way to handle the request.`:i==="invalid-body"&&(a="Unable to encode submission body")):e===403?(s="Forbidden",a=`Route "${r}" does not match URL "${t}"`):e===404?(s="Not Found",a=`No route matches URL "${t}"`):e===405&&(s="Method Not Allowed",n&&t&&r?a=`You made a ${n.toUpperCase()} request to "${t}" but did not provide an \`action\` for route "${r}", so there is no way to handle the request.`:n&&(a=`Invalid request method "${n.toUpperCase()}"`)),new qa(e||500,s,new Error(a),!0)}function Gs(e){let t=Object.entries(e);for(let r=t.length-1;r>=0;r--){let[n,i]=t[r];if(jn(i))return{key:n,result:i}}}function Ly(e){let t=typeof e=="string"?Wr(e):e;return _n({...t,hash:""})}function ES(e,t){return e.pathname!==t.pathname||e.search!==t.search?!1:e.hash===""?t.hash!=="":e.hash===t.hash?!0:t.hash!==""}function CS(e){return Ny(e.result)&&lS.has(e.result.status)}function Ht(e){return e.type==="error"}function jn(e){return(e&&e.type)==="redirect"}function Ff(e){return typeof e=="object"&&e!=null&&"type"in e&&"data"in e&&"init"in e&&e.type==="DataWithResponseInit"}function Ny(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.headers=="object"&&typeof e.body<"u"}function PS(e){return aS.has(e.toUpperCase())}function Lt(e){return oS.has(e.toUpperCase())}function Ud(e){return new URLSearchParams(e).getAll("index").some(t=>t==="")}function va(e,t){let r=typeof t=="string"?Wr(t).search:t.search;if(e[e.length-1].route.index&&Ud(r||""))return e[e.length-1];let n=Cy(e);return n[n.length-1]}function Uf(e){let{formMethod:t,formAction:r,formEncType:n,text:i,formData:o,json:s}=e;if(!(!t||!r||!n)){if(i!=null)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(o!=null)return{formMethod:t,formAction:r,formEncType:n,formData:o,json:void 0,text:void 0};if(s!==void 0)return{formMethod:t,formAction:r,formEncType:n,formData:void 0,json:s,text:void 0}}}function uu(e,t){return t?{state:"loading",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}:{state:"loading",location:e,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function TS(e,t){return{state:"submitting",location:e,formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text}}function fo(e,t){return e?{state:"loading",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function RS(e,t){return{state:"submitting",formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text,data:t?t.data:void 0}}function Qr(e){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function AS(e,t){try{let r=e.sessionStorage.getItem(Ty);if(r){let n=JSON.parse(r);for(let[i,o]of Object.entries(n||{}))o&&Array.isArray(o)&&t.set(i,new Set(o||[]))}}catch{}}function DS(e,t){if(t.size>0){let r={};for(let[n,i]of t)r[n]=[...i];try{e.sessionStorage.setItem(Ty,JSON.stringify(r))}catch(n){it(!1,`Failed to save applied view transitions in sessionStorage (${n}).`)}}}function OS(){let e,t,r=new Promise((n,i)=>{e=async o=>{n(o);try{await r}catch{}},t=async o=>{i(o);try{await r}catch{}}});return{promise:r,resolve:e,reject:t}}var Jn=S.createContext(null);Jn.displayName="DataRouter";var ps=S.createContext(null);ps.displayName="DataRouterState";S.createContext(!1);var Bd=S.createContext({isTransitioning:!1});Bd.displayName="ViewTransition";var jy=S.createContext(new Map);jy.displayName="Fetchers";var $S=S.createContext(null);$S.displayName="Await";var Tr=S.createContext(null);Tr.displayName="Navigation";var gs=S.createContext(null);gs.displayName="Location";var Rr=S.createContext({outlet:null,matches:[],isDataRoute:!1});Rr.displayName="Route";var Wd=S.createContext(null);Wd.displayName="RouteError";function IS(e,{relative:t}={}){Se(ms(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=S.useContext(Tr),{hash:i,pathname:o,search:s}=ys(e,{relative:t}),a=o;return r!=="/"&&(a=o==="/"?r:Pr([r,o])),n.createHref({pathname:a,search:s,hash:i})}function ms(){return S.useContext(gs)!=null}function Yn(){return Se(ms(),"useLocation() may be used only in the context of a <Router> component."),S.useContext(gs).location}var My="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Fy(e){S.useContext(Tr).static||S.useLayoutEffect(e)}function zS(){let{isDataRoute:e}=S.useContext(Rr);return e?QS():LS()}function LS(){Se(ms(),"useNavigate() may be used only in the context of a <Router> component.");let e=S.useContext(Jn),{basename:t,navigator:r}=S.useContext(Tr),{matches:n}=S.useContext(Rr),{pathname:i}=Yn(),o=JSON.stringify(jd(n)),s=S.useRef(!1);return Fy(()=>{s.current=!0}),S.useCallback((l,u={})=>{if(it(s.current,My),!s.current)return;if(typeof l=="number"){r.go(l);return}let c=Md(l,JSON.parse(o),i,u.relative==="path");e==null&&t!=="/"&&(c.pathname=c.pathname==="/"?t:Pr([t,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[t,r,o,i,e])}var NS=S.createContext(null);function jS(e){let t=S.useContext(Rr).outlet;return t&&S.createElement(NS.Provider,{value:e},t)}function ys(e,{relative:t}={}){let{matches:r}=S.useContext(Rr),{pathname:n}=Yn(),i=JSON.stringify(jd(r));return S.useMemo(()=>Md(e,JSON.parse(i),n,t==="path"),[e,i,n,t])}function MS(e,t,r,n){var y;Se(ms(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=S.useContext(Tr),{matches:o}=S.useContext(Rr),s=o[o.length-1],a=s?s.params:{},l=s?s.pathname:"/",u=s?s.pathnameBase:"/",c=s&&s.route;{let m=c&&c.path||"";Uy(l,!c||m.endsWith("*")||m.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${m}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${m}"> to <Route path="${m==="/"?"*":`${m}/*`}">.`)}let d=Yn(),f;if(t){let m=typeof t=="string"?Wr(t):t;Se(u==="/"||((y=m.pathname)==null?void 0:y.startsWith(u)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${m.pathname}" was given in the \`location\` prop.`),f=m}else f=d;let g=f.pathname||"/",w=g;if(u!=="/"){let m=u.replace(/^\//,"").split("/");w="/"+g.replace(/^\//,"").split("/").slice(m.length).join("/")}let v=nn(e,{pathname:w});it(c||v!=null,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),it(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let C=VS(v&&v.map(m=>Object.assign({},m,{params:Object.assign({},a,m.params),pathname:Pr([u,i.encodeLocation?i.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?u:Pr([u,i.encodeLocation?i.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),o,r,n);return t&&C?S.createElement(gs.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},C):C}function FS(){let e=GS(),t=is(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=S.createElement(S.Fragment,null,S.createElement("p",null," Hey developer "),S.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",S.createElement("code",{style:o},"ErrorBoundary")," or"," ",S.createElement("code",{style:o},"errorElement")," prop on your route.")),S.createElement(S.Fragment,null,S.createElement("h2",null,"Unexpected Application Error!"),S.createElement("h3",{style:{fontStyle:"italic"}},t),r?S.createElement("pre",{style:i},r):null,s)}var US=S.createElement(FS,null),BS=class extends S.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?S.createElement(Rr.Provider,{value:this.props.routeContext},S.createElement(Wd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function WS({routeContext:e,match:t,children:r}){let n=S.useContext(Jn);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),S.createElement(Rr.Provider,{value:e},r)}function VS(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=r==null?void 0:r.errors;if(o!=null){let l=i.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id])!==void 0);Se(l>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(r)for(let l=0;l<i.length;l++){let u=i[l];if((u.route.HydrateFallback||u.route.hydrateFallbackElement)&&(a=l),u.route.id){let{loaderData:c,errors:d}=r,f=u.route.loader&&!c.hasOwnProperty(u.route.id)&&(!d||d[u.route.id]===void 0);if(u.route.lazy||f){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,u,c)=>{let d,f=!1,g=null,w=null;r&&(d=o&&u.route.id?o[u.route.id]:void 0,g=u.route.errorElement||US,s&&(a<0&&c===0?(Uy("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),f=!0,w=null):a===c&&(f=!0,w=u.route.hydrateFallbackElement||null)));let v=t.concat(i.slice(0,c+1)),C=()=>{let y;return d?y=g:f?y=w:u.route.Component?y=S.createElement(u.route.Component,null):u.route.element?y=u.route.element:y=l,S.createElement(WS,{match:u,routeContext:{outlet:l,matches:v,isDataRoute:r!=null},children:y})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?S.createElement(BS,{location:r.location,revalidation:r.revalidation,component:g,error:d,children:C(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):C()},null)}function Vd(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZS(e){let t=S.useContext(Jn);return Se(t,Vd(e)),t}function HS(e){let t=S.useContext(ps);return Se(t,Vd(e)),t}function qS(e){let t=S.useContext(Rr);return Se(t,Vd(e)),t}function Zd(e){let t=qS(e),r=t.matches[t.matches.length-1];return Se(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function KS(){return Zd("useRouteId")}function GS(){var n;let e=S.useContext(Wd),t=HS("useRouteError"),r=Zd("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function QS(){let{router:e}=ZS("useNavigate"),t=Zd("useNavigate"),r=S.useRef(!1);return Fy(()=>{r.current=!0}),S.useCallback(async(i,o={})=>{it(r.current,My),r.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Bf={};function Uy(e,t,r){!t&&!Bf[e]&&(Bf[e]=!0,it(!1,r))}var Wf={};function Vf(e,t){!e&&!Wf[t]&&(Wf[t]=!0,console.warn(t))}function JS(e){let t={hasErrorBoundary:e.hasErrorBoundary||e.ErrorBoundary!=null||e.errorElement!=null};return e.Component&&(e.element&&it(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(t,{element:S.createElement(e.Component),Component:void 0})),e.HydrateFallback&&(e.hydrateFallbackElement&&it(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(t,{hydrateFallbackElement:S.createElement(e.HydrateFallback),HydrateFallback:void 0})),e.ErrorBoundary&&(e.errorElement&&it(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(t,{errorElement:S.createElement(e.ErrorBoundary),ErrorBoundary:void 0})),t}var YS=["HydrateFallback","hydrateFallbackElement"],XS=class{constructor(){this.status="pending",this.promise=new Promise((t,r)=>{this.resolve=n=>{this.status==="pending"&&(this.status="resolved",t(n))},this.reject=n=>{this.status==="pending"&&(this.status="rejected",r(n))}})}};function ex({router:e,flushSync:t}){let[r,n]=S.useState(e.state),[i,o]=S.useState(),[s,a]=S.useState({isTransitioning:!1}),[l,u]=S.useState(),[c,d]=S.useState(),[f,g]=S.useState(),w=S.useRef(new Map),v=S.useCallback((p,{deletedFetchers:b,flushSync:T,viewTransitionOpts:x})=>{p.fetchers.forEach(($,V)=>{$.data!==void 0&&w.current.set(V,$.data)}),b.forEach($=>w.current.delete($)),Vf(T===!1||t!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let A=e.window!=null&&e.window.document!=null&&typeof e.window.document.startViewTransition=="function";if(Vf(x==null||A,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!x||!A){t&&T?t(()=>n(p)):S.startTransition(()=>n(p));return}if(t&&T){t(()=>{c&&(l&&l.resolve(),c.skipTransition()),a({isTransitioning:!0,flushSync:!0,currentLocation:x.currentLocation,nextLocation:x.nextLocation})});let $=e.window.document.startViewTransition(()=>{t(()=>n(p))});$.finished.finally(()=>{t(()=>{u(void 0),d(void 0),o(void 0),a({isTransitioning:!1})})}),t(()=>d($));return}c?(l&&l.resolve(),c.skipTransition(),g({state:p,currentLocation:x.currentLocation,nextLocation:x.nextLocation})):(o(p),a({isTransitioning:!0,flushSync:!1,currentLocation:x.currentLocation,nextLocation:x.nextLocation}))},[e.window,t,c,l]);S.useLayoutEffect(()=>e.subscribe(v),[e,v]),S.useEffect(()=>{s.isTransitioning&&!s.flushSync&&u(new XS)},[s]),S.useEffect(()=>{if(l&&i&&e.window){let p=i,b=l.promise,T=e.window.document.startViewTransition(async()=>{S.startTransition(()=>n(p)),await b});T.finished.finally(()=>{u(void 0),d(void 0),o(void 0),a({isTransitioning:!1})}),d(T)}},[i,l,e.window]),S.useEffect(()=>{l&&i&&r.location.key===i.location.key&&l.resolve()},[l,c,r.location,i]),S.useEffect(()=>{!s.isTransitioning&&f&&(o(f.state),a({isTransitioning:!0,flushSync:!1,currentLocation:f.currentLocation,nextLocation:f.nextLocation}),g(void 0))},[s.isTransitioning,f]);let C=S.useMemo(()=>({createHref:e.createHref,encodeLocation:e.encodeLocation,go:p=>e.navigate(p),push:(p,b,T)=>e.navigate(p,{state:b,preventScrollReset:T==null?void 0:T.preventScrollReset}),replace:(p,b,T)=>e.navigate(p,{replace:!0,state:b,preventScrollReset:T==null?void 0:T.preventScrollReset})}),[e]),y=e.basename||"/",m=S.useMemo(()=>({router:e,navigator:C,static:!1,basename:y}),[e,C,y]);return S.createElement(S.Fragment,null,S.createElement(Jn.Provider,{value:m},S.createElement(ps.Provider,{value:r},S.createElement(jy.Provider,{value:w.current},S.createElement(Bd.Provider,{value:s},S.createElement(ix,{basename:y,location:r.location,navigationType:r.historyAction,navigator:C},S.createElement(tx,{routes:e.routes,future:e.future,state:r})))))),null)}var tx=S.memo(rx);function rx({routes:e,future:t,state:r}){return MS(e,void 0,r,t)}function nx(e){return jS(e.context)}function ix({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:i,static:o=!1}){Se(!ms(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=S.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof r=="string"&&(r=Wr(r));let{pathname:l="/",search:u="",hash:c="",state:d=null,key:f="default"}=r,g=S.useMemo(()=>{let w=sr(l,s);return w==null?null:{location:{pathname:w,search:u,hash:c,state:d,key:f},navigationType:n}},[s,l,u,c,d,f,n]);return it(g!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${c}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:S.createElement(Tr.Provider,{value:a},S.createElement(gs.Provider,{children:t,value:g}))}var wa="get",_a="application/x-www-form-urlencoded";function vl(e){return e!=null&&typeof e.tagName=="string"}function ox(e){return vl(e)&&e.tagName.toLowerCase()==="button"}function sx(e){return vl(e)&&e.tagName.toLowerCase()==="form"}function ax(e){return vl(e)&&e.tagName.toLowerCase()==="input"}function lx(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ux(e,t){return e.button===0&&(!t||t==="_self")&&!lx(e)}var Qs=null;function cx(){if(Qs===null)try{new FormData(document.createElement("form"),0),Qs=!1}catch{Qs=!0}return Qs}var dx=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function cu(e){return e!=null&&!dx.has(e)?(it(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${_a}"`),null):e}function hx(e,t){let r,n,i,o,s;if(sx(e)){let a=e.getAttribute("action");n=a?sr(a,t):null,r=e.getAttribute("method")||wa,i=cu(e.getAttribute("enctype"))||_a,o=new FormData(e)}else if(ox(e)||ax(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(n=l?sr(l,t):null,r=e.getAttribute("formmethod")||a.getAttribute("method")||wa,i=cu(e.getAttribute("formenctype"))||cu(a.getAttribute("enctype"))||_a,o=new FormData(a,e),!cx()){let{name:u,type:c,value:d}=e;if(c==="image"){let f=u?`${u}.`:"";o.append(`${f}x`,"0"),o.append(`${f}y`,"0")}else u&&o.append(u,d)}}else{if(vl(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=wa,n=null,i=_a,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Hd(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function fx(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&sr(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function px(e,t){if(e.id in t)return t[e.id];try{let r=await Ki(()=>import(e.module),[]);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function gx(e){return e!=null&&typeof e.page=="string"}function mx(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yx(e,t,r){let n=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await px(o,r);return s.links?s.links():[]}return[]}));return Sx(n.flat(1).filter(mx).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zf(e,t,r,n,i,o){let s=(l,u)=>r[u]?l.route.id!==r[u].route.id:!0,a=(l,u)=>{var c;return r[u].pathname!==l.pathname||((c=r[u].route.path)==null?void 0:c.endsWith("*"))&&r[u].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,u)=>s(l,u)||a(l,u)):o==="data"?t.filter((l,u)=>{var d;let c=n.routes[l.route.id];if(!c||!c.hasLoader)return!1;if(s(l,u)||a(l,u))return!0;if(l.route.shouldRevalidate){let f=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((d=r[0])==null?void 0:d.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function vx(e,t,{includeHydrateFallback:r}={}){return wx(e.map(n=>{let i=t.routes[n.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function wx(e){return[...new Set(e)]}function _x(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function Sx(e,t){let r=new Set,n=new Set(t);return e.reduce((i,o)=>{if(t&&!gx(o)&&o.as==="script"&&o.href&&n.has(o.href))return i;let a=JSON.stringify(_x(o));return r.has(a)||(r.add(a),i.push({key:a,link:o})),i},[])}function By(){let e=S.useContext(Jn);return Hd(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function xx(){let e=S.useContext(ps);return Hd(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var qd=S.createContext(void 0);qd.displayName="FrameworkContext";function Wy(){let e=S.useContext(qd);return Hd(e,"You must render this element inside a <HydratedRouter> element"),e}function bx(e,t){let r=S.useContext(qd),[n,i]=S.useState(!1),[o,s]=S.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:u,onMouseLeave:c,onTouchStart:d}=t,f=S.useRef(null);S.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let v=y=>{y.forEach(m=>{s(m.isIntersecting)})},C=new IntersectionObserver(v,{threshold:.5});return f.current&&C.observe(f.current),()=>{C.disconnect()}}},[e]),S.useEffect(()=>{if(n){let v=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(v)}}},[n]);let g=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?e!=="intent"?[o,f,{}]:[o,f,{onFocus:po(a,g),onBlur:po(l,w),onMouseEnter:po(u,g),onMouseLeave:po(c,w),onTouchStart:po(d,g)}]:[!1,f,{}]}function po(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function kx({page:e,...t}){let{router:r}=By(),n=S.useMemo(()=>nn(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?S.createElement(Cx,{page:e,matches:n,...t}):null}function Ex(e){let{manifest:t,routeModules:r}=Wy(),[n,i]=S.useState([]);return S.useEffect(()=>{let o=!1;return yx(e,t,r).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,r]),n}function Cx({page:e,matches:t,...r}){let n=Yn(),{manifest:i,routeModules:o}=Wy(),{basename:s}=By(),{loaderData:a,matches:l}=xx(),u=S.useMemo(()=>Zf(e,t,l,i,n,"data"),[e,t,l,i,n]),c=S.useMemo(()=>Zf(e,t,l,i,n,"assets"),[e,t,l,i,n]),d=S.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let w=new Set,v=!1;if(t.forEach(y=>{var p;let m=i.routes[y.route.id];!m||!m.hasLoader||(!u.some(b=>b.route.id===y.route.id)&&y.route.id in a&&((p=o[y.route.id])!=null&&p.shouldRevalidate)||m.hasClientLoader?v=!0:w.add(y.route.id))}),w.size===0)return[];let C=fx(e,s,"data");return v&&w.size>0&&C.searchParams.set("_routes",t.filter(y=>w.has(y.route.id)).map(y=>y.route.id).join(",")),[C.pathname+C.search]},[s,a,n,i,u,t,e,o]),f=S.useMemo(()=>vx(c,i),[c,i]),g=Ex(c);return S.createElement(S.Fragment,null,d.map(w=>S.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),f.map(w=>S.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),g.map(({key:w,link:v})=>S.createElement("link",{key:w,nonce:r.nonce,...v})))}function Px(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var Vy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vy&&(window.__reactRouterVersion="7.8.1")}catch{}function Tx(e,t){return fS({basename:t==null?void 0:t.basename,unstable_getContext:t==null?void 0:t.unstable_getContext,future:t==null?void 0:t.future,history:O_({window:t==null?void 0:t.window}),hydrationData:(t==null?void 0:t.hydrationData)||Rx(),routes:e,mapRouteProperties:JS,hydrationRouteProperties:YS,dataStrategy:t==null?void 0:t.dataStrategy,patchRoutesOnNavigation:t==null?void 0:t.patchRoutesOnNavigation,window:t==null?void 0:t.window}).initialize()}function Rx(){let e=window==null?void 0:window.__staticRouterHydrationData;return e&&e.errors&&(e={...e,errors:Ax(e.errors)}),e}function Ax(e){if(!e)return null;let t=Object.entries(e),r={};for(let[n,i]of t)if(i&&i.__type==="RouteErrorResponse")r[n]=new qa(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let o=window[i.__subType];if(typeof o=="function")try{let s=new o(i.message);s.stack="",r[n]=s}catch{}}if(r[n]==null){let o=new Error(i.message);o.stack="",r[n]=o}}else r[n]=i;return r}var Zy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=S.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d,...f},g){let{basename:w}=S.useContext(Tr),v=typeof u=="string"&&Zy.test(u),C,y=!1;if(typeof u=="string"&&v&&(C=u,Vy))try{let V=new URL(window.location.href),J=u.startsWith("//")?new URL(V.protocol+u):new URL(u),we=sr(J.pathname,w);J.origin===V.origin&&we!=null?u=we+J.search+J.hash:y=!0}catch{it(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let m=IS(u,{relative:i}),[p,b,T]=bx(n,f),x=Ix(u,{replace:s,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function A(V){t&&t(V),V.defaultPrevented||x(V)}let $=S.createElement("a",{...f,...T,href:C||m,onClick:y||o?t:A,ref:Px(g,b),target:l,"data-discover":!v&&r==="render"?"true":void 0});return p&&!v?S.createElement(S.Fragment,null,$,S.createElement(kx,{page:m})):$});en.displayName="Link";var Dx=S.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...u},c){let d=ys(s,{relative:u.relative}),f=Yn(),g=S.useContext(ps),{navigator:w,basename:v}=S.useContext(Tr),C=g!=null&&Mx(d)&&a===!0,y=w.encodeLocation?w.encodeLocation(d).pathname:d.pathname,m=f.pathname,p=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(m=m.toLowerCase(),p=p?p.toLowerCase():null,y=y.toLowerCase()),p&&v&&(p=sr(p,v)||p);const b=y!=="/"&&y.endsWith("/")?y.length-1:y.length;let T=m===y||!i&&m.startsWith(y)&&m.charAt(b)==="/",x=p!=null&&(p===y||!i&&p.startsWith(y)&&p.charAt(y.length)==="/"),A={isActive:T,isPending:x,isTransitioning:C},$=T?t:void 0,V;typeof n=="function"?V=n(A):V=[n,T?"active":null,x?"pending":null,C?"transitioning":null].filter(Boolean).join(" ");let J=typeof o=="function"?o(A):o;return S.createElement(en,{...u,"aria-current":$,className:V,ref:c,style:J,to:s,viewTransition:a},typeof l=="function"?l(A):l)});Dx.displayName="NavLink";var Ox=S.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:i,state:o,method:s=wa,action:a,onSubmit:l,relative:u,preventScrollReset:c,viewTransition:d,...f},g)=>{let w=Nx(),v=jx(a,{relative:u}),C=s.toLowerCase()==="get"?"get":"post",y=typeof a=="string"&&Zy.test(a),m=p=>{if(l&&l(p),p.defaultPrevented)return;p.preventDefault();let b=p.nativeEvent.submitter,T=(b==null?void 0:b.getAttribute("formmethod"))||s;w(b||p.currentTarget,{fetcherKey:t,method:T,navigate:r,replace:i,state:o,relative:u,preventScrollReset:c,viewTransition:d})};return S.createElement("form",{ref:g,method:C,action:v,onSubmit:n?l:m,...f,"data-discover":!y&&e==="render"?"true":void 0})});Ox.displayName="Form";function $x(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Hy(e){let t=S.useContext(Jn);return Se(t,$x(e)),t}function Ix(e,{target:t,replace:r,state:n,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=zS(),l=Yn(),u=ys(e,{relative:o});return S.useCallback(c=>{if(ux(c,t)){c.preventDefault();let d=r!==void 0?r:_n(l)===_n(u);a(e,{replace:d,state:n,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,u,r,n,t,e,i,o,s])}var zx=0,Lx=()=>`__${String(++zx)}__`;function Nx(){let{router:e}=Hy("useSubmit"),{basename:t}=S.useContext(Tr),r=KS();return S.useCallback(async(n,i={})=>{let{action:o,method:s,encType:a,formData:l,body:u}=hx(n,t);if(i.navigate===!1){let c=i.fetcherKey||Lx();await e.fetch(c,r,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:u,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,r])}function jx(e,{relative:t}={}){let{basename:r}=S.useContext(Tr),n=S.useContext(Rr);Se(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),o={...ys(e||".",{relative:t})},s=Yn();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(c=>c==="")){a.delete("index"),l.filter(d=>d).forEach(d=>a.append("index",d));let c=a.toString();o.search=c?`?${c}`:""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:Pr([r,o.pathname])),_n(o)}function Mx(e,{relative:t}={}){let r=S.useContext(Bd);Se(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Hy("useViewTransitionState"),i=ys(e,{relative:t});if(!r.isTransitioning)return!1;let o=sr(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=sr(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Ha(i.pathname,s)!=null||Ha(i.pathname,o)!=null}/**
 * react-router v7.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fx(e){return S.createElement(ex,{flushSync:_y.flushSync,...e})}function Ux({products:e,onEdit:t,onDelete:r}){return h("div",{style:{border:"1px solid #e9ecef",borderRadius:12,overflow:"hidden",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)"},children:_("tr",{children:[h("th",{style:{textAlign:"left",padding:"16px 12px",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6"},children:"Product"}),h("th",{style:{textAlign:"left",padding:"16px 12px",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6"},children:"Unit"}),h("th",{style:{textAlign:"right",padding:"16px 12px",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6"},children:"Sale Price"}),h("th",{style:{textAlign:"right",padding:"16px 12px",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6"},children:"Quantity"}),h("th",{style:{textAlign:"left",padding:"16px 12px",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6"},children:"Sale Date"}),h("th",{style:{textAlign:"right",padding:"16px 12px",fontWeight:"600",color:"#495057",borderBottom:"2px solid #dee2e6"},children:"Actions"})]})}),h("tbody",{children:e.length===0?h("tr",{children:_("td",{colSpan:6,style:{padding:24,textAlign:"center",color:"#666"},children:[h("div",{style:{fontSize:"16px",marginBottom:"8px"},children:" No products yet"}),h("div",{style:{fontSize:"14px",color:"#999"},children:'Click "Add New Product" to get started'})]})}):e.map((n,i)=>{var o;return _("tr",{style:{background:i%2===0?"#ffffff":"#f8f9fa",transition:"background-color 0.2s ease"},children:[h("td",{style:{padding:"12px",fontWeight:"500",color:"#212529"},children:n.name}),h("td",{style:{padding:"12px",color:"#6c757d"},children:n.unit}),_("td",{style:{padding:"12px",textAlign:"right",fontWeight:"600",color:"#28a745"},children:["$",((o=n.salePrice)==null?void 0:o.toFixed(2))||"0.00"]}),h("td",{style:{padding:"12px",textAlign:"right",fontWeight:"500",color:"#495057"},children:n.quantity??0}),h("td",{style:{padding:"12px",color:"#6c757d"},children:n.buyingDate}),_("td",{style:{padding:"12px",textAlign:"right"},children:[h("button",{onClick:()=>t(n.id),style:{marginRight:8,background:"#007bff",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",transition:"background-color 0.2s ease"},onMouseOver:s=>s.currentTarget.style.background="#0056b3",onMouseOut:s=>s.currentTarget.style.background="#007bff",children:" Edit"}),h("button",{onClick:()=>r(n.id),"aria-label":`Delete ${n.name}`,style:{background:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",transition:"background-color 0.2s ease"},onMouseOver:s=>s.currentTarget.style.background="#c82333",onMouseOut:s=>s.currentTarget.style.background="#dc3545",children:" Delete"})]})]},n.id)})})]})})}var vs=e=>e.type==="checkbox",Mn=e=>e instanceof Date,At=e=>e==null;const qy=e=>typeof e=="object";var et=e=>!At(e)&&!Array.isArray(e)&&qy(e)&&!Mn(e),Bx=e=>et(e)&&e.target?vs(e.target)?e.target.checked:e.target.value:e,Wx=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,Vx=(e,t)=>e.has(Wx(t)),Zx=e=>{const t=e.constructor&&e.constructor.prototype;return et(t)&&t.hasOwnProperty("isPrototypeOf")},Kd=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function pt(e){let t;const r=Array.isArray(e),n=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(!(Kd&&(e instanceof Blob||n))&&(r||et(e)))if(t=r?[]:Object.create(Object.getPrototypeOf(e)),!r&&!Zx(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=pt(e[i]));else return e;return t}var wl=e=>/^\w*$/.test(e),rt=e=>e===void 0,Gd=e=>Array.isArray(e)?e.filter(Boolean):[],Qd=e=>Gd(e.replace(/["|']|\]/g,"").split(/\.|\[/)),ee=(e,t,r)=>{if(!t||!et(e))return r;const n=(wl(t)?[t]:Qd(t)).reduce((i,o)=>At(i)?i:i[o],e);return rt(n)||n===e?rt(e[t])?r:e[t]:n},xr=e=>typeof e=="boolean",ze=(e,t,r)=>{let n=-1;const i=wl(t)?[t]:Qd(t),o=i.length,s=o-1;for(;++n<o;){const a=i[n];let l=r;if(n!==s){const u=e[a];l=et(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;e[a]=l,e=e[a]}};const Hf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},fr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ar={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Hx=It.createContext(null);Hx.displayName="HookFormContext";var qx=(e,t,r,n=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const s=o;return t._proxyFormState[s]!==fr.all&&(t._proxyFormState[s]=!n||fr.all),r&&(r[s]=!0),e[s]}});return i};const Kx=typeof window<"u"?It.useLayoutEffect:It.useEffect;var kr=e=>typeof e=="string",Gx=(e,t,r,n,i)=>kr(e)?(n&&t.watch.add(e),ee(r,e,i)):Array.isArray(e)?e.map(o=>(n&&t.watch.add(o),ee(r,o))):(n&&(t.watchAll=!0),r),kc=e=>At(e)||!qy(e);function sn(e,t,r=new WeakSet){if(kc(e)||kc(t))return e===t;if(Mn(e)&&Mn(t))return e.getTime()===t.getTime();const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;if(r.has(e)||r.has(t))return!0;r.add(e),r.add(t);for(const o of n){const s=e[o];if(!i.includes(o))return!1;if(o!=="ref"){const a=t[o];if(Mn(s)&&Mn(a)||et(s)&&et(a)||Array.isArray(s)&&Array.isArray(a)?!sn(s,a,r):s!==a)return!1}}return!0}var Jd=(e,t,r,n,i)=>t?{...r[e],types:{...r[e]&&r[e].types?r[e].types:{},[n]:i||!0}}:{},$o=e=>Array.isArray(e)?e:[e],qf=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},zt=e=>et(e)&&!Object.keys(e).length,Yd=e=>e.type==="file",pr=e=>typeof e=="function",Ga=e=>{if(!Kd)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ky=e=>e.type==="select-multiple",Xd=e=>e.type==="radio",Qx=e=>Xd(e)||vs(e),du=e=>Ga(e)&&e.isConnected;function Jx(e,t){const r=t.slice(0,-1).length;let n=0;for(;n<r;)e=rt(e)?n++:e[t[n++]];return e}function Yx(e){for(const t in e)if(e.hasOwnProperty(t)&&!rt(e[t]))return!1;return!0}function tt(e,t){const r=Array.isArray(t)?t:wl(t)?[t]:Qd(t),n=r.length===1?e:Jx(e,r),i=r.length-1,o=r[i];return n&&delete n[o],i!==0&&(et(n)&&zt(n)||Array.isArray(n)&&Yx(n))&&tt(e,r.slice(0,-1)),e}var Gy=e=>{for(const t in e)if(pr(e[t]))return!0;return!1};function Qa(e,t={}){const r=Array.isArray(e);if(et(e)||r)for(const n in e)Array.isArray(e[n])||et(e[n])&&!Gy(e[n])?(t[n]=Array.isArray(e[n])?[]:{},Qa(e[n],t[n])):At(e[n])||(t[n]=!0);return t}function Qy(e,t,r){const n=Array.isArray(e);if(et(e)||n)for(const i in e)Array.isArray(e[i])||et(e[i])&&!Gy(e[i])?rt(t)||kc(r[i])?r[i]=Array.isArray(e[i])?Qa(e[i],[]):{...Qa(e[i])}:Qy(e[i],At(t)?{}:t[i],r[i]):r[i]=!sn(e[i],t[i]);return r}var go=(e,t)=>Qy(e,t,Qa(t));const Kf={value:!1,isValid:!1},Gf={value:!0,isValid:!0};var Jy=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!rt(e[0].attributes.value)?rt(e[0].value)||e[0].value===""?Gf:{value:e[0].value,isValid:!0}:Gf:Kf}return Kf},Yy=(e,{valueAsNumber:t,valueAsDate:r,setValueAs:n})=>rt(e)?e:t?e===""?NaN:e&&+e:r&&kr(e)?new Date(e):n?n(e):e;const Qf={isValid:!1,value:null};var Xy=e=>Array.isArray(e)?e.reduce((t,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:t,Qf):Qf;function Jf(e){const t=e.ref;return Yd(t)?t.files:Xd(t)?Xy(e.refs).value:Ky(t)?[...t.selectedOptions].map(({value:r})=>r):vs(t)?Jy(e.refs).value:Yy(rt(t.value)?e.ref.value:t.value,e)}var Xx=(e,t,r,n)=>{const i={};for(const o of e){const s=ee(t,o);s&&ze(i,o,s._f)}return{criteriaMode:r,names:[...e],fields:i,shouldUseNativeValidation:n}},Ja=e=>e instanceof RegExp,mo=e=>rt(e)?e:Ja(e)?e.source:et(e)?Ja(e.value)?e.value.source:e.value:e,Yf=e=>({isOnSubmit:!e||e===fr.onSubmit,isOnBlur:e===fr.onBlur,isOnChange:e===fr.onChange,isOnAll:e===fr.all,isOnTouch:e===fr.onTouched});const Xf="AsyncFunction";var e1=e=>!!e&&!!e.validate&&!!(pr(e.validate)&&e.validate.constructor.name===Xf||et(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===Xf)),t1=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),ep=(e,t,r)=>!r&&(t.watchAll||t.watch.has(e)||[...t.watch].some(n=>e.startsWith(n)&&/^\.\w+/.test(e.slice(n.length))));const Io=(e,t,r,n)=>{for(const i of r||Object.keys(e)){const o=ee(e,i);if(o){const{_f:s,...a}=o;if(s){if(s.refs&&s.refs[0]&&t(s.refs[0],i)&&!n)return!0;if(s.ref&&t(s.ref,s.name)&&!n)return!0;if(Io(a,t))break}else if(et(a)&&Io(a,t))break}}};function tp(e,t,r){const n=ee(e,r);if(n||wl(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const o=i.join("."),s=ee(t,o),a=ee(e,o);if(s&&!Array.isArray(s)&&r!==o)return{name:r};if(a&&a.type)return{name:o,error:a};if(a&&a.root&&a.root.type)return{name:`${o}.root`,error:a.root};i.pop()}return{name:r}}var r1=(e,t,r,n)=>{r(e);const{name:i,...o}=e;return zt(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(s=>t[s]===(!n||fr.all))},n1=(e,t,r)=>!e||!t||e===t||$o(e).some(n=>n&&(r?n===t:n.startsWith(t)||t.startsWith(n))),i1=(e,t,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(t||e):(r?n.isOnBlur:i.isOnBlur)?!e:(r?n.isOnChange:i.isOnChange)?e:!0,o1=(e,t)=>!Gd(ee(e,t)).length&&tt(e,t),s1=(e,t,r)=>{const n=$o(ee(e,r));return ze(n,"root",t[r]),ze(e,r,n),e},Sa=e=>kr(e);function rp(e,t,r="validate"){if(Sa(e)||Array.isArray(e)&&e.every(Sa)||xr(e)&&!e)return{type:r,message:Sa(e)?e:"",ref:t}}var ui=e=>et(e)&&!Ja(e)?e:{value:e,message:""},np=async(e,t,r,n,i,o)=>{const{ref:s,refs:a,required:l,maxLength:u,minLength:c,min:d,max:f,pattern:g,validate:w,name:v,valueAsNumber:C,mount:y}=e._f,m=ee(r,v);if(!y||t.has(v))return{};const p=a?a[0]:s,b=te=>{i&&p.reportValidity&&(p.setCustomValidity(xr(te)?"":te||""),p.reportValidity())},T={},x=Xd(s),A=vs(s),$=x||A,V=(C||Yd(s))&&rt(s.value)&&rt(m)||Ga(s)&&s.value===""||m===""||Array.isArray(m)&&!m.length,J=Jd.bind(null,v,n,T),we=(te,ue,ne,oe=Ar.maxLength,ce=Ar.minLength)=>{const ke=te?ue:ne;T[v]={type:te?oe:ce,message:ke,ref:s,...J(te?oe:ce,ke)}};if(o?!Array.isArray(m)||!m.length:l&&(!$&&(V||At(m))||xr(m)&&!m||A&&!Jy(a).isValid||x&&!Xy(a).isValid)){const{value:te,message:ue}=Sa(l)?{value:!!l,message:l}:ui(l);if(te&&(T[v]={type:Ar.required,message:ue,ref:p,...J(Ar.required,ue)},!n))return b(ue),T}if(!V&&(!At(d)||!At(f))){let te,ue;const ne=ui(f),oe=ui(d);if(!At(m)&&!isNaN(m)){const ce=s.valueAsNumber||m&&+m;At(ne.value)||(te=ce>ne.value),At(oe.value)||(ue=ce<oe.value)}else{const ce=s.valueAsDate||new Date(m),ke=Q=>new Date(new Date().toDateString()+" "+Q),U=s.type=="time",W=s.type=="week";kr(ne.value)&&m&&(te=U?ke(m)>ke(ne.value):W?m>ne.value:ce>new Date(ne.value)),kr(oe.value)&&m&&(ue=U?ke(m)<ke(oe.value):W?m<oe.value:ce<new Date(oe.value))}if((te||ue)&&(we(!!te,ne.message,oe.message,Ar.max,Ar.min),!n))return b(T[v].message),T}if((u||c)&&!V&&(kr(m)||o&&Array.isArray(m))){const te=ui(u),ue=ui(c),ne=!At(te.value)&&m.length>+te.value,oe=!At(ue.value)&&m.length<+ue.value;if((ne||oe)&&(we(ne,te.message,ue.message),!n))return b(T[v].message),T}if(g&&!V&&kr(m)){const{value:te,message:ue}=ui(g);if(Ja(te)&&!m.match(te)&&(T[v]={type:Ar.pattern,message:ue,ref:s,...J(Ar.pattern,ue)},!n))return b(ue),T}if(w){if(pr(w)){const te=await w(m,r),ue=rp(te,p);if(ue&&(T[v]={...ue,...J(Ar.validate,ue.message)},!n))return b(ue.message),T}else if(et(w)){let te={};for(const ue in w){if(!zt(te)&&!n)break;const ne=rp(await w[ue](m,r),p,ue);ne&&(te={...ne,...J(ue,ne.message)},b(ne.message),n&&(T[v]=te))}if(!zt(te)&&(T[v]={ref:p,...te},!n))return T}}return b(!0),T};const a1={mode:fr.onSubmit,reValidateMode:fr.onChange,shouldFocusError:!0};function l1(e={}){let t={...a1,...e},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:pr(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1},n={},i=et(t.defaultValues)||et(t.values)?pt(t.defaultValues||t.values)||{}:{},o=t.shouldUnregister?{}:pt(i),s={action:!1,mount:!1,watch:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...c};const f={array:qf(),state:qf()},g=t.criteriaMode===fr.all,w=k=>R=>{clearTimeout(u),u=setTimeout(k,R)},v=async k=>{if(!t.disabled&&(c.isValid||d.isValid||k)){const R=t.resolver?zt((await A()).errors):await V(n,!0);R!==r.isValid&&f.state.next({isValid:R})}},C=(k,R)=>{!t.disabled&&(c.isValidating||c.validatingFields||d.isValidating||d.validatingFields)&&((k||Array.from(a.mount)).forEach(O=>{O&&(R?ze(r.validatingFields,O,R):tt(r.validatingFields,O))}),f.state.next({validatingFields:r.validatingFields,isValidating:!zt(r.validatingFields)}))},y=(k,R=[],O,q,j=!0,N=!0)=>{if(q&&O&&!t.disabled){if(s.action=!0,N&&Array.isArray(ee(n,k))){const X=O(ee(n,k),q.argA,q.argB);j&&ze(n,k,X)}if(N&&Array.isArray(ee(r.errors,k))){const X=O(ee(r.errors,k),q.argA,q.argB);j&&ze(r.errors,k,X),o1(r.errors,k)}if((c.touchedFields||d.touchedFields)&&N&&Array.isArray(ee(r.touchedFields,k))){const X=O(ee(r.touchedFields,k),q.argA,q.argB);j&&ze(r.touchedFields,k,X)}(c.dirtyFields||d.dirtyFields)&&(r.dirtyFields=go(i,o)),f.state.next({name:k,isDirty:we(k,R),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ze(o,k,R)},m=(k,R)=>{ze(r.errors,k,R),f.state.next({errors:r.errors})},p=k=>{r.errors=k,f.state.next({errors:r.errors,isValid:!1})},b=(k,R,O,q)=>{const j=ee(n,k);if(j){const N=ee(o,k,rt(O)?ee(i,k):O);rt(N)||q&&q.defaultChecked||R?ze(o,k,R?N:Jf(j._f)):ne(k,N),s.mount&&v()}},T=(k,R,O,q,j)=>{let N=!1,X=!1;const _e={name:k};if(!t.disabled){if(!O||q){(c.isDirty||d.isDirty)&&(X=r.isDirty,r.isDirty=_e.isDirty=we(),N=X!==_e.isDirty);const Pe=sn(ee(i,k),R);X=!!ee(r.dirtyFields,k),Pe?tt(r.dirtyFields,k):ze(r.dirtyFields,k,!0),_e.dirtyFields=r.dirtyFields,N=N||(c.dirtyFields||d.dirtyFields)&&X!==!Pe}if(O){const Pe=ee(r.touchedFields,k);Pe||(ze(r.touchedFields,k,O),_e.touchedFields=r.touchedFields,N=N||(c.touchedFields||d.touchedFields)&&Pe!==O)}N&&j&&f.state.next(_e)}return N?_e:{}},x=(k,R,O,q)=>{const j=ee(r.errors,k),N=(c.isValid||d.isValid)&&xr(R)&&r.isValid!==R;if(t.delayError&&O?(l=w(()=>m(k,O)),l(t.delayError)):(clearTimeout(u),l=null,O?ze(r.errors,k,O):tt(r.errors,k)),(O?!sn(j,O):j)||!zt(q)||N){const X={...q,...N&&xr(R)?{isValid:R}:{},errors:r.errors,name:k};r={...r,...X},f.state.next(X)}},A=async k=>{C(k,!0);const R=await t.resolver(o,t.context,Xx(k||a.mount,n,t.criteriaMode,t.shouldUseNativeValidation));return C(k),R},$=async k=>{const{errors:R}=await A(k);if(k)for(const O of k){const q=ee(R,O);q?ze(r.errors,O,q):tt(r.errors,O)}else r.errors=R;return R},V=async(k,R,O={valid:!0})=>{for(const q in k){const j=k[q];if(j){const{_f:N,...X}=j;if(N){const _e=a.array.has(N.name),Pe=j._f&&e1(j._f);Pe&&c.validatingFields&&C([q],!0);const ft=await np(j,a.disabled,o,g,t.shouldUseNativeValidation&&!R,_e);if(Pe&&c.validatingFields&&C([q]),ft[N.name]&&(O.valid=!1,R))break;!R&&(ee(ft,N.name)?_e?s1(r.errors,ft,N.name):ze(r.errors,N.name,ft[N.name]):tt(r.errors,N.name))}!zt(X)&&await V(X,R,O)}}return O.valid},J=()=>{for(const k of a.unMount){const R=ee(n,k);R&&(R._f.refs?R._f.refs.every(O=>!du(O)):!du(R._f.ref))&&me(k)}a.unMount=new Set},we=(k,R)=>!t.disabled&&(k&&R&&ze(o,k,R),!sn(Q(),i)),te=(k,R,O)=>Gx(k,a,{...s.mount?o:rt(R)?i:kr(k)?{[k]:R}:R},O,R),ue=k=>Gd(ee(s.mount?o:i,k,t.shouldUnregister?ee(i,k,[]):[])),ne=(k,R,O={})=>{const q=ee(n,k);let j=R;if(q){const N=q._f;N&&(!N.disabled&&ze(o,k,Yy(R,N)),j=Ga(N.ref)&&At(R)?"":R,Ky(N.ref)?[...N.ref.options].forEach(X=>X.selected=j.includes(X.value)):N.refs?vs(N.ref)?N.refs.forEach(X=>{(!X.defaultChecked||!X.disabled)&&(Array.isArray(j)?X.checked=!!j.find(_e=>_e===X.value):X.checked=j===X.value||!!j)}):N.refs.forEach(X=>X.checked=X.value===j):Yd(N.ref)?N.ref.value="":(N.ref.value=j,N.ref.type||f.state.next({name:k,values:pt(o)})))}(O.shouldDirty||O.shouldTouch)&&T(k,j,O.shouldTouch,O.shouldDirty,!0),O.shouldValidate&&W(k)},oe=(k,R,O)=>{for(const q in R){if(!R.hasOwnProperty(q))return;const j=R[q],N=k+"."+q,X=ee(n,N);(a.array.has(k)||et(j)||X&&!X._f)&&!Mn(j)?oe(N,j,O):ne(N,j,O)}},ce=(k,R,O={})=>{const q=ee(n,k),j=a.array.has(k),N=pt(R);ze(o,k,N),j?(f.array.next({name:k,values:pt(o)}),(c.isDirty||c.dirtyFields||d.isDirty||d.dirtyFields)&&O.shouldDirty&&f.state.next({name:k,dirtyFields:go(i,o),isDirty:we(k,N)})):q&&!q._f&&!At(N)?oe(k,N,O):ne(k,N,O),ep(k,a)&&f.state.next({...r,name:k}),f.state.next({name:s.mount?k:void 0,values:pt(o)})},ke=async k=>{s.mount=!0;const R=k.target;let O=R.name,q=!0;const j=ee(n,O),N=Pe=>{q=Number.isNaN(Pe)||Mn(Pe)&&isNaN(Pe.getTime())||sn(Pe,ee(o,O,Pe))},X=Yf(t.mode),_e=Yf(t.reValidateMode);if(j){let Pe,ft;const Hr=R.type?Jf(j._f):Bx(k),Ye=k.type===Hf.BLUR||k.type===Hf.FOCUS_OUT,Es=!t1(j._f)&&!t.resolver&&!ee(r.errors,O)&&!j._f.deps||i1(Ye,ee(r.touchedFields,O),r.isSubmitted,_e,X),oi=ep(O,a,Ye);ze(o,O,Hr),Ye?(!R||!R.readOnly)&&(j._f.onBlur&&j._f.onBlur(k),l&&l(0)):j._f.onChange&&j._f.onChange(k);const si=T(O,Hr,Ye),Dl=!zt(si)||oi;if(!Ye&&f.state.next({name:O,type:k.type,values:pt(o)}),Es)return(c.isValid||d.isValid)&&(t.mode==="onBlur"?Ye&&v():Ye||v()),Dl&&f.state.next({name:O,...oi?{}:si});if(!Ye&&oi&&f.state.next({...r}),t.resolver){const{errors:Yi}=await A([O]);if(N(Hr),q){const ai=tp(r.errors,n,O),Xi=tp(Yi,n,ai.name||O);Pe=Xi.error,O=Xi.name,ft=zt(Yi)}}else C([O],!0),Pe=(await np(j,a.disabled,o,g,t.shouldUseNativeValidation))[O],C([O]),N(Hr),q&&(Pe?ft=!1:(c.isValid||d.isValid)&&(ft=await V(n,!0)));q&&(j._f.deps&&W(j._f.deps),x(O,ft,Pe,si))}},U=(k,R)=>{if(ee(r.errors,R)&&k.focus)return k.focus(),1},W=async(k,R={})=>{let O,q;const j=$o(k);if(t.resolver){const N=await $(rt(k)?k:j);O=zt(N),q=k?!j.some(X=>ee(N,X)):O}else k?(q=(await Promise.all(j.map(async N=>{const X=ee(n,N);return await V(X&&X._f?{[N]:X}:X)}))).every(Boolean),!(!q&&!r.isValid)&&v()):q=O=await V(n);return f.state.next({...!kr(k)||(c.isValid||d.isValid)&&O!==r.isValid?{}:{name:k},...t.resolver||!k?{isValid:O}:{},errors:r.errors}),R.shouldFocus&&!q&&Io(n,U,k?j:a.mount),q},Q=k=>{const R={...s.mount?o:i};return rt(k)?R:kr(k)?ee(R,k):k.map(O=>ee(R,O))},ge=(k,R)=>({invalid:!!ee((R||r).errors,k),isDirty:!!ee((R||r).dirtyFields,k),error:ee((R||r).errors,k),isValidating:!!ee(r.validatingFields,k),isTouched:!!ee((R||r).touchedFields,k)}),Ee=k=>{k&&$o(k).forEach(R=>tt(r.errors,R)),f.state.next({errors:k?r.errors:{}})},Ie=(k,R,O)=>{const q=(ee(n,k,{_f:{}})._f||{}).ref,j=ee(r.errors,k)||{},{ref:N,message:X,type:_e,...Pe}=j;ze(r.errors,k,{...Pe,...R,ref:q}),f.state.next({name:k,errors:r.errors,isValid:!1}),O&&O.shouldFocus&&q&&q.focus&&q.focus()},Z=(k,R)=>pr(k)?f.state.subscribe({next:O=>"values"in O&&k(te(void 0,R),O)}):te(k,R,!0),z=k=>f.state.subscribe({next:R=>{n1(k.name,R.name,k.exact)&&r1(R,k.formState||c,Vr,k.reRenderRoot)&&k.callback({values:{...o},...r,...R,defaultValues:i})}}).unsubscribe,B=k=>(s.mount=!0,d={...d,...k.formState},z({...k,formState:d})),me=(k,R={})=>{for(const O of k?$o(k):a.mount)a.mount.delete(O),a.array.delete(O),R.keepValue||(tt(n,O),tt(o,O)),!R.keepError&&tt(r.errors,O),!R.keepDirty&&tt(r.dirtyFields,O),!R.keepTouched&&tt(r.touchedFields,O),!R.keepIsValidating&&tt(r.validatingFields,O),!t.shouldUnregister&&!R.keepDefaultValue&&tt(i,O);f.state.next({values:pt(o)}),f.state.next({...r,...R.keepDirty?{isDirty:we()}:{}}),!R.keepIsValid&&v()},Qe=({disabled:k,name:R})=>{(xr(k)&&s.mount||k||a.disabled.has(R))&&(k?a.disabled.add(R):a.disabled.delete(R))},Te=(k,R={})=>{let O=ee(n,k);const q=xr(R.disabled)||xr(t.disabled);return ze(n,k,{...O||{},_f:{...O&&O._f?O._f:{ref:{name:k}},name:k,mount:!0,...R}}),a.mount.add(k),O?Qe({disabled:xr(R.disabled)?R.disabled:t.disabled,name:k}):b(k,!0,R.value),{...q?{disabled:R.disabled||t.disabled}:{},...t.progressive?{required:!!R.required,min:mo(R.min),max:mo(R.max),minLength:mo(R.minLength),maxLength:mo(R.maxLength),pattern:mo(R.pattern)}:{},name:k,onChange:ke,onBlur:ke,ref:j=>{if(j){Te(k,R),O=ee(n,k);const N=rt(j.value)&&j.querySelectorAll&&j.querySelectorAll("input,select,textarea")[0]||j,X=Qx(N),_e=O._f.refs||[];if(X?_e.find(Pe=>Pe===N):N===O._f.ref)return;ze(n,k,{_f:{...O._f,...X?{refs:[..._e.filter(du),N,...Array.isArray(ee(i,k))?[{}]:[]],ref:{type:N.type,name:k}}:{ref:N}}}),b(k,!1,void 0,N)}else O=ee(n,k,{}),O._f&&(O._f.mount=!1),(t.shouldUnregister||R.shouldUnregister)&&!(Vx(a.array,k)&&s.action)&&a.unMount.add(k)}}},G=()=>t.shouldFocusError&&Io(n,U,a.mount),I=k=>{xr(k)&&(f.state.next({disabled:k}),Io(n,(R,O)=>{const q=ee(n,O);q&&(R.disabled=q._f.disabled||k,Array.isArray(q._f.refs)&&q._f.refs.forEach(j=>{j.disabled=q._f.disabled||k}))},0,!1))},H=(k,R)=>async O=>{let q;O&&(O.preventDefault&&O.preventDefault(),O.persist&&O.persist());let j=pt(o);if(f.state.next({isSubmitting:!0}),t.resolver){const{errors:N,values:X}=await A();r.errors=N,j=pt(X)}else await V(n);if(a.disabled.size)for(const N of a.disabled)tt(j,N);if(tt(r.errors,"root"),zt(r.errors)){f.state.next({errors:{}});try{await k(j,O)}catch(N){q=N}}else R&&await R({...r.errors},O),G(),setTimeout(G);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:zt(r.errors)&&!q,submitCount:r.submitCount+1,errors:r.errors}),q)throw q},fe=(k,R={})=>{ee(n,k)&&(rt(R.defaultValue)?ce(k,pt(ee(i,k))):(ce(k,R.defaultValue),ze(i,k,pt(R.defaultValue))),R.keepTouched||tt(r.touchedFields,k),R.keepDirty||(tt(r.dirtyFields,k),r.isDirty=R.defaultValue?we(k,pt(ee(i,k))):we()),R.keepError||(tt(r.errors,k),c.isValid&&v()),f.state.next({...r}))},_t=(k,R={})=>{const O=k?pt(k):i,q=pt(O),j=zt(k),N=j?i:q;if(R.keepDefaultValues||(i=O),!R.keepValues){if(R.keepDirtyValues){const X=new Set([...a.mount,...Object.keys(go(i,o))]);for(const _e of Array.from(X))ee(r.dirtyFields,_e)?ze(N,_e,ee(o,_e)):ce(_e,ee(N,_e))}else{if(Kd&&rt(k))for(const X of a.mount){const _e=ee(n,X);if(_e&&_e._f){const Pe=Array.isArray(_e._f.refs)?_e._f.refs[0]:_e._f.ref;if(Ga(Pe)){const ft=Pe.closest("form");if(ft){ft.reset();break}}}}if(R.keepFieldsRef)for(const X of a.mount)ce(X,ee(N,X));else n={}}o=t.shouldUnregister?R.keepDefaultValues?pt(i):{}:pt(N),f.array.next({values:{...N}}),f.state.next({values:{...N}})}a={mount:R.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!c.isValid||!!R.keepIsValid||!!R.keepDirtyValues,s.watch=!!t.shouldUnregister,f.state.next({submitCount:R.keepSubmitCount?r.submitCount:0,isDirty:j?!1:R.keepDirty?r.isDirty:!!(R.keepDefaultValues&&!sn(k,i)),isSubmitted:R.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:j?{}:R.keepDirtyValues?R.keepDefaultValues&&o?go(i,o):r.dirtyFields:R.keepDefaultValues&&k?go(i,k):R.keepDirty?r.dirtyFields:{},touchedFields:R.keepTouched?r.touchedFields:{},errors:R.keepErrors?r.errors:{},isSubmitSuccessful:R.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},ri=(k,R)=>_t(pr(k)?k(o):k,R),ni=(k,R={})=>{const O=ee(n,k),q=O&&O._f;if(q){const j=q.refs?q.refs[0]:q.ref;j.focus&&(j.focus(),R.shouldSelect&&pr(j.select)&&j.select())}},Vr=k=>{r={...r,...k}},Zr={control:{register:Te,unregister:me,getFieldState:ge,handleSubmit:H,setError:Ie,_subscribe:z,_runSchema:A,_focusError:G,_getWatch:te,_getDirty:we,_setValid:v,_setFieldArray:y,_setDisabledField:Qe,_setErrors:p,_getFieldArray:ue,_reset:_t,_resetDefaultValues:()=>pr(t.defaultValues)&&t.defaultValues().then(k=>{ri(k,t.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:J,_disableForm:I,_subjects:f,_proxyFormState:c,get _fields(){return n},get _formValues(){return o},get _state(){return s},set _state(k){s=k},get _defaultValues(){return i},get _names(){return a},set _names(k){a=k},get _formState(){return r},get _options(){return t},set _options(k){t={...t,...k}}},subscribe:B,trigger:W,register:Te,handleSubmit:H,watch:Z,setValue:ce,getValues:Q,reset:ri,resetField:fe,clearErrors:Ee,unregister:me,setError:Ie,setFocus:ni,getFieldState:ge};return{...Zr,formControl:Zr}}function ws(e={}){const t=It.useRef(void 0),r=It.useRef(void 0),[n,i]=It.useState({isDirty:!1,isValidating:!1,isLoading:pr(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:pr(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current={...e.formControl,formState:n},e.defaultValues&&!pr(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const{formControl:s,...a}=l1(e);t.current={...a,formState:n}}const o=t.current.control;return o._options=e,Kx(()=>{const s=o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),o._formState.isReady=!0,s},[o]),It.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),It.useEffect(()=>{e.mode&&(o._options.mode=e.mode),e.reValidateMode&&(o._options.reValidateMode=e.reValidateMode)},[o,e.mode,e.reValidateMode]),It.useEffect(()=>{e.errors&&(o._setErrors(e.errors),o._focusError())},[o,e.errors]),It.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[o,e.shouldUnregister]),It.useEffect(()=>{if(o._proxyFormState.isDirty){const s=o._getDirty();s!==n.isDirty&&o._subjects.state.next({isDirty:s})}},[o,n.isDirty]),It.useEffect(()=>{e.values&&!sn(e.values,r.current)?(o._reset(e.values,{keepFieldsRef:!0,...o._options.resetOptions}),r.current=e.values,i(s=>({...s}))):o._resetDefaultValues()},[o,e.values]),It.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),t.current.formState=qx(n,o),t.current}function L(e,t,r){function n(a,l){var u;Object.defineProperty(a,"_zod",{value:a._zod??{},enumerable:!1}),(u=a._zod).traits??(u.traits=new Set),a._zod.traits.add(e),t(a,l);for(const c in s.prototype)c in a||Object.defineProperty(a,c,{value:s.prototype[c].bind(a)});a._zod.constr=s,a._zod.def=l}const i=(r==null?void 0:r.Parent)??Object;class o extends i{}Object.defineProperty(o,"name",{value:e});function s(a){var l;const u=r!=null&&r.Parent?new o:this;n(u,a),(l=u._zod).deferred??(l.deferred=[]);for(const c of u._zod.deferred)c();return u}return Object.defineProperty(s,"init",{value:n}),Object.defineProperty(s,Symbol.hasInstance,{value:a=>{var l,u;return r!=null&&r.Parent&&a instanceof r.Parent?!0:(u=(l=a==null?void 0:a._zod)==null?void 0:l.traits)==null?void 0:u.has(e)}}),Object.defineProperty(s,"name",{value:e}),s}class os extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}const Ec={};function qn(e){return e&&Object.assign(Ec,e),Ec}function u1(e){const t=Object.values(e).filter(n=>typeof n=="number");return Object.entries(e).filter(([n,i])=>t.indexOf(+n)===-1).map(([n,i])=>i)}function Cc(e,t){return typeof t=="bigint"?t.toString():t}function ev(e){return{get value(){{const t=e();return Object.defineProperty(this,"value",{value:t}),t}}}}function eh(e){return e==null}function th(e){const t=e.startsWith("^")?1:0,r=e.endsWith("$")?e.length-1:e.length;return e.slice(t,r)}function c1(e,t){const r=(e.toString().split(".")[1]||"").length,n=t.toString();let i=(n.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(n)){const l=n.match(/\d?e-(\d?)/);l!=null&&l[1]&&(i=Number.parseInt(l[1]))}const o=r>i?r:i,s=Number.parseInt(e.toFixed(o).replace(".","")),a=Number.parseInt(t.toFixed(o).replace(".",""));return s%a/10**o}const ip=Symbol("evaluating");function je(e,t,r){let n;Object.defineProperty(e,t,{get(){if(n!==ip)return n===void 0&&(n=ip,n=r()),n},set(i){Object.defineProperty(e,t,{value:i})},configurable:!0})}function d1(e){return Object.create(Object.getPrototypeOf(e),Object.getOwnPropertyDescriptors(e))}function Xn(e,t,r){Object.defineProperty(e,t,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Gi(...e){const t={};for(const r of e){const n=Object.getOwnPropertyDescriptors(r);Object.assign(t,n)}return Object.defineProperties({},t)}function op(e){return JSON.stringify(e)}const tv="captureStackTrace"in Error?Error.captureStackTrace:(...e)=>{};function Pc(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)}const h1=ev(()=>{var e;if(typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)!=null&&e.includes("Cloudflare")))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Ya(e){if(Pc(e)===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(Pc(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function rv(e){return Ya(e)?{...e}:e}const f1=new Set(["string","number","symbol"]);function _l(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function ei(e,t,r){const n=new e._zod.constr(t??e._zod.def);return(!t||r!=null&&r.parent)&&(n._zod.parent=e),n}function de(e){const t=e;if(!t)return{};if(typeof t=="string")return{error:()=>t};if((t==null?void 0:t.message)!==void 0){if((t==null?void 0:t.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");t.error=t.message}return delete t.message,typeof t.error=="string"?{...t,error:()=>t.error}:t}function p1(e){return Object.keys(e).filter(t=>e[t]._zod.optin==="optional"&&e[t]._zod.optout==="optional")}const g1={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function m1(e,t){const r=e._zod.def,n=Gi(e._zod.def,{get shape(){const i={};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&(i[o]=r.shape[o])}return Xn(this,"shape",i),i},checks:[]});return ei(e,n)}function y1(e,t){const r=e._zod.def,n=Gi(e._zod.def,{get shape(){const i={...e._zod.def.shape};for(const o in t){if(!(o in r.shape))throw new Error(`Unrecognized key: "${o}"`);t[o]&&delete i[o]}return Xn(this,"shape",i),i},checks:[]});return ei(e,n)}function v1(e,t){if(!Ya(t))throw new Error("Invalid input to extend: expected a plain object");const r=Gi(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t};return Xn(this,"shape",n),n},checks:[]});return ei(e,r)}function w1(e,t){const r=Gi(e._zod.def,{get shape(){const n={...e._zod.def.shape,...t._zod.def.shape};return Xn(this,"shape",n),n},get catchall(){return t._zod.def.catchall},checks:[]});return ei(e,r)}function _1(e,t,r){const n=Gi(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(r)for(const s in r){if(!(s in i))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=e?new e({type:"optional",innerType:i[s]}):i[s])}else for(const s in i)o[s]=e?new e({type:"optional",innerType:i[s]}):i[s];return Xn(this,"shape",o),o},checks:[]});return ei(t,n)}function S1(e,t,r){const n=Gi(t._zod.def,{get shape(){const i=t._zod.def.shape,o={...i};if(r)for(const s in r){if(!(s in o))throw new Error(`Unrecognized key: "${s}"`);r[s]&&(o[s]=new e({type:"nonoptional",innerType:i[s]}))}else for(const s in i)o[s]=new e({type:"nonoptional",innerType:i[s]});return Xn(this,"shape",o),o},checks:[]});return ei(t,n)}function zo(e,t=0){var r;for(let n=t;n<e.issues.length;n++)if(((r=e.issues[n])==null?void 0:r.continue)!==!0)return!0;return!1}function nv(e,t){return t.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(e),r})}function Js(e){return typeof e=="string"?e:e==null?void 0:e.message}function Kn(e,t,r){var i,o,s,a,l,u;const n={...e,path:e.path??[]};if(!e.message){const c=Js((s=(o=(i=e.inst)==null?void 0:i._zod.def)==null?void 0:o.error)==null?void 0:s.call(o,e))??Js((a=t==null?void 0:t.error)==null?void 0:a.call(t,e))??Js((l=r.customError)==null?void 0:l.call(r,e))??Js((u=r.localeError)==null?void 0:u.call(r,e))??"Invalid input";n.message=c}return delete n.inst,delete n.continue,t!=null&&t.reportInput||delete n.input,n}function rh(e){return Array.isArray(e)?"array":typeof e=="string"?"string":"unknown"}function ss(...e){const[t,r,n]=e;return typeof t=="string"?{message:t,code:"custom",input:r,inst:n}:{...t}}const iv=(e,t)=>{e.name="$ZodError",Object.defineProperty(e,"_zod",{value:e._zod,enumerable:!1}),Object.defineProperty(e,"issues",{value:t,enumerable:!1}),e.message=JSON.stringify(t,Cc,2),Object.defineProperty(e,"toString",{value:()=>e.message,enumerable:!1})},nh=L("$ZodError",iv),Sl=L("$ZodError",iv,{Parent:Error});function x1(e,t=r=>r.message){const r={},n=[];for(const i of e.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}function b1(e,t){const r=t||function(o){return o.message},n={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union"&&s.errors.length)s.errors.map(a=>i({issues:a}));else if(s.code==="invalid_key")i({issues:s.issues});else if(s.code==="invalid_element")i({issues:s.issues});else if(s.path.length===0)n._errors.push(r(s));else{let a=n,l=0;for(;l<s.path.length;){const u=s.path[l];l===s.path.length-1?(a[u]=a[u]||{_errors:[]},a[u]._errors.push(r(s))):a[u]=a[u]||{_errors:[]},a=a[u],l++}}};return i(e),n}const ov=e=>(t,r,n,i)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise)throw new os;if(s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>Kn(l,o,qn())));throw tv(a,i==null?void 0:i.callee),a}return s.value},k1=ov(Sl),sv=e=>async(t,r,n,i)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let s=t._zod.run({value:r,issues:[]},o);if(s instanceof Promise&&(s=await s),s.issues.length){const a=new((i==null?void 0:i.Err)??e)(s.issues.map(l=>Kn(l,o,qn())));throw tv(a,i==null?void 0:i.callee),a}return s.value},E1=sv(Sl),av=e=>(t,r,n)=>{const i=n?{...n,async:!1}:{async:!1},o=t._zod.run({value:r,issues:[]},i);if(o instanceof Promise)throw new os;return o.issues.length?{success:!1,error:new(e??nh)(o.issues.map(s=>Kn(s,i,qn())))}:{success:!0,data:o.value}},C1=av(Sl),lv=e=>async(t,r,n)=>{const i=n?Object.assign(n,{async:!0}):{async:!0};let o=t._zod.run({value:r,issues:[]},i);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new e(o.issues.map(s=>Kn(s,i,qn())))}:{success:!0,data:o.value}},P1=lv(Sl),T1=/^[cC][^\s-]{8,}$/,R1=/^[0-9a-z]+$/,A1=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,D1=/^[0-9a-vA-V]{20}$/,O1=/^[A-Za-z0-9]{27}$/,$1=/^[a-zA-Z0-9_-]{21}$/,I1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,z1=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,sp=e=>e?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${e}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000)$/,L1=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,N1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function j1(){return new RegExp(N1,"u")}const M1=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,F1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})$/,U1=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,B1=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,W1=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,uv=/^[A-Za-z0-9_-]*$/,V1=/^(?=.{1,253}\.?$)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[-0-9a-zA-Z]{0,61}[0-9a-zA-Z])?)*\.?$/,Z1=/^\+(?:[0-9]){6,14}[0-9]$/,cv="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",H1=new RegExp(`^${cv}$`);function dv(e){const t="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof e.precision=="number"?e.precision===-1?`${t}`:e.precision===0?`${t}:[0-5]\\d`:`${t}:[0-5]\\d\\.\\d{${e.precision}}`:`${t}(?::[0-5]\\d(?:\\.\\d+)?)?`}function q1(e){return new RegExp(`^${dv(e)}$`)}function K1(e){const t=dv({precision:e.precision}),r=["Z"];e.local&&r.push(""),e.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${t}(?:${r.join("|")})`;return new RegExp(`^${cv}T(?:${n})$`)}const G1=e=>{const t=e?`[\\s\\S]{${(e==null?void 0:e.minimum)??0},${(e==null?void 0:e.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${t}$`)},Q1=/^\d+$/,J1=/^-?\d+(?:\.\d+)?/i,Y1=/^[^A-Z]*$/,X1=/^[^a-z]*$/,Vt=L("$ZodCheck",(e,t)=>{var r;e._zod??(e._zod={}),e._zod.def=t,(r=e._zod).onattach??(r.onattach=[])}),hv={number:"number",bigint:"bigint",object:"date"},fv=L("$ZodCheckLessThan",(e,t)=>{Vt.init(e,t);const r=hv[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,o=(t.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;t.value<o&&(t.inclusive?i.maximum=t.value:i.exclusiveMaximum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value<=t.value:n.value<t.value)||n.issues.push({origin:r,code:"too_big",maximum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),pv=L("$ZodCheckGreaterThan",(e,t)=>{Vt.init(e,t);const r=hv[typeof t.value];e._zod.onattach.push(n=>{const i=n._zod.bag,o=(t.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;t.value>o&&(t.inclusive?i.minimum=t.value:i.exclusiveMinimum=t.value)}),e._zod.check=n=>{(t.inclusive?n.value>=t.value:n.value>t.value)||n.issues.push({origin:r,code:"too_small",minimum:t.value,input:n.value,inclusive:t.inclusive,inst:e,continue:!t.abort})}}),eb=L("$ZodCheckMultipleOf",(e,t)=>{Vt.init(e,t),e._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=t.value)}),e._zod.check=r=>{if(typeof r.value!=typeof t.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%t.value===BigInt(0):c1(r.value,t.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:t.value,input:r.value,inst:e,continue:!t.abort})}}),tb=L("$ZodCheckNumberFormat",(e,t)=>{var s;Vt.init(e,t),t.format=t.format||"float64";const r=(s=t.format)==null?void 0:s.includes("int"),n=r?"int":"number",[i,o]=g1[t.format];e._zod.onattach.push(a=>{const l=a._zod.bag;l.format=t.format,l.minimum=i,l.maximum=o,r&&(l.pattern=Q1)}),e._zod.check=a=>{const l=a.value;if(r){if(!Number.isInteger(l)){a.issues.push({expected:n,format:t.format,code:"invalid_type",continue:!1,input:l,inst:e});return}if(!Number.isSafeInteger(l)){l>0?a.issues.push({input:l,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort}):a.issues.push({input:l,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:e,origin:n,continue:!t.abort});return}}l<i&&a.issues.push({origin:"number",input:l,code:"too_small",minimum:i,inclusive:!0,inst:e,continue:!t.abort}),l>o&&a.issues.push({origin:"number",input:l,code:"too_big",maximum:o,inst:e})}}),rb=L("$ZodCheckMaxLength",(e,t)=>{var r;Vt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!eh(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.maximum??Number.POSITIVE_INFINITY;t.maximum<i&&(n._zod.bag.maximum=t.maximum)}),e._zod.check=n=>{const i=n.value;if(i.length<=t.maximum)return;const s=rh(i);n.issues.push({origin:s,code:"too_big",maximum:t.maximum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),nb=L("$ZodCheckMinLength",(e,t)=>{var r;Vt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!eh(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;t.minimum>i&&(n._zod.bag.minimum=t.minimum)}),e._zod.check=n=>{const i=n.value;if(i.length>=t.minimum)return;const s=rh(i);n.issues.push({origin:s,code:"too_small",minimum:t.minimum,inclusive:!0,input:i,inst:e,continue:!t.abort})}}),ib=L("$ZodCheckLengthEquals",(e,t)=>{var r;Vt.init(e,t),(r=e._zod.def).when??(r.when=n=>{const i=n.value;return!eh(i)&&i.length!==void 0}),e._zod.onattach.push(n=>{const i=n._zod.bag;i.minimum=t.length,i.maximum=t.length,i.length=t.length}),e._zod.check=n=>{const i=n.value,o=i.length;if(o===t.length)return;const s=rh(i),a=o>t.length;n.issues.push({origin:s,...a?{code:"too_big",maximum:t.length}:{code:"too_small",minimum:t.length},inclusive:!0,exact:!0,input:n.value,inst:e,continue:!t.abort})}}),xl=L("$ZodCheckStringFormat",(e,t)=>{var r,n;Vt.init(e,t),e._zod.onattach.push(i=>{const o=i._zod.bag;o.format=t.format,t.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(t.pattern))}),t.pattern?(r=e._zod).check??(r.check=i=>{t.pattern.lastIndex=0,!t.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:t.format,input:i.value,...t.pattern?{pattern:t.pattern.toString()}:{},inst:e,continue:!t.abort})}):(n=e._zod).check??(n.check=()=>{})}),ob=L("$ZodCheckRegex",(e,t)=>{xl.init(e,t),e._zod.check=r=>{t.pattern.lastIndex=0,!t.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:t.pattern.toString(),inst:e,continue:!t.abort})}}),sb=L("$ZodCheckLowerCase",(e,t)=>{t.pattern??(t.pattern=Y1),xl.init(e,t)}),ab=L("$ZodCheckUpperCase",(e,t)=>{t.pattern??(t.pattern=X1),xl.init(e,t)}),lb=L("$ZodCheckIncludes",(e,t)=>{Vt.init(e,t);const r=_l(t.includes),n=new RegExp(typeof t.position=="number"?`^.{${t.position}}${r}`:r);t.pattern=n,e._zod.onattach.push(i=>{const o=i._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),e._zod.check=i=>{i.value.includes(t.includes,t.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:t.includes,input:i.value,inst:e,continue:!t.abort})}}),ub=L("$ZodCheckStartsWith",(e,t)=>{Vt.init(e,t);const r=new RegExp(`^${_l(t.prefix)}.*`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.startsWith(t.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:t.prefix,input:n.value,inst:e,continue:!t.abort})}}),cb=L("$ZodCheckEndsWith",(e,t)=>{Vt.init(e,t);const r=new RegExp(`.*${_l(t.suffix)}$`);t.pattern??(t.pattern=r),e._zod.onattach.push(n=>{const i=n._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(r)}),e._zod.check=n=>{n.value.endsWith(t.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:t.suffix,input:n.value,inst:e,continue:!t.abort})}}),db=L("$ZodCheckOverwrite",(e,t)=>{Vt.init(e,t),e._zod.check=r=>{r.value=t.tx(r.value)}});class hb{constructor(t=[]){this.content=[],this.indent=0,this&&(this.args=t)}indented(t){this.indent+=1,t(this),this.indent-=1}write(t){if(typeof t=="function"){t(this,{execution:"sync"}),t(this,{execution:"async"});return}const n=t.split(`
`).filter(s=>s),i=Math.min(...n.map(s=>s.length-s.trimStart().length)),o=n.map(s=>s.slice(i)).map(s=>" ".repeat(this.indent*2)+s);for(const s of o)this.content.push(s)}compile(){const t=Function,r=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(o=>`  ${o}`)];return new t(...r,i.join(`
`))}}const fb={major:4,minor:0,patch:17},ot=L("$ZodType",(e,t)=>{var i;var r;e??(e={}),e._zod.def=t,e._zod.bag=e._zod.bag||{},e._zod.version=fb;const n=[...e._zod.def.checks??[]];e._zod.traits.has("$ZodCheck")&&n.unshift(e);for(const o of n)for(const s of o._zod.onattach)s(e);if(n.length===0)(r=e._zod).deferred??(r.deferred=[]),(i=e._zod.deferred)==null||i.push(()=>{e._zod.run=e._zod.parse});else{const o=(s,a,l)=>{let u=zo(s),c;for(const d of a){if(d._zod.def.when){if(!d._zod.def.when(s))continue}else if(u)continue;const f=s.issues.length,g=d._zod.check(s);if(g instanceof Promise&&(l==null?void 0:l.async)===!1)throw new os;if(c||g instanceof Promise)c=(c??Promise.resolve()).then(async()=>{await g,s.issues.length!==f&&(u||(u=zo(s,f)))});else{if(s.issues.length===f)continue;u||(u=zo(s,f))}}return c?c.then(()=>s):s};e._zod.run=(s,a)=>{const l=e._zod.parse(s,a);if(l instanceof Promise){if(a.async===!1)throw new os;return l.then(u=>o(u,n,a))}return o(l,n,a)}}e["~standard"]={validate:o=>{var s;try{const a=C1(e,o);return a.success?{value:a.data}:{issues:(s=a.error)==null?void 0:s.issues}}catch{return P1(e,o).then(l=>{var u;return l.success?{value:l.data}:{issues:(u=l.error)==null?void 0:u.issues}})}},vendor:"zod",version:1}}),ih=L("$ZodString",(e,t)=>{var r;ot.init(e,t),e._zod.pattern=[...((r=e==null?void 0:e._zod.bag)==null?void 0:r.patterns)??[]].pop()??G1(e._zod.bag),e._zod.parse=(n,i)=>{if(t.coerce)try{n.value=String(n.value)}catch{}return typeof n.value=="string"||n.issues.push({expected:"string",code:"invalid_type",input:n.value,inst:e}),n}}),Ve=L("$ZodStringFormat",(e,t)=>{xl.init(e,t),ih.init(e,t)}),pb=L("$ZodGUID",(e,t)=>{t.pattern??(t.pattern=z1),Ve.init(e,t)}),gb=L("$ZodUUID",(e,t)=>{if(t.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[t.version];if(n===void 0)throw new Error(`Invalid UUID version: "${t.version}"`);t.pattern??(t.pattern=sp(n))}else t.pattern??(t.pattern=sp());Ve.init(e,t)}),mb=L("$ZodEmail",(e,t)=>{t.pattern??(t.pattern=L1),Ve.init(e,t)}),yb=L("$ZodURL",(e,t)=>{Ve.init(e,t),e._zod.check=r=>{try{const n=r.value.trim(),i=new URL(n);t.hostname&&(t.hostname.lastIndex=0,t.hostname.test(i.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:V1.source,input:r.value,inst:e,continue:!t.abort})),t.protocol&&(t.protocol.lastIndex=0,t.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:t.protocol.source,input:r.value,inst:e,continue:!t.abort})),t.normalize?r.value=i.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:e,continue:!t.abort})}}}),vb=L("$ZodEmoji",(e,t)=>{t.pattern??(t.pattern=j1()),Ve.init(e,t)}),wb=L("$ZodNanoID",(e,t)=>{t.pattern??(t.pattern=$1),Ve.init(e,t)}),_b=L("$ZodCUID",(e,t)=>{t.pattern??(t.pattern=T1),Ve.init(e,t)}),Sb=L("$ZodCUID2",(e,t)=>{t.pattern??(t.pattern=R1),Ve.init(e,t)}),xb=L("$ZodULID",(e,t)=>{t.pattern??(t.pattern=A1),Ve.init(e,t)}),bb=L("$ZodXID",(e,t)=>{t.pattern??(t.pattern=D1),Ve.init(e,t)}),kb=L("$ZodKSUID",(e,t)=>{t.pattern??(t.pattern=O1),Ve.init(e,t)}),Eb=L("$ZodISODateTime",(e,t)=>{t.pattern??(t.pattern=K1(t)),Ve.init(e,t)}),Cb=L("$ZodISODate",(e,t)=>{t.pattern??(t.pattern=H1),Ve.init(e,t)}),Pb=L("$ZodISOTime",(e,t)=>{t.pattern??(t.pattern=q1(t)),Ve.init(e,t)}),Tb=L("$ZodISODuration",(e,t)=>{t.pattern??(t.pattern=I1),Ve.init(e,t)}),Rb=L("$ZodIPv4",(e,t)=>{t.pattern??(t.pattern=M1),Ve.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv4"})}),Ab=L("$ZodIPv6",(e,t)=>{t.pattern??(t.pattern=F1),Ve.init(e,t),e._zod.onattach.push(r=>{const n=r._zod.bag;n.format="ipv6"}),e._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:e,continue:!t.abort})}}}),Db=L("$ZodCIDRv4",(e,t)=>{t.pattern??(t.pattern=U1),Ve.init(e,t)}),Ob=L("$ZodCIDRv6",(e,t)=>{t.pattern??(t.pattern=B1),Ve.init(e,t),e._zod.check=r=>{const[n,i]=r.value.split("/");try{if(!i)throw new Error;const o=Number(i);if(`${o}`!==i)throw new Error;if(o<0||o>128)throw new Error;new URL(`http://[${n}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:e,continue:!t.abort})}}});function gv(e){if(e==="")return!0;if(e.length%4!==0)return!1;try{return atob(e),!0}catch{return!1}}const $b=L("$ZodBase64",(e,t)=>{t.pattern??(t.pattern=W1),Ve.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64"}),e._zod.check=r=>{gv(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:e,continue:!t.abort})}});function Ib(e){if(!uv.test(e))return!1;const t=e.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=t.padEnd(Math.ceil(t.length/4)*4,"=");return gv(r)}const zb=L("$ZodBase64URL",(e,t)=>{t.pattern??(t.pattern=uv),Ve.init(e,t),e._zod.onattach.push(r=>{r._zod.bag.contentEncoding="base64url"}),e._zod.check=r=>{Ib(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:e,continue:!t.abort})}}),Lb=L("$ZodE164",(e,t)=>{t.pattern??(t.pattern=Z1),Ve.init(e,t)});function Nb(e,t=null){try{const r=e.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const i=JSON.parse(atob(n));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&(!("alg"in i)||i.alg!==t))}catch{return!1}}const jb=L("$ZodJWT",(e,t)=>{Ve.init(e,t),e._zod.check=r=>{Nb(r.value,t.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:e,continue:!t.abort})}}),mv=L("$ZodNumber",(e,t)=>{ot.init(e,t),e._zod.pattern=e._zod.bag.pattern??J1,e._zod.parse=(r,n)=>{if(t.coerce)try{r.value=Number(r.value)}catch{}const i=r.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return r;const o=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:i,inst:e,...o?{received:o}:{}}),r}}),Mb=L("$ZodNumber",(e,t)=>{tb.init(e,t),mv.init(e,t)}),Fb=L("$ZodUnknown",(e,t)=>{ot.init(e,t),e._zod.parse=r=>r}),Ub=L("$ZodNever",(e,t)=>{ot.init(e,t),e._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:e}),r)});function ap(e,t,r){e.issues.length&&t.issues.push(...nv(r,e.issues)),t.value[r]=e.value}const Bb=L("$ZodArray",(e,t)=>{ot.init(e,t),e._zod.parse=(r,n)=>{const i=r.value;if(!Array.isArray(i))return r.issues.push({expected:"array",code:"invalid_type",input:i,inst:e}),r;r.value=Array(i.length);const o=[];for(let s=0;s<i.length;s++){const a=i[s],l=t.element._zod.run({value:a,issues:[]},n);l instanceof Promise?o.push(l.then(u=>ap(u,r,s))):ap(l,r,s)}return o.length?Promise.all(o).then(()=>r):r}});function Ys(e,t,r,n){e.issues.length&&t.issues.push(...nv(r,e.issues)),e.value===void 0?r in n&&(t.value[r]=void 0):t.value[r]=e.value}const Wb=L("$ZodObject",(e,t)=>{ot.init(e,t);const r=ev(()=>{const d=Object.keys(t.shape);for(const g of d)if(!t.shape[g]._zod.traits.has("$ZodType"))throw new Error(`Invalid element at key "${g}": expected a Zod schema`);const f=p1(t.shape);return{shape:t.shape,keys:d,keySet:new Set(d),numKeys:d.length,optionalKeys:new Set(f)}});je(e._zod,"propValues",()=>{const d=t.shape,f={};for(const g in d){const w=d[g]._zod;if(w.values){f[g]??(f[g]=new Set);for(const v of w.values)f[g].add(v)}}return f});const n=d=>{const f=new hb(["shape","payload","ctx"]),g=r.value,w=m=>{const p=op(m);return`shape[${p}]._zod.run({ value: input[${p}], issues: [] }, ctx)`};f.write("const input = payload.value;");const v=Object.create(null);let C=0;for(const m of g.keys)v[m]=`key_${C++}`;f.write("const newResult = {}");for(const m of g.keys){const p=v[m],b=op(m);f.write(`const ${p} = ${w(m)};`),f.write(`
        if (${p}.issues.length) {
          payload.issues = payload.issues.concat(${p}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${b}, ...iss.path] : [${b}]
          })));
        }
        
        if (${p}.value === undefined) {
          if (${b} in input) {
            newResult[${b}] = undefined;
          }
        } else {
          newResult[${b}] = ${p}.value;
        }
      `)}f.write("payload.value = newResult;"),f.write("return payload;");const y=f.compile();return(m,p)=>y(d,m,p)};let i;const o=Pc,s=!Ec.jitless,l=s&&h1.value,u=t.catchall;let c;e._zod.parse=(d,f)=>{c??(c=r.value);const g=d.value;if(!o(g))return d.issues.push({expected:"object",code:"invalid_type",input:g,inst:e}),d;const w=[];if(s&&l&&(f==null?void 0:f.async)===!1&&f.jitless!==!0)i||(i=n(t.shape)),d=i(d,f);else{d.value={};const p=c.shape;for(const b of c.keys){const x=p[b]._zod.run({value:g[b],issues:[]},f);x instanceof Promise?w.push(x.then(A=>Ys(A,d,b,g))):Ys(x,d,b,g)}}if(!u)return w.length?Promise.all(w).then(()=>d):d;const v=[],C=c.keySet,y=u._zod,m=y.def.type;for(const p of Object.keys(g)){if(C.has(p))continue;if(m==="never"){v.push(p);continue}const b=y.run({value:g[p],issues:[]},f);b instanceof Promise?w.push(b.then(T=>Ys(T,d,p,g))):Ys(b,d,p,g)}return v.length&&d.issues.push({code:"unrecognized_keys",keys:v,input:g,inst:e}),w.length?Promise.all(w).then(()=>d):d}});function lp(e,t,r,n){for(const o of e)if(o.issues.length===0)return t.value=o.value,t;const i=e.filter(o=>!zo(o));return i.length===1?(t.value=i[0].value,i[0]):(t.issues.push({code:"invalid_union",input:t.value,inst:r,errors:e.map(o=>o.issues.map(s=>Kn(s,n,qn())))}),t)}const Vb=L("$ZodUnion",(e,t)=>{ot.init(e,t),je(e._zod,"optin",()=>t.options.some(i=>i._zod.optin==="optional")?"optional":void 0),je(e._zod,"optout",()=>t.options.some(i=>i._zod.optout==="optional")?"optional":void 0),je(e._zod,"values",()=>{if(t.options.every(i=>i._zod.values))return new Set(t.options.flatMap(i=>Array.from(i._zod.values)))}),je(e._zod,"pattern",()=>{if(t.options.every(i=>i._zod.pattern)){const i=t.options.map(o=>o._zod.pattern);return new RegExp(`^(${i.map(o=>th(o.source)).join("|")})$`)}});const r=t.options.length===1,n=t.options[0]._zod.run;e._zod.parse=(i,o)=>{if(r)return n(i,o);let s=!1;const a=[];for(const l of t.options){const u=l._zod.run({value:i.value,issues:[]},o);if(u instanceof Promise)a.push(u),s=!0;else{if(u.issues.length===0)return u;a.push(u)}}return s?Promise.all(a).then(l=>lp(l,i,e,o)):lp(a,i,e,o)}}),Zb=L("$ZodIntersection",(e,t)=>{ot.init(e,t),e._zod.parse=(r,n)=>{const i=r.value,o=t.left._zod.run({value:i,issues:[]},n),s=t.right._zod.run({value:i,issues:[]},n);return o instanceof Promise||s instanceof Promise?Promise.all([o,s]).then(([l,u])=>up(r,l,u)):up(r,o,s)}});function Tc(e,t){if(e===t)return{valid:!0,data:e};if(e instanceof Date&&t instanceof Date&&+e==+t)return{valid:!0,data:e};if(Ya(e)&&Ya(t)){const r=Object.keys(t),n=Object.keys(e).filter(o=>r.indexOf(o)!==-1),i={...e,...t};for(const o of n){const s=Tc(e[o],t[o]);if(!s.valid)return{valid:!1,mergeErrorPath:[o,...s.mergeErrorPath]};i[o]=s.data}return{valid:!0,data:i}}if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<e.length;n++){const i=e[n],o=t[n],s=Tc(i,o);if(!s.valid)return{valid:!1,mergeErrorPath:[n,...s.mergeErrorPath]};r.push(s.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function up(e,t,r){if(t.issues.length&&e.issues.push(...t.issues),r.issues.length&&e.issues.push(...r.issues),zo(e))return e;const n=Tc(t.value,r.value);if(!n.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(n.mergeErrorPath)}`);return e.value=n.data,e}const Hb=L("$ZodEnum",(e,t)=>{ot.init(e,t);const r=u1(t.entries),n=new Set(r);e._zod.values=n,e._zod.pattern=new RegExp(`^(${r.filter(i=>f1.has(typeof i)).map(i=>typeof i=="string"?_l(i):i.toString()).join("|")})$`),e._zod.parse=(i,o)=>{const s=i.value;return n.has(s)||i.issues.push({code:"invalid_value",values:r,input:s,inst:e}),i}}),qb=L("$ZodTransform",(e,t)=>{ot.init(e,t),e._zod.parse=(r,n)=>{const i=t.transform(r.value,r);if(n.async)return(i instanceof Promise?i:Promise.resolve(i)).then(s=>(r.value=s,r));if(i instanceof Promise)throw new os;return r.value=i,r}});function cp(e,t){return e.issues.length&&t===void 0?{issues:[],value:void 0}:e}const Kb=L("$ZodOptional",(e,t)=>{ot.init(e,t),e._zod.optin="optional",e._zod.optout="optional",je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,void 0]):void 0),je(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${th(r.source)})?$`):void 0}),e._zod.parse=(r,n)=>{if(t.innerType._zod.optin==="optional"){const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>cp(o,r.value)):cp(i,r.value)}return r.value===void 0?r:t.innerType._zod.run(r,n)}}),Gb=L("$ZodNullable",(e,t)=>{ot.init(e,t),je(e._zod,"optin",()=>t.innerType._zod.optin),je(e._zod,"optout",()=>t.innerType._zod.optout),je(e._zod,"pattern",()=>{const r=t.innerType._zod.pattern;return r?new RegExp(`^(${th(r.source)}|null)$`):void 0}),je(e._zod,"values",()=>t.innerType._zod.values?new Set([...t.innerType._zod.values,null]):void 0),e._zod.parse=(r,n)=>r.value===null?r:t.innerType._zod.run(r,n)}),Qb=L("$ZodDefault",(e,t)=>{ot.init(e,t),e._zod.optin="optional",je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{if(r.value===void 0)return r.value=t.defaultValue,r;const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>dp(o,t)):dp(i,t)}});function dp(e,t){return e.value===void 0&&(e.value=t.defaultValue),e}const Jb=L("$ZodPrefault",(e,t)=>{ot.init(e,t),e._zod.optin="optional",je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>(r.value===void 0&&(r.value=t.defaultValue),t.innerType._zod.run(r,n))}),Yb=L("$ZodNonOptional",(e,t)=>{ot.init(e,t),je(e._zod,"values",()=>{const r=t.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>hp(o,e)):hp(i,e)}});function hp(e,t){return!e.issues.length&&e.value===void 0&&e.issues.push({code:"invalid_type",expected:"nonoptional",input:e.value,inst:t}),e}const Xb=L("$ZodCatch",(e,t)=>{ot.init(e,t),je(e._zod,"optin",()=>t.innerType._zod.optin),je(e._zod,"optout",()=>t.innerType._zod.optout),je(e._zod,"values",()=>t.innerType._zod.values),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(o=>(r.value=o.value,o.issues.length&&(r.value=t.catchValue({...r,error:{issues:o.issues.map(s=>Kn(s,n,qn()))},input:r.value}),r.issues=[]),r)):(r.value=i.value,i.issues.length&&(r.value=t.catchValue({...r,error:{issues:i.issues.map(o=>Kn(o,n,qn()))},input:r.value}),r.issues=[]),r)}}),ek=L("$ZodPipe",(e,t)=>{ot.init(e,t),je(e._zod,"values",()=>t.in._zod.values),je(e._zod,"optin",()=>t.in._zod.optin),je(e._zod,"optout",()=>t.out._zod.optout),je(e._zod,"propValues",()=>t.in._zod.propValues),e._zod.parse=(r,n)=>{const i=t.in._zod.run(r,n);return i instanceof Promise?i.then(o=>fp(o,t,n)):fp(i,t,n)}});function fp(e,t,r){return e.issues.length?e:t.out._zod.run({value:e.value,issues:e.issues},r)}const tk=L("$ZodReadonly",(e,t)=>{ot.init(e,t),je(e._zod,"propValues",()=>t.innerType._zod.propValues),je(e._zod,"values",()=>t.innerType._zod.values),je(e._zod,"optin",()=>t.innerType._zod.optin),je(e._zod,"optout",()=>t.innerType._zod.optout),e._zod.parse=(r,n)=>{const i=t.innerType._zod.run(r,n);return i instanceof Promise?i.then(pp):pp(i)}});function pp(e){return e.value=Object.freeze(e.value),e}const rk=L("$ZodCustom",(e,t)=>{Vt.init(e,t),ot.init(e,t),e._zod.parse=(r,n)=>r,e._zod.check=r=>{const n=r.value,i=t.fn(n);if(i instanceof Promise)return i.then(o=>gp(o,r,n,e));gp(i,r,n,e)}});function gp(e,t,r,n){if(!e){const i={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(i.params=n._zod.def.params),t.issues.push(ss(i))}}class nk{constructor(){this._map=new Map,this._idmap=new Map}add(t,...r){const n=r[0];if(this._map.set(t,n),n&&typeof n=="object"&&"id"in n){if(this._idmap.has(n.id))throw new Error(`ID ${n.id} already exists in the registry`);this._idmap.set(n.id,t)}return this}clear(){return this._map=new Map,this._idmap=new Map,this}remove(t){const r=this._map.get(t);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(t),this}get(t){const r=t._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const i={...n,...this._map.get(t)};return Object.keys(i).length?i:void 0}return this._map.get(t)}has(t){return this._map.has(t)}}function ik(){return new nk}const Xs=ik();function ok(e,t){return new e({type:"string",...de(t)})}function sk(e,t){return new e({type:"string",format:"email",check:"string_format",abort:!1,...de(t)})}function mp(e,t){return new e({type:"string",format:"guid",check:"string_format",abort:!1,...de(t)})}function ak(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,...de(t)})}function lk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...de(t)})}function uk(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...de(t)})}function ck(e,t){return new e({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...de(t)})}function dk(e,t){return new e({type:"string",format:"url",check:"string_format",abort:!1,...de(t)})}function hk(e,t){return new e({type:"string",format:"emoji",check:"string_format",abort:!1,...de(t)})}function fk(e,t){return new e({type:"string",format:"nanoid",check:"string_format",abort:!1,...de(t)})}function pk(e,t){return new e({type:"string",format:"cuid",check:"string_format",abort:!1,...de(t)})}function gk(e,t){return new e({type:"string",format:"cuid2",check:"string_format",abort:!1,...de(t)})}function mk(e,t){return new e({type:"string",format:"ulid",check:"string_format",abort:!1,...de(t)})}function yk(e,t){return new e({type:"string",format:"xid",check:"string_format",abort:!1,...de(t)})}function vk(e,t){return new e({type:"string",format:"ksuid",check:"string_format",abort:!1,...de(t)})}function wk(e,t){return new e({type:"string",format:"ipv4",check:"string_format",abort:!1,...de(t)})}function _k(e,t){return new e({type:"string",format:"ipv6",check:"string_format",abort:!1,...de(t)})}function Sk(e,t){return new e({type:"string",format:"cidrv4",check:"string_format",abort:!1,...de(t)})}function xk(e,t){return new e({type:"string",format:"cidrv6",check:"string_format",abort:!1,...de(t)})}function bk(e,t){return new e({type:"string",format:"base64",check:"string_format",abort:!1,...de(t)})}function kk(e,t){return new e({type:"string",format:"base64url",check:"string_format",abort:!1,...de(t)})}function Ek(e,t){return new e({type:"string",format:"e164",check:"string_format",abort:!1,...de(t)})}function Ck(e,t){return new e({type:"string",format:"jwt",check:"string_format",abort:!1,...de(t)})}function Pk(e,t){return new e({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...de(t)})}function Tk(e,t){return new e({type:"string",format:"date",check:"string_format",...de(t)})}function Rk(e,t){return new e({type:"string",format:"time",check:"string_format",precision:null,...de(t)})}function Ak(e,t){return new e({type:"string",format:"duration",check:"string_format",...de(t)})}function Dk(e,t){return new e({type:"number",checks:[],...de(t)})}function Ok(e,t){return new e({type:"number",check:"number_format",abort:!1,format:"safeint",...de(t)})}function $k(e){return new e({type:"unknown"})}function Ik(e,t){return new e({type:"never",...de(t)})}function yp(e,t){return new fv({check:"less_than",...de(t),value:e,inclusive:!1})}function hu(e,t){return new fv({check:"less_than",...de(t),value:e,inclusive:!0})}function vp(e,t){return new pv({check:"greater_than",...de(t),value:e,inclusive:!1})}function fu(e,t){return new pv({check:"greater_than",...de(t),value:e,inclusive:!0})}function wp(e,t){return new eb({check:"multiple_of",...de(t),value:e})}function yv(e,t){return new rb({check:"max_length",...de(t),maximum:e})}function Xa(e,t){return new nb({check:"min_length",...de(t),minimum:e})}function vv(e,t){return new ib({check:"length_equals",...de(t),length:e})}function zk(e,t){return new ob({check:"string_format",format:"regex",...de(t),pattern:e})}function Lk(e){return new sb({check:"string_format",format:"lowercase",...de(e)})}function Nk(e){return new ab({check:"string_format",format:"uppercase",...de(e)})}function jk(e,t){return new lb({check:"string_format",format:"includes",...de(t),includes:e})}function Mk(e,t){return new ub({check:"string_format",format:"starts_with",...de(t),prefix:e})}function Fk(e,t){return new cb({check:"string_format",format:"ends_with",...de(t),suffix:e})}function _s(e){return new db({check:"overwrite",tx:e})}function Uk(e){return _s(t=>t.normalize(e))}function Bk(){return _s(e=>e.trim())}function Wk(){return _s(e=>e.toLowerCase())}function Vk(){return _s(e=>e.toUpperCase())}function Zk(e,t,r){return new e({type:"array",element:t,...de(r)})}function Hk(e,t,r){return new e({type:"custom",check:"custom",fn:t,...de(r)})}function qk(e){const t=Kk(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(ss(n,r.value,t._zod.def));else{const i=n;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=r.value),i.inst??(i.inst=t),i.continue??(i.continue=!t._zod.def.abort),r.issues.push(ss(i))}},e(r.value,r)));return t}function Kk(e,t){const r=new Vt({check:"custom",...de(t)});return r._zod.check=e,r}const Gk=L("ZodISODateTime",(e,t)=>{Eb.init(e,t),Ge.init(e,t)});function Qk(e){return Pk(Gk,e)}const Jk=L("ZodISODate",(e,t)=>{Cb.init(e,t),Ge.init(e,t)});function Yk(e){return Tk(Jk,e)}const Xk=L("ZodISOTime",(e,t)=>{Pb.init(e,t),Ge.init(e,t)});function eE(e){return Rk(Xk,e)}const tE=L("ZodISODuration",(e,t)=>{Tb.init(e,t),Ge.init(e,t)});function rE(e){return Ak(tE,e)}const nE=(e,t)=>{nh.init(e,t),e.name="ZodError",Object.defineProperties(e,{format:{value:r=>b1(e,r)},flatten:{value:r=>x1(e,r)},addIssue:{value:r=>{e.issues.push(r),e.message=JSON.stringify(e.issues,Cc,2)}},addIssues:{value:r=>{e.issues.push(...r),e.message=JSON.stringify(e.issues,Cc,2)}},isEmpty:{get(){return e.issues.length===0}}})},bl=L("ZodError",nE,{Parent:Error}),iE=ov(bl),oE=sv(bl),sE=av(bl),aE=lv(bl),ht=L("ZodType",(e,t)=>(ot.init(e,t),e.def=t,Object.defineProperty(e,"_def",{value:t}),e.check=(...r)=>e.clone({...t,checks:[...t.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),e.clone=(r,n)=>ei(e,r,n),e.brand=()=>e,e.register=(r,n)=>(r.add(e,n),e),e.parse=(r,n)=>iE(e,r,n,{callee:e.parse}),e.safeParse=(r,n)=>sE(e,r,n),e.parseAsync=async(r,n)=>oE(e,r,n,{callee:e.parseAsync}),e.safeParseAsync=async(r,n)=>aE(e,r,n),e.spa=e.safeParseAsync,e.refine=(r,n)=>e.check(JE(r,n)),e.superRefine=r=>e.check(YE(r)),e.overwrite=r=>e.check(_s(r)),e.optional=()=>bp(e),e.nullable=()=>kp(e),e.nullish=()=>bp(kp(e)),e.nonoptional=r=>VE(e,r),e.array=()=>DE(e),e.or=r=>IE([e,r]),e.and=r=>LE(e,r),e.transform=r=>Ep(e,jE(r)),e.default=r=>UE(e,r),e.prefault=r=>WE(e,r),e.catch=r=>HE(e,r),e.pipe=r=>Ep(e,r),e.readonly=()=>GE(e),e.describe=r=>{const n=e.clone();return Xs.add(n,{description:r}),n},Object.defineProperty(e,"description",{get(){var r;return(r=Xs.get(e))==null?void 0:r.description},configurable:!0}),e.meta=(...r)=>{if(r.length===0)return Xs.get(e);const n=e.clone();return Xs.add(n,r[0]),n},e.isOptional=()=>e.safeParse(void 0).success,e.isNullable=()=>e.safeParse(null).success,e)),wv=L("_ZodString",(e,t)=>{ih.init(e,t),ht.init(e,t);const r=e._zod.bag;e.format=r.format??null,e.minLength=r.minimum??null,e.maxLength=r.maximum??null,e.regex=(...n)=>e.check(zk(...n)),e.includes=(...n)=>e.check(jk(...n)),e.startsWith=(...n)=>e.check(Mk(...n)),e.endsWith=(...n)=>e.check(Fk(...n)),e.min=(...n)=>e.check(Xa(...n)),e.max=(...n)=>e.check(yv(...n)),e.length=(...n)=>e.check(vv(...n)),e.nonempty=(...n)=>e.check(Xa(1,...n)),e.lowercase=n=>e.check(Lk(n)),e.uppercase=n=>e.check(Nk(n)),e.trim=()=>e.check(Bk()),e.normalize=(...n)=>e.check(Uk(...n)),e.toLowerCase=()=>e.check(Wk()),e.toUpperCase=()=>e.check(Vk())}),lE=L("ZodString",(e,t)=>{ih.init(e,t),wv.init(e,t),e.email=r=>e.check(sk(uE,r)),e.url=r=>e.check(dk(cE,r)),e.jwt=r=>e.check(Ck(EE,r)),e.emoji=r=>e.check(hk(dE,r)),e.guid=r=>e.check(mp(_p,r)),e.uuid=r=>e.check(ak(ea,r)),e.uuidv4=r=>e.check(lk(ea,r)),e.uuidv6=r=>e.check(uk(ea,r)),e.uuidv7=r=>e.check(ck(ea,r)),e.nanoid=r=>e.check(fk(hE,r)),e.guid=r=>e.check(mp(_p,r)),e.cuid=r=>e.check(pk(fE,r)),e.cuid2=r=>e.check(gk(pE,r)),e.ulid=r=>e.check(mk(gE,r)),e.base64=r=>e.check(bk(xE,r)),e.base64url=r=>e.check(kk(bE,r)),e.xid=r=>e.check(yk(mE,r)),e.ksuid=r=>e.check(vk(yE,r)),e.ipv4=r=>e.check(wk(vE,r)),e.ipv6=r=>e.check(_k(wE,r)),e.cidrv4=r=>e.check(Sk(_E,r)),e.cidrv6=r=>e.check(xk(SE,r)),e.e164=r=>e.check(Ek(kE,r)),e.datetime=r=>e.check(Qk(r)),e.date=r=>e.check(Yk(r)),e.time=r=>e.check(eE(r)),e.duration=r=>e.check(rE(r))});function Ft(e){return ok(lE,e)}const Ge=L("ZodStringFormat",(e,t)=>{Ve.init(e,t),wv.init(e,t)}),uE=L("ZodEmail",(e,t)=>{mb.init(e,t),Ge.init(e,t)}),_p=L("ZodGUID",(e,t)=>{pb.init(e,t),Ge.init(e,t)}),ea=L("ZodUUID",(e,t)=>{gb.init(e,t),Ge.init(e,t)}),cE=L("ZodURL",(e,t)=>{yb.init(e,t),Ge.init(e,t)}),dE=L("ZodEmoji",(e,t)=>{vb.init(e,t),Ge.init(e,t)}),hE=L("ZodNanoID",(e,t)=>{wb.init(e,t),Ge.init(e,t)}),fE=L("ZodCUID",(e,t)=>{_b.init(e,t),Ge.init(e,t)}),pE=L("ZodCUID2",(e,t)=>{Sb.init(e,t),Ge.init(e,t)}),gE=L("ZodULID",(e,t)=>{xb.init(e,t),Ge.init(e,t)}),mE=L("ZodXID",(e,t)=>{bb.init(e,t),Ge.init(e,t)}),yE=L("ZodKSUID",(e,t)=>{kb.init(e,t),Ge.init(e,t)}),vE=L("ZodIPv4",(e,t)=>{Rb.init(e,t),Ge.init(e,t)}),wE=L("ZodIPv6",(e,t)=>{Ab.init(e,t),Ge.init(e,t)}),_E=L("ZodCIDRv4",(e,t)=>{Db.init(e,t),Ge.init(e,t)}),SE=L("ZodCIDRv6",(e,t)=>{Ob.init(e,t),Ge.init(e,t)}),xE=L("ZodBase64",(e,t)=>{$b.init(e,t),Ge.init(e,t)}),bE=L("ZodBase64URL",(e,t)=>{zb.init(e,t),Ge.init(e,t)}),kE=L("ZodE164",(e,t)=>{Lb.init(e,t),Ge.init(e,t)}),EE=L("ZodJWT",(e,t)=>{jb.init(e,t),Ge.init(e,t)}),_v=L("ZodNumber",(e,t)=>{mv.init(e,t),ht.init(e,t),e.gt=(n,i)=>e.check(vp(n,i)),e.gte=(n,i)=>e.check(fu(n,i)),e.min=(n,i)=>e.check(fu(n,i)),e.lt=(n,i)=>e.check(yp(n,i)),e.lte=(n,i)=>e.check(hu(n,i)),e.max=(n,i)=>e.check(hu(n,i)),e.int=n=>e.check(Sp(n)),e.safe=n=>e.check(Sp(n)),e.positive=n=>e.check(vp(0,n)),e.nonnegative=n=>e.check(fu(0,n)),e.negative=n=>e.check(yp(0,n)),e.nonpositive=n=>e.check(hu(0,n)),e.multipleOf=(n,i)=>e.check(wp(n,i)),e.step=(n,i)=>e.check(wp(n,i)),e.finite=()=>e;const r=e._zod.bag;e.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,e.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,e.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),e.isFinite=!0,e.format=r.format??null});function ut(e){return Dk(_v,e)}const CE=L("ZodNumberFormat",(e,t)=>{Mb.init(e,t),_v.init(e,t)});function Sp(e){return Ok(CE,e)}const PE=L("ZodUnknown",(e,t)=>{Fb.init(e,t),ht.init(e,t)});function xp(){return $k(PE)}const TE=L("ZodNever",(e,t)=>{Ub.init(e,t),ht.init(e,t)});function RE(e){return Ik(TE,e)}const AE=L("ZodArray",(e,t)=>{Bb.init(e,t),ht.init(e,t),e.element=t.element,e.min=(r,n)=>e.check(Xa(r,n)),e.nonempty=r=>e.check(Xa(1,r)),e.max=(r,n)=>e.check(yv(r,n)),e.length=(r,n)=>e.check(vv(r,n)),e.unwrap=()=>e.element});function DE(e,t){return Zk(AE,e,t)}const OE=L("ZodObject",(e,t)=>{Wb.init(e,t),ht.init(e,t),je(e,"shape",()=>t.shape),e.keyof=()=>as(Object.keys(e._zod.def.shape)),e.catchall=r=>e.clone({...e._zod.def,catchall:r}),e.passthrough=()=>e.clone({...e._zod.def,catchall:xp()}),e.loose=()=>e.clone({...e._zod.def,catchall:xp()}),e.strict=()=>e.clone({...e._zod.def,catchall:RE()}),e.strip=()=>e.clone({...e._zod.def,catchall:void 0}),e.extend=r=>v1(e,r),e.merge=r=>w1(e,r),e.pick=r=>m1(e,r),e.omit=r=>y1(e,r),e.partial=(...r)=>_1(Sv,e,r[0]),e.required=(...r)=>S1(xv,e,r[0])});function Ss(e,t){const r={type:"object",get shape(){return Xn(this,"shape",e?d1(e):{}),this.shape},...de(t)};return new OE(r)}const $E=L("ZodUnion",(e,t)=>{Vb.init(e,t),ht.init(e,t),e.options=t.options});function IE(e,t){return new $E({type:"union",options:e,...de(t)})}const zE=L("ZodIntersection",(e,t)=>{Zb.init(e,t),ht.init(e,t)});function LE(e,t){return new zE({type:"intersection",left:e,right:t})}const Rc=L("ZodEnum",(e,t)=>{Hb.init(e,t),ht.init(e,t),e.enum=t.entries,e.options=Object.values(t.entries);const r=new Set(Object.keys(t.entries));e.extract=(n,i)=>{const o={};for(const s of n)if(r.has(s))o[s]=t.entries[s];else throw new Error(`Key ${s} not found in enum`);return new Rc({...t,checks:[],...de(i),entries:o})},e.exclude=(n,i)=>{const o={...t.entries};for(const s of n)if(r.has(s))delete o[s];else throw new Error(`Key ${s} not found in enum`);return new Rc({...t,checks:[],...de(i),entries:o})}});function as(e,t){const r=Array.isArray(e)?Object.fromEntries(e.map(n=>[n,n])):e;return new Rc({type:"enum",entries:r,...de(t)})}const NE=L("ZodTransform",(e,t)=>{qb.init(e,t),ht.init(e,t),e._zod.parse=(r,n)=>{r.addIssue=o=>{if(typeof o=="string")r.issues.push(ss(o,r.value,t));else{const s=o;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),r.issues.push(ss(s))}};const i=t.transform(r.value,r);return i instanceof Promise?i.then(o=>(r.value=o,r)):(r.value=i,r)}});function jE(e){return new NE({type:"transform",transform:e})}const Sv=L("ZodOptional",(e,t)=>{Kb.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function bp(e){return new Sv({type:"optional",innerType:e})}const ME=L("ZodNullable",(e,t)=>{Gb.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function kp(e){return new ME({type:"nullable",innerType:e})}const FE=L("ZodDefault",(e,t)=>{Qb.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeDefault=e.unwrap});function UE(e,t){return new FE({type:"default",innerType:e,get defaultValue(){return typeof t=="function"?t():rv(t)}})}const BE=L("ZodPrefault",(e,t)=>{Jb.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function WE(e,t){return new BE({type:"prefault",innerType:e,get defaultValue(){return typeof t=="function"?t():rv(t)}})}const xv=L("ZodNonOptional",(e,t)=>{Yb.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function VE(e,t){return new xv({type:"nonoptional",innerType:e,...de(t)})}const ZE=L("ZodCatch",(e,t)=>{Xb.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType,e.removeCatch=e.unwrap});function HE(e,t){return new ZE({type:"catch",innerType:e,catchValue:typeof t=="function"?t:()=>t})}const qE=L("ZodPipe",(e,t)=>{ek.init(e,t),ht.init(e,t),e.in=t.in,e.out=t.out});function Ep(e,t){return new qE({type:"pipe",in:e,out:t})}const KE=L("ZodReadonly",(e,t)=>{tk.init(e,t),ht.init(e,t),e.unwrap=()=>e._zod.def.innerType});function GE(e){return new KE({type:"readonly",innerType:e})}const QE=L("ZodCustom",(e,t)=>{rk.init(e,t),ht.init(e,t)});function JE(e,t={}){return Hk(QE,e,t)}function YE(e){return qk(e)}const Cp=(e,t,r)=>{if(e&&"reportValidity"in e){const n=ee(r,t);e.setCustomValidity(n&&n.message||""),e.reportValidity()}},Ac=(e,t)=>{for(const r in t.fields){const n=t.fields[r];n&&n.ref&&"reportValidity"in n.ref?Cp(n.ref,r,e):n&&n.refs&&n.refs.forEach(i=>Cp(i,r,e))}},Pp=(e,t)=>{t.shouldUseNativeValidation&&Ac(e,t);const r={};for(const n in e){const i=ee(t.fields,n),o=Object.assign(e[n]||{},{ref:i&&i.ref});if(XE(t.names||Object.keys(e),n)){const s=Object.assign({},ee(r,n));ze(s,"root",o),ze(r,n,s)}else ze(r,n,o)}return r},XE=(e,t)=>{const r=Tp(t);return e.some(n=>Tp(n).match(`^${r}\\.\\d+`))};function Tp(e){return e.replace(/\]|\[/g,"")}function Rp(e,t){try{var r=e()}catch(n){return t(n)}return r&&r.then?r.then(void 0,t):r}function eC(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,s=n.path.join(".");if(!r[s])if("unionErrors"in n){var a=n.unionErrors[0].errors[0];r[s]={message:a.message,type:a.code}}else r[s]={message:o,type:i};if("unionErrors"in n&&n.unionErrors.forEach(function(c){return c.errors.forEach(function(d){return e.push(d)})}),t){var l=r[s].types,u=l&&l[n.code];r[s]=Jd(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r}function tC(e,t){for(var r={};e.length;){var n=e[0],i=n.code,o=n.message,s=n.path.join(".");if(!r[s])if(n.code==="invalid_union"&&n.errors.length>0){var a=n.errors[0][0];r[s]={message:a.message,type:a.code}}else r[s]={message:o,type:i};if(n.code==="invalid_union"&&n.errors.forEach(function(c){return c.forEach(function(d){return e.push(d)})}),t){var l=r[s].types,u=l&&l[n.code];r[s]=Jd(s,t,r,i,u?[].concat(u,n.message):n.message)}e.shift()}return r}function xs(e,t,r){if(r===void 0&&(r={}),function(n){return"_def"in n&&typeof n._def=="object"&&"typeName"in n._def}(e))return function(n,i,o){try{return Promise.resolve(Rp(function(){return Promise.resolve(e[r.mode==="sync"?"parse":"parseAsync"](n,t)).then(function(s){return o.shouldUseNativeValidation&&Ac({},o),{errors:{},values:r.raw?Object.assign({},n):s}})},function(s){if(function(a){return Array.isArray(a==null?void 0:a.issues)}(s))return{values:{},errors:Pp(eC(s.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}};if(function(n){return"_zod"in n&&typeof n._zod=="object"}(e))return function(n,i,o){try{return Promise.resolve(Rp(function(){return Promise.resolve((r.mode==="sync"?k1:E1)(e,n,t)).then(function(s){return o.shouldUseNativeValidation&&Ac({},o),{errors:{},values:r.raw?Object.assign({},n):s}})},function(s){if(function(a){return a instanceof nh}(s))return{values:{},errors:Pp(tC(s.issues,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw s}))}catch(s){return Promise.reject(s)}};throw new Error("Invalid input: not a Zod schema")}const rC=Ss({name:Ft().min(1,"Product name is required"),unit:as(["kg","pack"]),salePrice:ut().min(0,"Sale price must be >= 0"),quantity:ut().min(0,"Quantity must be >= 0"),buyingDate:Ft().min(1,"Sale date is required")});function nC({product:e,customProducts:t=[],onSubmit:r,onCancel:n,onManageCustomProducts:i}){const[o,s]=S.useState(!1),[a,l]=S.useState(""),{register:u,handleSubmit:c,setValue:d,reset:f,watch:g,formState:{errors:w}}=ws({resolver:xs(rC),defaultValues:{name:"",unit:"kg",salePrice:0,quantity:0,buyingDate:new Date().toISOString().slice(0,10)}}),v=g("name");S.useEffect(()=>{if(e){d("name",e.name),d("unit",e.unit),d("salePrice",e.salePrice??0),d("quantity",e.quantity??0),d("buyingDate",e.buyingDate??new Date().toISOString().slice(0,10));const p=!t.some(b=>b.name===e.name);s(p),p&&l(e.name)}else d("name",""),d("unit","kg"),d("salePrice",0),d("quantity",0),d("buyingDate",new Date().toISOString().slice(0,10)),s(!1),l("")},[e,d,t]);const C=p=>{const b=p.target.value;if(b==="custom")s(!0),d("name",a);else{s(!1),d("name",b),l("");const T=t.find(x=>x.name===b);T&&d("unit",T.unit)}},y=p=>{const b=p.target.value;l(b),d("name",b)};return _("form",{onSubmit:c(async p=>{try{console.log("=== PRODUCT FORM HANDLER START ==="),console.log("Form data received:",p),console.log("Form validation passed"),console.log("Calling onSubmit with data:",p),await r(p),console.log("onSubmit completed successfully"),e||(console.log("Resetting form for new product"),f({name:"",unit:"kg",salePrice:0,quantity:0,buyingDate:new Date().toISOString().slice(0,10)}),console.log("Form reset completed")),console.log("=== PRODUCT FORM HANDLER END ===")}catch(b){console.error("=== PRODUCT FORM HANDLER ERROR ==="),console.error("Form submission error:",b)}}),style:{display:"grid",gap:16},children:[_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Product Name *"}),_("div",{style:{display:"flex",gap:"8"},children:[o?_("div",{style:{display:"flex",gap:"8",flex:1},children:[h("input",{type:"text",placeholder:"Enter custom product name",value:a,onChange:y,style:{flex:1,padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),h("button",{type:"button",onClick:()=>{s(!1),l(""),d("name","")},style:{background:"#6c757d",color:"white",border:"none",padding:"10px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"},title:"Switch back to dropdown",children:""})]}):_("select",{value:v,onChange:C,style:{flex:1,padding:"10px 12px",border:v&&v!=="custom"?"2px solid #28a745":"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:v&&v!=="custom"?"#f8fff9":"white",fontWeight:v&&v!=="custom"?"500":"normal"},children:[h("option",{value:"",children:"Select a product"}),t.length===0?h("option",{value:"custom",disabled:!0,children:'No custom products yet - Click "Manage" to add some'}):_(qc,{children:[t.map(p=>_("option",{value:p.name,children:[p.name," (",p.unit,")"]},p.id)),h("option",{value:"custom",children:" Add Custom Product"})]})]}),i&&h("button",{type:"button",onClick:i,style:{background:"#17a2b8",color:"white",border:"none",padding:"10px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap",transition:"background-color 0.2s ease"},onMouseOver:p=>p.currentTarget.style.background="#138496",onMouseOut:p=>p.currentTarget.style.background="#17a2b8",title:"Manage custom products",children:" Manage"})]}),w.name&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:w.name.message}),t.length===0&&!w.name&&h("span",{style:{color:"#6c757d",fontSize:"12px"},children:' No custom products yet. Click the "Manage" button to add some, or use the "Add Custom Product" option.'}),v&&v!=="custom"&&!w.name&&_("span",{style:{color:"#28a745",fontSize:"12px"},children:[" Product selected: ",v," - Unit has been auto-set"]})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Unit *"}),_("select",{...u("unit"),style:{padding:"10px 12px",border:v&&v!=="custom"?"2px solid #28a745":"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:v&&v!=="custom"?"#f8fff9":"white",fontWeight:v&&v!=="custom"?"500":"normal"},children:[h("option",{value:"kg",children:"kg"}),h("option",{value:"pack",children:"pack"})]}),w.unit&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:w.unit.message}),v&&v!=="custom"&&!w.unit&&h("span",{style:{color:"#28a745",fontSize:"12px"},children:" Auto-populated from selected product"})]})]}),_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Sale Price *"}),h("input",{type:"number",step:.01,min:0,placeholder:"0.00",...u("salePrice",{valueAsNumber:!0}),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),w.salePrice&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:w.salePrice.message})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Quantity *"}),h("input",{type:"number",min:0,step:1,placeholder:"0",...u("quantity",{valueAsNumber:!0}),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),w.quantity&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:w.quantity.message})]})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Sale Date *"}),h("input",{type:"date",...u("buyingDate"),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",maxWidth:"200px"}}),w.buyingDate&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:w.buyingDate.message})]}),_("div",{style:{display:"flex",gap:12,marginTop:8},children:[h("button",{type:"submit",style:{background:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s ease"},onMouseOver:p=>p.currentTarget.style.background="#218838",onMouseOut:p=>p.currentTarget.style.background="#28a745",children:e?" Update Product":" Create Product"}),e&&h("button",{type:"button",onClick:n,style:{background:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s ease"},onMouseOver:p=>p.currentTarget.style.background="#5a6268",onMouseOut:p=>p.currentTarget.style.background="#6c757d",children:" Cancel"})]})]})}function iC({customProducts:e,onAddProduct:t,onUpdateProduct:r,onDeleteProduct:n,onClose:i}){const[o,s]=S.useState(!1),[a,l]=S.useState(),[u,c]=S.useState({name:"",unit:"kg"}),d=v=>{v.preventDefault(),u.name.trim()&&(a?(r(a.id,u),l(void 0)):t(u),c({name:"",unit:"kg"}),s(!1))},f=v=>{l(v),c({name:v.name,unit:v.unit}),s(!0)},g=v=>{window.confirm("Are you sure you want to delete this custom product?")&&n(v)},w=()=>{s(!1),l(void 0),c({name:"",unit:"kg"})};return h("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:_("div",{style:{background:"white",borderRadius:"12px",padding:"24px",maxWidth:"600px",width:"90%",maxHeight:"80vh",overflow:"auto",boxShadow:"0 10px 30px rgba(0, 0, 0, 0.3)"},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[h("h2",{style:{margin:0,color:"#2c5aa0"},children:"Manage Custom Products"}),h("button",{onClick:i,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666",padding:"4px"},children:""})]}),!o&&h("button",{onClick:()=>s(!0),style:{background:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",marginBottom:"20px",transition:"background-color 0.2s ease"},onMouseOver:v=>v.currentTarget.style.background="#218838",onMouseOut:v=>v.currentTarget.style.background="#28a745",children:" Add New Custom Product"}),o&&h("form",{onSubmit:d,style:{marginBottom:"20px"},children:_("div",{style:{display:"grid",gap:"16px"},children:[_("label",{style:{display:"grid",gap:"6"},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Product Name *"}),h("input",{type:"text",value:u.name,onChange:v=>c({...u,name:v.target.value}),placeholder:"Enter product name",style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"},required:!0})]}),_("label",{style:{display:"grid",gap:"6"},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Unit *"}),_("select",{value:u.unit,onChange:v=>c({...u,unit:v.target.value}),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:"white"},children:[h("option",{value:"kg",children:"kg"}),h("option",{value:"pack",children:"pack"})]})]}),_("div",{style:{display:"flex",gap:"12"},children:[h("button",{type:"submit",style:{background:"#007bff",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:a?" Update":" Save"}),h("button",{type:"button",onClick:w,style:{background:"#6c757d",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500"},children:" Cancel"})]})]})}),h("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",overflow:"hidden"},children:_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f8f9fa"},children:_("tr",{children:[h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"Product Name"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"Unit"}),h("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6"},children:"Actions"})]})}),h("tbody",{children:e.length===0?h("tr",{children:h("td",{colSpan:3,style:{padding:"20px",textAlign:"center",color:"#666"},children:"No custom products yet"})}):e.map(v=>_("tr",{style:{borderBottom:"1px solid #f1f3f4"},children:[h("td",{style:{padding:"12px",fontWeight:"500"},children:v.name}),h("td",{style:{padding:"12px",color:"#666"},children:v.unit}),_("td",{style:{padding:"12px",textAlign:"center"},children:[h("button",{onClick:()=>f(v),style:{background:"#007bff",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",marginRight:"8px"},children:" Edit"}),h("button",{onClick:()=>g(v.id),style:{background:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Delete"})]})]},v.id))})]})}),h("div",{style:{marginTop:"20px",textAlign:"center"},children:h("button",{onClick:i,style:{background:"#6c757d",color:"white",border:"none",padding:"10px 20px",borderRadius:"6px",cursor:"pointer",fontSize:"14px"},children:"Close"})})]})})}const oC=Ss({productId:Ft().min(1,{message:"Select a product"}),weightBeforeSale:ut({error:"Weight before sale must be a number"}).min(.01,"Weight before sale must be > 0"),weightAfterSale:ut({error:"Weight after sale must be a number"}).min(0,"Weight after sale must be >= 0"),weight:ut({error:"Weight must be a number"}).min(.01,"Weight must be > 0"),pricePerKg:ut({error:"Price per kg must be a number"}).min(0,"Price per kg must be >= 0"),expectedCash:ut({error:"Expected cash must be a number"}).min(0,"Expected cash must be >= 0"),receivedCash:ut({error:"Received cash must be a number"}).min(0,"Received cash must be >= 0"),saleDate:Ft().regex(/^\d{4}-\d{2}-\d{2}$/i,"Date must be YYYY-MM-DD"),topup:ut({error:"Topup must be a number"}).min(0,"Topup must be >= 0"),charity:ut({error:"Charity amount must be a number"}).min(0,"Charity amount must be >= 0"),credit:ut({error:"Credit amount must be a number"}).min(0,"Credit amount must be >= 0")});function sC({products:e,sale:t,onCancel:r,onSubmit:n}){var A;const{register:i,handleSubmit:o,watch:s,setValue:a,formState:{errors:l},reset:u}=ws({resolver:xs(oC),defaultValues:t?{...t}:{productId:"",weightBeforeSale:0,weightAfterSale:0,weight:0,pricePerKg:0,expectedCash:0,receivedCash:0,saleDate:new Date().toISOString().slice(0,10),topup:0,charity:0,credit:0}});S.useEffect(()=>{u(t||{productId:"",weightBeforeSale:0,weightAfterSale:0,weight:0,pricePerKg:0,expectedCash:0,receivedCash:0,saleDate:new Date().toISOString().slice(0,10),topup:0,charity:0,credit:0})},[t,u]);const c=s("productId");S.useEffect(()=>{if(c){const $=e.find(V=>V.id===c);$&&($.salePrice>0?a("pricePerKg",$.salePrice):a("pricePerKg",0))}},[c,e,a]);const d=s("weightBeforeSale")||0,f=s("weightAfterSale")||0,g=s("weight")||0,w=s("pricePerKg")||0,v=s("expectedCash")||0,C=s("receivedCash")||0,y=s("topup")||0,m=s("charity")||0,p=s("credit")||0;S.useEffect(()=>{const $=d-f;$>=0&&a("weight",$)},[d,f,a]),S.useEffect(()=>{const $=g*w;$>0&&a("expectedCash",$)},[g,w,a]);const b=g*w,T=C+y+m+p,x=v-T;return _("form",{onSubmit:o(n),style:{display:"grid",gap:12},children:[_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Product"}),_("select",{...i("productId"),children:[h("option",{value:"",children:"Select Product"}),e.map($=>_("option",{value:$.id,children:[$.name," (",$.unit,") - $",$.salePrice>0?$.salePrice.toFixed(2):"No sale price"]},$.id))]}),l.productId&&h("span",{style:{color:"crimson"},children:l.productId.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Sale Date"}),h("input",{type:"date",...i("saleDate")}),l.saleDate&&h("span",{style:{color:"crimson"},children:l.saleDate.message})]}),_("div",{style:{background:"#f0f8ff",padding:12,borderRadius:4,border:"1px solid #b3d9ff"},children:[h("h4",{style:{margin:"0 0 8px 0",color:"#0066cc"},children:"Weight Tracking"}),h("p",{style:{margin:"0 0 12px 0",fontSize:"0.9em",color:"#666"},children:"Record the weight of the item + container before and after sale (e.g., rice + pot)"}),_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Weight Before Sale (kg)"}),h("input",{type:"number",step:.01,min:.01,placeholder:"e.g., 5.5 (rice + pot)",...i("weightBeforeSale",{valueAsNumber:!0})}),l.weightBeforeSale&&h("span",{style:{color:"crimson"},children:l.weightBeforeSale.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Weight After Sale (kg)"}),h("input",{type:"number",step:.01,min:0,placeholder:"e.g., 2.3 (remaining rice + pot)",...i("weightAfterSale",{valueAsNumber:!0})}),l.weightAfterSale&&h("span",{style:{color:"crimson"},children:l.weightAfterSale.message})]})]}),_("div",{style:{background:"#e8f5e8",padding:8,borderRadius:4,marginTop:8,border:"1px solid #c8e6c9"},children:[h("strong",{children:"Actual Weight Sold:"})," ",g.toFixed(2)," kg",_("small",{style:{display:"block",color:"#666",marginTop:4},children:["Automatically calculated: ",d.toFixed(2)," kg - ",f.toFixed(2)," kg"]})]})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Weight (kg) - Auto-calculated"}),h("input",{type:"number",step:.01,min:.01,...i("weight",{valueAsNumber:!0}),readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}}),h("small",{style:{color:"#666",fontSize:"0.8em"},children:"This field is automatically calculated from weight before and after sale"}),l.weight&&h("span",{style:{color:"crimson"},children:l.weight.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Price per kg"}),h("input",{type:"number",step:.01,min:0,...i("pricePerKg",{valueAsNumber:!0}),readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}}),h("small",{style:{color:"#666",fontSize:"0.8em"},children:c&&((A=e.find($=>$.id===c))==null?void 0:A.salePrice)===0?" No sale price set for this product. Please set a sale price in the product form first.":"Automatically set from product's sale price"}),l.pricePerKg&&h("span",{style:{color:"crimson"},children:l.pricePerKg.message})]}),_("div",{style:{background:"#e0f7fa",padding:12,borderRadius:4},children:[h("strong",{children:"Calculated Expected:"})," $",b.toFixed(2),g>0&&w>0&&_("small",{style:{display:"block",color:"#666",marginTop:4},children:["Automatically calculated: ",g," kg  $",w.toFixed(2),"/kg"]})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Expected Cash"}),h("input",{type:"number",step:.01,min:0,...i("expectedCash",{valueAsNumber:!0})}),l.expectedCash&&h("span",{style:{color:"crimson"},children:l.expectedCash.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Received Cash"}),h("input",{type:"number",step:.01,min:0,...i("receivedCash",{valueAsNumber:!0})}),l.receivedCash&&h("span",{style:{color:"crimson"},children:l.receivedCash.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Topup"}),h("input",{type:"number",step:.01,min:0,placeholder:"Additional payment/adjustment",...i("topup",{valueAsNumber:!0})}),l.topup&&h("span",{style:{color:"crimson"},children:l.topup.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Charity"}),h("input",{type:"number",step:.01,min:0,placeholder:"Charity amount",...i("charity",{valueAsNumber:!0})}),l.charity&&h("span",{style:{color:"crimson"},children:l.charity.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Credit"}),h("input",{type:"number",step:.01,min:0,placeholder:"Credit amount",...i("credit",{valueAsNumber:!0})}),l.credit&&h("span",{style:{color:"crimson"},children:l.credit.message})]}),_("div",{style:{background:"#fff3cd",padding:12,borderRadius:4},children:[h("strong",{children:"Charity:"})," $",m.toFixed(2),m>0&&_("small",{style:{display:"block",color:"#666",marginTop:4},children:["This sale will be recorded for $",m.toFixed(2)]})]}),h("div",{style:{background:"#e8f5e8",padding:12,borderRadius:4},children:_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:[_("div",{children:[h("strong",{children:"Total Received:"}),_("div",{style:{fontSize:"1.2em",color:"#2c5aa0"},children:["$",T.toFixed(2)]}),_("small",{style:{color:"#666"},children:["Received: $",C.toFixed(2)," + Topup: $",y.toFixed(2)," + Charity: $",m.toFixed(2)," + Credit: $",p.toFixed(2)]})]}),_("div",{children:[h("strong",{children:"Final Arrears:"}),_("div",{style:{fontSize:"1.2em",color:x>0?"#d32f2f":"#388e3c"},children:["$",x.toFixed(2)]})]})]})}),_("div",{style:{display:"flex",gap:8},children:[h("button",{type:"submit",children:"Record Sale"}),h("button",{type:"button",onClick:r,children:"Cancel"})]})]})}function aC({sales:e,products:t,onEdit:r,onDelete:n}){const i=o=>{const s=t.find(a=>a.id===o);return s?s.name:"Unknown Product"};return h("div",{style:{border:"1px solid #ddd",borderRadius:8,overflow:"hidden"},children:_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f7f7f7"},children:_("tr",{children:[h("th",{style:{textAlign:"left",padding:8},children:"Product"}),h("th",{style:{textAlign:"left",padding:8},children:"Sale Date"}),h("th",{style:{textAlign:"right",padding:8},children:"Charity Amount"}),h("th",{style:{textAlign:"right",padding:8},children:"Weight Before (kg)"}),h("th",{style:{textAlign:"right",padding:8},children:"Weight After (kg)"}),h("th",{style:{textAlign:"right",padding:8},children:"Weight Sold (kg)"}),h("th",{style:{textAlign:"right",padding:8},children:"Price/kg"}),h("th",{style:{textAlign:"right",padding:8},children:"Expected"}),h("th",{style:{textAlign:"right",padding:8},children:"Received"}),h("th",{style:{textAlign:"right",padding:8},children:"Topup"}),h("th",{style:{textAlign:"right",padding:8},children:"Credit"}),h("th",{style:{textAlign:"right",padding:8},children:"Arrears"}),h("th",{style:{textAlign:"right",padding:8},children:"Actions"})]})}),h("tbody",{children:e.length===0?h("tr",{children:h("td",{colSpan:14,style:{padding:12,textAlign:"center",color:"#666"},children:"No sales recorded yet"})}):e.map(o=>_("tr",{children:[h("td",{style:{padding:8},children:i(o.productId)}),h("td",{style:{padding:8},children:o.saleDate}),_("td",{style:{padding:8,textAlign:"right",color:(o.charity||0)>0?"#2c5aa0":"#666"},children:["$",(o.charity||0).toFixed(2)]}),h("td",{style:{padding:8,textAlign:"right",color:"#0066cc"},children:(o.weightBeforeSale||0).toFixed(2)}),h("td",{style:{padding:8,textAlign:"right",color:"#666"},children:(o.weightAfterSale||0).toFixed(2)}),h("td",{style:{padding:8,textAlign:"right",fontWeight:"bold"},children:(o.weight||0).toFixed(2)}),_("td",{style:{padding:8,textAlign:"right"},children:["$",(o.pricePerKg||0).toFixed(2)]}),_("td",{style:{padding:8,textAlign:"right"},children:["$",(o.expectedCash||0).toFixed(2)]}),_("td",{style:{padding:8,textAlign:"right"},children:["$",(o.receivedCash||0).toFixed(2)]}),_("td",{style:{padding:8,textAlign:"right",color:(o.topup||0)>0?"#2c5aa0":"#666"},children:["$",(o.topup||0).toFixed(2)]}),_("td",{style:{padding:8,textAlign:"right",color:(o.credit||0)>0?"#2c5aa0":"#666"},children:["$",(o.credit||0).toFixed(2)]}),_("td",{style:{padding:8,textAlign:"right",color:(o.arrears||0)>0?"#d32f2f":"#388e3c"},children:["$",(o.arrears||0).toFixed(2)]}),_("td",{style:{padding:8,textAlign:"right"},children:[h("button",{onClick:()=>r(o.id),style:{marginRight:8},children:"Edit"}),h("button",{onClick:()=>n(o.id),"aria-label":"Delete sale",children:"Delete"})]})]},o.id))})]})})}function bv({products:e,sales:t,createSale:r,updateSale:n,deleteSale:i,loading:o,error:s,clearError:a}){const[l,u]=S.useState(null),c=S.useMemo(()=>t.find(f=>f.id===l)||null,[t,l]);if(o)return h("div",{style:{textAlign:"center",padding:"40px"},children:h("div",{children:"Loading sales..."})});const d=S.useMemo(()=>[...t].sort((f,g)=>new Date(g.createdAt).getTime()-new Date(f.createdAt).getTime()),[t]);return _("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:24},children:[s&&_("div",{style:{gridColumn:"1 / -1",background:"#ffebee",color:"#c62828",padding:"12px",borderRadius:"4px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[_("span",{children:["Error: ",s]}),h("button",{onClick:a,style:{background:"none",border:"none",color:"#c62828",cursor:"pointer"},children:""})]}),_("div",{children:[h("h2",{style:{margin:"8px 0"},children:"Record Sale"}),h(sC,{products:e,sale:c||void 0,onCancel:()=>u(null),onSubmit:async f=>{try{c?(await n(c.id,f),u(null)):await r(f)}catch{}}},(c==null?void 0:c.id)||"new")]}),_("div",{children:[h("h2",{style:{margin:"8px 0"},children:"Sales History"}),h(aC,{sales:d,products:e,onEdit:f=>u(f),onDelete:async f=>{try{await i(f),l===f&&u(null)}catch{}}})]})]})}const lC=Ss({name:Ft().min(1,"Select an item"),unit:as(["kg","pack","piece","liter","dozen","gram","bottle","packet"],{error:"Select a unit"}),price:ut({error:"Price must be a number"}).min(0,"Price must be >= 0"),quantity:ut({error:"Quantity must be a number"}).min(.01,"Quantity must be > 0"),weight:ut({error:"Weight must be a number"}).min(0,"Weight must be >= 0").optional(),expenseDate:Ft().regex(/^\d{4}-\d{2}-\d{2}$/i,"Date must be YYYY-MM-DD"),notes:Ft().optional()}),Ap=["Onions","Tomatto","Hari Mirch","Dhania Podina","Petrol","Naan","Chicken","Eggs","Laal Mirch","Berf","Cheeni","Haldi","Garam Masala","Ghee","Shopper","Jaam e Shereen","Soap","Zarda Rang","Lakriya"];function uC({expense:e,customItems:t,onManageCustomItems:r,onCancel:n,onSubmit:i}){const{register:o,handleSubmit:s,watch:a,formState:{errors:l},reset:u}=ws({resolver:xs(lC),defaultValues:e?{...e}:{name:"Onions",unit:"kg",price:0,quantity:0,weight:0,expenseDate:new Date().toISOString().slice(0,10),notes:""}}),c=a("price")||0,d=a("quantity")||0,f=c*d;return[...Ap,...t.map(g=>g.name)],_("form",{onSubmit:s(i),style:{display:"grid",gap:16,padding:16,border:"1px solid #ccc",borderRadius:8},children:[h("h3",{style:{margin:0,color:"#2c5aa0"},children:e?"Edit Expense":"Record New Expense"}),_("div",{style:{display:"grid",gap:16},children:[_("div",{style:{display:"flex",gap:8,alignItems:"end"},children:[_("label",{style:{display:"grid",gap:4,flex:1},children:[h("span",{children:"Item Name"}),_("select",{...o("name"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4},children:[h("optgroup",{label:"Predefined Items",children:Ap.map(g=>h("option",{value:g,children:g},g))}),t.length>0&&h("optgroup",{label:"Custom Items",children:t.map(g=>h("option",{value:g.name,children:g.name},g.id))})]}),l.name&&h("span",{style:{color:"crimson"},children:l.name.message})]}),h("button",{type:"button",onClick:r,style:{background:"#2196f3",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer",whiteSpace:"nowrap"},children:"Manage Items"})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Unit"}),_("select",{...o("unit"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4},children:[h("option",{value:"kg",children:"Kilogram (kg)"}),h("option",{value:"pack",children:"Pack"}),h("option",{value:"piece",children:"Piece"}),h("option",{value:"liter",children:"Liter"}),h("option",{value:"dozen",children:"Dozen"}),h("option",{value:"gram",children:"Gram"}),h("option",{value:"bottle",children:"Bottle"}),h("option",{value:"packet",children:"Packet"})]}),l.unit&&h("span",{style:{color:"crimson"},children:l.unit.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Price per Unit"}),h("input",{type:"number",step:.01,min:0,placeholder:"Price per unit",...o("price",{valueAsNumber:!0}),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),l.price&&h("span",{style:{color:"crimson"},children:l.price.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Quantity"}),h("input",{type:"number",step:.01,min:.01,placeholder:"Quantity",...o("quantity",{valueAsNumber:!0}),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),l.quantity&&h("span",{style:{color:"crimson"},children:l.quantity.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Weight (kg) - Optional"}),h("input",{type:"number",step:.01,min:0,placeholder:"Weight in kg (optional)",...o("weight",{valueAsNumber:!0}),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),l.weight&&h("span",{style:{color:"crimson"},children:l.weight.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Expense Date"}),h("input",{type:"date",...o("expenseDate"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),l.expenseDate&&h("span",{style:{color:"crimson"},children:l.expenseDate.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Notes (Optional)"}),h("textarea",{placeholder:"Additional notes about this expense",rows:3,...o("notes"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),l.notes&&h("span",{style:{color:"crimson"},children:l.notes.message})]})]}),_("div",{style:{background:"#e0f7fa",padding:12,borderRadius:4},children:[h("strong",{children:"Total Cost:"})," $",f.toFixed(2),c>0&&d>0&&_("small",{style:{display:"block",color:"#666",marginTop:4},children:["Calculated: ",d,"  $",c.toFixed(2)," per ",a("unit")]})]}),_("div",{style:{display:"flex",gap:8},children:[h("button",{type:"submit",style:{background:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:4},children:e?"Update Expense":"Record Expense"}),h("button",{type:"button",onClick:n,style:{background:"#f44336",color:"white",border:"none",padding:"8px 16px",borderRadius:4},children:"Cancel"})]})]})}function cC({expenses:e,onEdit:t,onDelete:r}){const n=e.reduce((i,o)=>i+o.price*o.quantity,0);return _("div",{style:{border:"1px solid #ddd",borderRadius:8,overflow:"hidden"},children:[_("div",{style:{background:"#f7f7f7",padding:16,borderBottom:"1px solid #ddd"},children:[h("h3",{style:{margin:0,color:"#2c5aa0"},children:"General Expenses"}),_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[_("span",{children:["Total Expenses: ",_("strong",{children:["$",n.toFixed(2)]})]}),_("span",{children:["Total Items: ",h("strong",{children:e.length})]})]})]}),_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f7f7f7"},children:_("tr",{children:[h("th",{style:{textAlign:"left",padding:8},children:"Item"}),h("th",{style:{textAlign:"left",padding:8},children:"Unit"}),h("th",{style:{textAlign:"right",padding:8},children:"Price/Unit"}),h("th",{style:{textAlign:"right",padding:8},children:"Quantity"}),h("th",{style:{textAlign:"right",padding:8},children:"Weight (kg)"}),h("th",{style:{textAlign:"right",padding:8},children:"Total Cost"}),h("th",{style:{textAlign:"left",padding:8},children:"Date"}),h("th",{style:{textAlign:"left",padding:8},children:"Notes"}),h("th",{style:{textAlign:"right",padding:8},children:"Actions"})]})}),h("tbody",{children:e.length===0?h("tr",{children:h("td",{colSpan:9,style:{padding:12,textAlign:"center",color:"#666"},children:"No expenses recorded yet"})}):e.map(i=>_("tr",{children:[h("td",{style:{padding:8,fontWeight:"bold"},children:i.name}),h("td",{style:{padding:8},children:i.unit}),_("td",{style:{padding:8,textAlign:"right"},children:["$",i.price.toFixed(2)]}),h("td",{style:{padding:8,textAlign:"right"},children:i.quantity.toFixed(2)}),h("td",{style:{padding:8,textAlign:"right",color:i.weight?"#2c5aa0":"#666"},children:i.weight?`${i.weight.toFixed(2)} kg`:"-"}),_("td",{style:{padding:8,textAlign:"right",fontWeight:"bold",color:"#2c5aa0"},children:["$",(i.price*i.quantity).toFixed(2)]}),h("td",{style:{padding:8},children:i.expenseDate}),h("td",{style:{padding:8,maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.notes||"-"}),_("td",{style:{padding:8,textAlign:"right"},children:[h("button",{onClick:()=>t(i.id),style:{marginRight:8,background:"#2196f3",color:"white",border:"none",padding:"4px 8px",borderRadius:4},children:"Edit"}),h("button",{onClick:()=>r(i.id),style:{background:"#f44336",color:"white",border:"none",padding:"4px 8px",borderRadius:4},children:"Delete"})]})]},i.id))})]})]})}function dC({customItems:e,onAddItem:t,onUpdateItem:r,onDeleteItem:n,onClose:i}){const[o,s]=S.useState(!1),[a,l]=S.useState(),[u,c]=S.useState({name:"",unit:"kg"}),d=v=>{v.preventDefault(),u.name.trim()&&(a?(r(a.id,u),l(void 0)):t(u),c({name:"",unit:"kg"}),s(!1))},f=v=>{l(v),c({name:v.name,unit:v.unit}),s(!0)},g=v=>{window.confirm("Are you sure you want to delete this custom item?")&&n(v)},w=()=>{s(!1),l(void 0),c({name:"",unit:"kg"})};return h("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},children:_("div",{style:{background:"white",padding:24,borderRadius:8,maxWidth:600,width:"90%",maxHeight:"80vh",overflow:"auto"},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20},children:[h("h2",{style:{margin:0,color:"#2c5aa0"},children:"Manage Custom Items"}),h("button",{onClick:i,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},children:""})]}),o&&_("form",{onSubmit:d,style:{marginBottom:20,padding:16,border:"1px solid #ddd",borderRadius:8},children:[h("h3",{style:{margin:"0 0 16px 0",color:"#2c5aa0"},children:a?"Edit Custom Item":"Add New Custom Item"}),_("div",{style:{display:"grid",gap:16},children:[_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Item Name *"}),h("input",{type:"text",value:u.name,onChange:v=>c(C=>({...C,name:v.target.value})),placeholder:"Enter item name",style:{padding:"8px",border:"1px solid #ddd",borderRadius:4},required:!0})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Unit *"}),_("select",{value:u.unit,onChange:v=>c(C=>({...C,unit:v.target.value})),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4},children:[h("option",{value:"kg",children:"Kilogram (kg)"}),h("option",{value:"pack",children:"Pack"}),h("option",{value:"piece",children:"Piece"}),h("option",{value:"liter",children:"Liter"}),h("option",{value:"dozen",children:"Dozen"}),h("option",{value:"gram",children:"Gram"}),h("option",{value:"bottle",children:"Bottle"}),h("option",{value:"packet",children:"Packet"})]})]}),_("div",{style:{display:"flex",gap:8},children:[h("button",{type:"submit",style:{background:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer"},children:a?"Update Item":"Add Item"}),h("button",{type:"button",onClick:w,style:{background:"#f44336",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer"},children:"Cancel"})]})]})]}),!o&&h("button",{onClick:()=>s(!0),style:{background:"#4caf50",color:"white",border:"none",padding:"12px 24px",borderRadius:4,cursor:"pointer",marginBottom:20},children:"Add New Custom Item"}),_("div",{style:{border:"1px solid #ddd",borderRadius:8,overflow:"hidden"},children:[h("div",{style:{background:"#f7f7f7",padding:16,borderBottom:"1px solid #ddd"},children:_("h3",{style:{margin:0,color:"#2c5aa0"},children:["Custom Items (",e.length,")"]})}),e.length===0?h("div",{style:{padding:20,textAlign:"center",color:"#666"},children:"No custom items added yet. Add your first custom item above."}):_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f7f7f7"},children:_("tr",{children:[h("th",{style:{textAlign:"left",padding:8},children:"Item Name"}),h("th",{style:{textAlign:"left",padding:8},children:"Unit"}),h("th",{style:{textAlign:"right",padding:8},children:"Actions"})]})}),h("tbody",{children:e.map(v=>_("tr",{children:[h("td",{style:{padding:8,fontWeight:"bold"},children:v.name}),h("td",{style:{padding:8},children:v.unit}),_("td",{style:{padding:8,textAlign:"right"},children:[h("button",{onClick:()=>f(v),style:{marginRight:8,background:"#2196f3",color:"white",border:"none",padding:"4px 8px",borderRadius:4,cursor:"pointer"},children:"Edit"}),h("button",{onClick:()=>g(v.id),style:{background:"#f44336",color:"white",border:"none",padding:"4px 8px",borderRadius:4,cursor:"pointer"},children:"Delete"})]})]},v.id))})]})]}),h("div",{style:{marginTop:20,textAlign:"center"},children:h("button",{onClick:i,style:{background:"#666",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer"},children:"Close"})})]})})}function kv({expenses:e,customItems:t,onCreateExpense:r,onUpdateExpense:n,onDeleteExpense:i,onCreateCustomItem:o,onUpdateCustomItem:s,onDeleteCustomItem:a}){const[l,u]=S.useState(!1),[c,d]=S.useState(),[f,g]=S.useState(!1),w=b=>{c?(n(c.id,b),d(void 0)):r(b),u(!1)},v=()=>{u(!1),d(void 0)},C=b=>{const T=e.find(x=>x.id===b);T&&(d(T),u(!0))},y=b=>{window.confirm("Are you sure you want to delete this expense?")&&i(b)},m=()=>{g(!0)};return _("div",{style:{padding:16},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h("h2",{style:{margin:0,color:"#2c5aa0"},children:"General Expenses Management"}),_("div",{style:{display:"flex",gap:8},children:[h("button",{onClick:m,style:{background:"#2196f3",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer"},children:"Manage Items"}),!l&&h("button",{onClick:()=>u(!0),style:{background:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer"},children:"Add New Expense"})]})]}),l&&h("div",{style:{marginBottom:24},children:h(uC,{expense:c,customItems:t,onManageCustomItems:m,onSubmit:w,onCancel:v})}),h(cC,{expenses:e,onEdit:C,onDelete:y}),f&&h(dC,{customItems:t,onAddItem:o,onUpdateItem:s,onDeleteItem:a,onClose:()=>{g(!1)}})]})}const hC=Ss({name:Ft().min(1,"Expense name is required"),price:ut({error:"Price must be a number"}).min(0,"Price must be >= 0"),quantity:ut({error:"Quantity must be a number"}).min(.01,"Quantity must be > 0"),expenseDate:Ft().regex(/^\d{4}-\d{2}-\d{2}$/i,"Date must be YYYY-MM-DD"),notes:Ft().optional()});function fC({expense:e,onCancel:t,onSubmit:r}){const{register:n,handleSubmit:i,watch:o,formState:{errors:s}}=ws({resolver:xs(hC),defaultValues:e?{...e}:{name:"",price:0,quantity:1,expenseDate:new Date().toISOString().slice(0,10),notes:""}}),a=o("price")||0,l=o("quantity")||1,u=a*l;return _("form",{onSubmit:i(r),style:{display:"grid",gap:16,padding:16,border:"1px solid #ccc",borderRadius:8},children:[h("h3",{style:{margin:0,color:"#2c5aa0"},children:e?"Edit Misc Expense":"Add New Misc Expense"}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Expense Name *"}),h("input",{type:"text",placeholder:"Enter expense name (e.g., Office supplies, Travel, etc.)",...n("name"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),s.name&&h("span",{style:{color:"crimson"},children:s.name.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Price per Unit *"}),h("input",{type:"number",step:.01,min:0,placeholder:"Price per unit",...n("price",{valueAsNumber:!0}),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),s.price&&h("span",{style:{color:"crimson"},children:s.price.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Quantity *"}),h("input",{type:"number",step:.01,min:.01,placeholder:"Quantity",...n("quantity",{valueAsNumber:!0}),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),s.quantity&&h("span",{style:{color:"crimson"},children:s.quantity.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Expense Date *"}),h("input",{type:"date",...n("expenseDate"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),s.expenseDate&&h("span",{style:{color:"crimson"},children:s.expenseDate.message})]}),_("label",{style:{display:"grid",gap:4},children:[h("span",{children:"Notes (Optional)"}),h("textarea",{placeholder:"Additional notes about this expense",rows:3,...n("notes"),style:{padding:"8px",border:"1px solid #ddd",borderRadius:4}}),s.notes&&h("span",{style:{color:"crimson"},children:s.notes.message})]}),_("div",{style:{background:"#e0f7fa",padding:12,borderRadius:4},children:[h("strong",{children:"Total Cost:"})," $",u.toFixed(2),a>0&&l>0&&_("small",{style:{display:"block",color:"#666",marginTop:4},children:["Calculated: ",l,"  $",a.toFixed(2)," per unit"]})]}),_("div",{style:{display:"flex",gap:8},children:[h("button",{type:"submit",style:{background:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:4},children:e?"Update Expense":"Add Expense"}),h("button",{type:"button",onClick:t,style:{background:"#f44336",color:"white",border:"none",padding:"8px 16px",borderRadius:4},children:"Cancel"})]})]})}function pC({expenses:e,onEdit:t,onDelete:r}){const n=e.reduce((i,o)=>i+o.price*o.quantity,0);return _("div",{style:{border:"1px solid #ddd",borderRadius:8,overflow:"hidden"},children:[_("div",{style:{background:"#f7f7f7",padding:16,borderBottom:"1px solid #ddd"},children:[h("h3",{style:{margin:0,color:"#2c5aa0"},children:"Miscellaneous Expenses"}),_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:8},children:[_("span",{children:["Total Expenses: ",_("strong",{children:["$",n.toFixed(2)]})]}),_("span",{children:["Total Items: ",h("strong",{children:e.length})]})]})]}),_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f7f7f7"},children:_("tr",{children:[h("th",{style:{textAlign:"left",padding:8},children:"Expense Name"}),h("th",{style:{textAlign:"right",padding:8},children:"Price/Unit"}),h("th",{style:{textAlign:"right",padding:8},children:"Quantity"}),h("th",{style:{textAlign:"right",padding:8},children:"Total Cost"}),h("th",{style:{textAlign:"left",padding:8},children:"Date"}),h("th",{style:{textAlign:"left",padding:8},children:"Notes"}),h("th",{style:{textAlign:"right",padding:8},children:"Actions"})]})}),h("tbody",{children:e.length===0?h("tr",{children:h("td",{colSpan:7,style:{padding:12,textAlign:"center",color:"#666"},children:"No misc expenses recorded yet"})}):e.map(i=>_("tr",{children:[h("td",{style:{padding:8,fontWeight:"bold"},children:i.name}),_("td",{style:{padding:8,textAlign:"right"},children:["$",i.price.toFixed(2)]}),h("td",{style:{padding:8,textAlign:"right"},children:i.quantity.toFixed(2)}),_("td",{style:{padding:8,textAlign:"right",fontWeight:"bold",color:"#2c5aa0"},children:["$",(i.price*i.quantity).toFixed(2)]}),h("td",{style:{padding:8},children:i.expenseDate}),h("td",{style:{padding:8,maxWidth:150,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i.notes||"-"}),_("td",{style:{padding:8,textAlign:"right"},children:[h("button",{onClick:()=>t(i.id),style:{marginRight:8,background:"#2196f3",color:"white",border:"none",padding:"4px 8px",borderRadius:4},children:"Edit"}),h("button",{onClick:()=>r(i.id),style:{background:"#f44336",color:"white",border:"none",padding:"4px 8px",borderRadius:4},children:"Delete"})]})]},i.id))})]})]})}function gC({expenses:e,onCreateExpense:t,onUpdateExpense:r,onDeleteExpense:n}){const[i,o]=S.useState(!1),[s,a]=S.useState();return _("div",{style:{padding:16},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h("h2",{style:{margin:0,color:"#2c5aa0"},children:"Miscellaneous Expenses Management"}),!i&&h("button",{onClick:()=>o(!0),style:{background:"#4caf50",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer"},children:"Add New Expense"})]}),i&&h("div",{style:{marginBottom:24},children:h(fC,{expense:s,onSubmit:f=>{s?(r(s.id,f),a(void 0)):t(f),o(!1)},onCancel:()=>{o(!1),a(void 0)}})}),h(pC,{expenses:e,onEdit:f=>{const g=e.find(w=>w.id===f);g&&(a(g),o(!0))},onDelete:f=>{window.confirm("Are you sure you want to delete this expense?")&&n(f)}})]})}const mC=Ss({itemName:Ft().min(1,"Item name is required"),unit:as(["kg","pack","piece","liter","dozen","gram","bottle","packet"]),quantity:ut().min(.01,"Quantity must be greater than 0"),weight:ut().min(0).optional(),price:ut().min(0).optional(),consumptionDate:Ft().min(1,"Consumption date is required"),notes:Ft().optional(),sourceType:as(["general_expense","custom_item"]),sourceId:Ft().optional()});function yC({consumedItem:e,generalExpenses:t,customItems:r,onSubmit:n,onCancel:i}){const[o,s]=S.useState(!1),[a,l]=S.useState(""),[u,c]=S.useState("general_expense"),{register:d,handleSubmit:f,setValue:g,reset:w,watch:v,formState:{errors:C}}=ws({resolver:xs(mC),defaultValues:{itemName:"",unit:"kg",quantity:0,weight:0,price:0,consumptionDate:new Date().toISOString().slice(0,10),notes:"",sourceType:"general_expense",sourceId:""}}),y=v("itemName");v("sourceType"),S.useEffect(()=>{if(e){g("itemName",e.itemName),g("unit",e.unit),g("quantity",e.quantity),g("weight",e.weight??0),g("price",e.price??0),g("consumptionDate",e.consumptionDate),g("notes",e.notes??""),g("sourceType",e.sourceType),g("sourceId",e.sourceId??"");const A=!t.some($=>$.name===e.itemName)&&!r.some($=>$.name===e.itemName);s(A),A&&l(e.itemName)}else g("itemName",""),g("unit","kg"),g("quantity",0),g("weight",0),g("price",0),g("consumptionDate",new Date().toISOString().slice(0,10)),g("notes",""),g("sourceType","general_expense"),g("sourceId",""),s(!1),l("")},[e,g,t,r]);const m=A=>{const $=A.target.value;c($),g("sourceType",$),g("itemName",""),g("sourceId",""),s(!1),l("")},p=A=>{const $=A.target.value;if($==="custom")s(!0),g("itemName",a);else if(s(!1),g("itemName",$),l(""),u==="general_expense"){const V=t.find(J=>J.name===$);V&&(g("unit",V.unit),g("price",V.price),g("sourceId",V.id))}else{const V=r.find(J=>J.name===$);V&&(g("unit",V.unit),g("price",0),g("sourceId",V.id))}},b=A=>{const $=A.target.value;l($),g("itemName",$)},T=async A=>{try{console.log("=== ITEM CONSUMED FORM HANDLER START ==="),console.log("Form data received:",A),console.log("Form validation passed"),console.log("Calling onSubmit with data:",A),await n(A),console.log("onSubmit completed successfully"),e||(console.log("Resetting form for new consumed item"),w({itemName:"",unit:"kg",quantity:0,weight:0,price:0,consumptionDate:new Date().toISOString().slice(0,10),notes:"",sourceType:"general_expense",sourceId:""}),s(!1),l(""),console.log("Form reset completed")),console.log("=== ITEM CONSUMED FORM HANDLER END ===")}catch($){console.error("=== ITEM CONSUMED FORM HANDLER ERROR ==="),console.error("Form submission error:",$)}},x=u==="general_expense"?t:r;return _("form",{onSubmit:f(T),style:{display:"grid",gap:16},children:[_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Source Type *"}),_("select",{value:u,onChange:m,style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:"white"},children:[h("option",{value:"general_expense",children:"General Expenses"}),h("option",{value:"custom_item",children:"Custom Items"})]}),C.sourceType&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.sourceType.message})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Consumption Date *"}),h("input",{type:"date",...d("consumptionDate"),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),C.consumptionDate&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.consumptionDate.message})]})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Item Name *"}),h("div",{style:{display:"flex",gap:"8"},children:o?_("div",{style:{display:"flex",gap:"8",flex:1},children:[h("input",{type:"text",placeholder:"Enter custom item name",value:a,onChange:b,style:{flex:1,padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),h("button",{type:"button",onClick:()=>{s(!1),l(""),g("itemName","")},style:{background:"#6c757d",color:"white",border:"none",padding:"10px 12px",borderRadius:"6px",cursor:"pointer",fontSize:"12px",whiteSpace:"nowrap"},title:"Switch back to dropdown",children:""})]}):_("select",{value:y,onChange:p,style:{flex:1,padding:"10px 12px",border:y&&y!=="custom"?"2px solid #28a745":"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:y&&y!=="custom"?"#f8fff9":"white",fontWeight:y&&y!=="custom"?"500":"normal"},children:[h("option",{value:"",children:"Select an item"}),x.length===0?_("option",{value:"custom",disabled:!0,children:["No ",u==="general_expense"?"expenses":"custom items"," yet"]}):_(qc,{children:[x.map(A=>_("option",{value:A.name,children:[A.name," (",A.unit,")"]},A.id)),h("option",{value:"custom",children:" Add Custom Item"})]})]})}),C.itemName&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.itemName.message}),x.length===0&&!C.itemName&&_("span",{style:{color:"#6c757d",fontSize:"12px"},children:[" No ",u==="general_expense"?"expenses":"custom items"," yet. Add some first."]}),y&&y!=="custom"&&!C.itemName&&_("span",{style:{color:"#28a745",fontSize:"12px"},children:[" Item selected: ",y," - Unit has been auto-set"]})]}),_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Unit *"}),_("select",{...d("unit"),style:{padding:"10px 12px",border:y&&y!=="custom"?"2px solid #28a745":"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:y&&y!=="custom"?"#f8fff9":"white",fontWeight:y&&y!=="custom"?"500":"normal"},children:[h("option",{value:"kg",children:"kg"}),h("option",{value:"pack",children:"pack"}),h("option",{value:"piece",children:"piece"}),h("option",{value:"liter",children:"liter"}),h("option",{value:"dozen",children:"dozen"}),h("option",{value:"gram",children:"gram"}),h("option",{value:"bottle",children:"bottle"}),h("option",{value:"packet",children:"packet"})]}),C.unit&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.unit.message}),y&&y!=="custom"&&!C.unit&&h("span",{style:{color:"#28a745",fontSize:"12px"},children:" Auto-populated from selected item"})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Quantity Consumed *"}),h("input",{type:"number",step:.01,min:.01,placeholder:"0.00",...d("quantity",{valueAsNumber:!0}),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),C.quantity&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.quantity.message})]})]}),_("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Weight (kg) - Optional"}),h("input",{type:"number",step:.01,min:0,placeholder:"0.00 kg (if applicable)",...d("weight",{valueAsNumber:!0}),style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px"}}),C.weight&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.weight.message})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Price per Unit - Auto-populated"}),h("input",{type:"number",step:.01,min:0,placeholder:"0.00",...d("price",{valueAsNumber:!0}),style:{padding:"10px 12px",border:y&&y!=="custom"?"2px solid #28a745":"1px solid #ddd",borderRadius:"6px",fontSize:"14px",backgroundColor:y&&y!=="custom"?"#f8fff9":"white",fontWeight:y&&y!=="custom"?"500":"normal"},readOnly:y&&y!=="custom"}),C.price&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.price.message}),y&&y!=="custom"&&!C.price&&h("span",{style:{color:"#28a745",fontSize:"12px"},children:" Auto-populated from selected item"})]})]}),_("label",{style:{display:"grid",gap:6},children:[h("span",{style:{fontWeight:"500",color:"#333"},children:"Notes - Optional"}),h("textarea",{placeholder:"Any additional notes about the consumption...",...d("notes"),rows:3,style:{padding:"10px 12px",border:"1px solid #ddd",borderRadius:"6px",fontSize:"14px",resize:"vertical",fontFamily:"inherit"}}),C.notes&&h("span",{style:{color:"#dc3545",fontSize:"12px"},children:C.notes.message})]}),_("div",{style:{display:"flex",gap:12,marginTop:8},children:[h("button",{type:"submit",style:{background:"#28a745",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s ease"},onMouseOver:A=>A.currentTarget.style.background="#218838",onMouseOut:A=>A.currentTarget.style.background="#28a745",children:e?" Update Consumption":" Record Consumption"}),e&&h("button",{type:"button",onClick:i,style:{background:"#6c757d",color:"white",border:"none",padding:"12px 24px",borderRadius:"6px",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"background-color 0.2s ease"},onMouseOver:A=>A.currentTarget.style.background="#5a6268",onMouseOut:A=>A.currentTarget.style.background="#6c757d",children:" Cancel"})]})]})}function vC({consumedItems:e,onEdit:t,onDelete:r}){const n=o=>new Date(o).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),i=o=>o==="general_expense"?"General Expense":"Custom Item";return e.length===0?_("div",{style:{textAlign:"center",padding:"40px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[h("div",{style:{fontSize:"18px",color:"#6c757d",marginBottom:"8px"},children:" No items consumed yet"}),h("div",{style:{color:"#6c757d"},children:"Start recording item consumption to track your inventory usage"})]}):h("div",{style:{border:"1px solid #e9ecef",borderRadius:"8px",overflow:"hidden",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f8f9fa"},children:_("tr",{children:[h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Item Name"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Quantity"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Unit"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Weight (kg)"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Price per Unit"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Date"}),h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Source"}),h("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6",fontSize:"14px",fontWeight:"600"},children:"Actions"})]})}),h("tbody",{children:e.map(o=>_("tr",{style:{borderBottom:"1px solid #f1f3f4"},children:[h("td",{style:{padding:"12px",fontWeight:"500",color:"#2c5aa0"},children:o.itemName}),h("td",{style:{padding:"12px",color:"#333",fontWeight:"500"},children:o.quantity}),h("td",{style:{padding:"12px",color:"#666"},children:o.unit}),h("td",{style:{padding:"12px",color:"#666"},children:o.weight?`${o.weight} kg`:"-"}),h("td",{style:{padding:"12px",color:"#666"},children:o.price?`$${o.price.toFixed(2)}`:"-"}),h("td",{style:{padding:"12px",color:"#666"},children:n(o.consumptionDate)}),h("td",{style:{padding:"12px",color:"#666"},children:h("span",{style:{background:o.sourceType==="general_expense"?"#e3f2fd":"#f3e5f5",color:o.sourceType==="general_expense"?"#1976d2":"#7b1fa2",padding:"4px 8px",borderRadius:"12px",fontSize:"12px",fontWeight:"500"},children:i(o.sourceType)})}),h("td",{style:{padding:"12px",textAlign:"center"},children:_("div",{style:{display:"flex",gap:"8",justifyContent:"center"},children:[h("button",{onClick:()=>t(o.id),style:{background:"#007bff",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",transition:"background-color 0.2s ease"},onMouseOver:s=>s.currentTarget.style.background="#0056b3",onMouseOut:s=>s.currentTarget.style.background="#007bff",title:"Edit consumption record",children:" Edit"}),h("button",{onClick:()=>r(o.id),style:{background:"#dc3545",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px",transition:"background-color 0.2s ease"},onMouseOver:s=>s.currentTarget.style.background="#c82333",onMouseOut:s=>s.currentTarget.style.background="#dc3545",title:"Delete consumption record",children:" Delete"})]})})]},o.id))})]})})}function wC({consumedItems:e,generalExpenses:t,customItems:r,onCreateConsumedItem:n,onUpdateConsumedItem:i,onDeleteConsumedItem:o}){const[s,a]=S.useState(!1),[l,u]=S.useState(),c=p=>{l?(i(l.id,p),u(void 0)):n(p),a(!1)},d=()=>{a(!1),u(void 0)},f=p=>{const b=e.find(T=>T.id===p);b&&(u(b),a(!0))},g=p=>{window.confirm("Are you sure you want to delete this consumption record?")&&o(p)},w=new Date().toISOString().slice(0,10),v=e.filter(p=>p.consumptionDate===w),C=v.length,y=v.reduce((p,b)=>p+b.quantity,0),m=v.reduce((p,b)=>{const T=(b.price||0)*b.quantity;return p+T},0);return _("div",{style:{padding:16},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h("h2",{style:{margin:0,color:"#2c5aa0"},children:"Item Consumption Tracking"}),!s&&h("button",{onClick:()=>a(!0),style:{background:"#4caf50",color:"white",border:"none",padding:"12px 24px",borderRadius:6,cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},onMouseOver:p=>{p.currentTarget.style.background="#45a049",p.currentTarget.style.transform="translateY(-1px)",p.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseOut:p=>{p.currentTarget.style.background="#4caf50",p.currentTarget.style.transform="translateY(0)",p.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:" Record New Consumption"})]}),_("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:16,marginBottom:24},children:[_("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Today"}),h("div",{style:{fontSize:"18px"},children:new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),_("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Items Consumed"}),_("div",{style:{fontSize:"18px"},children:[C," items"]})]}),_("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Total Quantity"}),_("div",{style:{fontSize:"18px"},children:[y.toFixed(2)," units"]})]}),_("div",{style:{background:"linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Total Records"}),_("div",{style:{fontSize:"18px"},children:[e.length," records"]})]}),_("div",{style:{background:"linear-gradient(135deg, #fa709a 0%, #fee140 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Today's Cost"}),_("div",{style:{fontSize:"18px"},children:["$",m.toFixed(2)]})]})]}),s&&_("div",{style:{marginBottom:24,padding:"20px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[h("h4",{style:{margin:0,color:"#2c5aa0"},children:l?"Edit Consumption Record":"Record New Item Consumption"}),h("button",{onClick:d,style:{background:"#6c757d",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Cancel"})]}),h(yC,{consumedItem:l,generalExpenses:t,customItems:r,onSubmit:c,onCancel:d})]}),_("div",{style:{marginBottom:16},children:[h("h3",{style:{margin:"0 0 16px 0",color:"#2c5aa0"},children:"Consumption History"}),h(vC,{consumedItems:e,onEdit:f,onDelete:g})]}),_("div",{style:{background:"#e3f2fd",border:"1px solid #bbdefb",borderRadius:"8px",padding:"16px",marginTop:"24px"},children:[h("h4",{style:{margin:"0 0 12px 0",color:"#1976d2"},children:" How to use this page"}),_("div",{style:{color:"#1976d2",fontSize:"14px",lineHeight:"1.5"},children:[_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Record Consumption:"}),' Click "Record New Consumption" to track items consumed today']}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Select Source:"})," Choose between General Expenses or Custom Items as the source"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Auto-population:"})," Selecting an item automatically sets the unit, price, and source ID"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Track Usage:"})," Monitor daily consumption patterns and inventory usage"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Cost Tracking:"})," View item prices and calculate daily consumption costs"]})]})]})]})}function _C({sales:e,expenses:t,miscExpenses:r,consumedItems:n}){const i=S.useMemo(()=>{const g=new Map;return e.forEach(w=>{const v=w.saleDate,C=w.receivedCash+w.topup+w.charity+w.credit;g.has(v)||g.set(v,{date:v,salesRevenue:0,consumptionCost:0,expenseCost:0,totalCost:0,profit:0,salesCount:0,consumptionCount:0,expenseCount:0});const y=g.get(v);y.salesRevenue+=C,y.salesCount+=1}),n.forEach(w=>{const v=w.consumptionDate,C=(w.price||0)*w.quantity;g.has(v)||g.set(v,{date:v,salesRevenue:0,consumptionCost:0,expenseCost:0,totalCost:0,profit:0,salesCount:0,consumptionCount:0,expenseCount:0});const y=g.get(v);y.consumptionCost+=C,y.consumptionCount+=1}),t.forEach(w=>{const v=w.expenseDate,C=w.price*w.quantity;g.has(v)||g.set(v,{date:v,salesRevenue:0,consumptionCost:0,expenseCost:0,totalCost:0,profit:0,salesCount:0,consumptionCount:0,expenseCount:0});const y=g.get(v);y.expenseCost+=C,y.expenseCount+=1}),r.forEach(w=>{const v=w.expenseDate,C=w.price*w.quantity;g.has(v)||g.set(v,{date:v,salesRevenue:0,consumptionCost:0,expenseCost:0,totalCost:0,profit:0,salesCount:0,consumptionCount:0,expenseCount:0});const y=g.get(v);y.expenseCost+=C,y.expenseCount+=1}),g.forEach(w=>{w.totalCost=w.consumptionCost+w.expenseCost,w.profit=w.salesRevenue-w.totalCost}),Array.from(g.values()).sort((w,v)=>new Date(v.date).getTime()-new Date(w.date).getTime())},[e,n,t,r]),o=S.useMemo(()=>{const g=e.reduce((p,b)=>p+b.receivedCash+b.topup+b.charity+b.credit,0),w=n.reduce((p,b)=>p+(b.price||0)*b.quantity,0),v=t.reduce((p,b)=>p+b.price*b.quantity,0),C=r.reduce((p,b)=>p+b.price*b.quantity,0),y=w+v+C,m=g-y;return{totalSalesRevenue:g,totalConsumptionCost:w,totalExpenseCost:v,totalMiscExpenseCost:C,totalCost:y,totalProfit:m,totalSales:e.length,totalConsumption:n.length,totalExpenses:t.length+r.length}},[e,n,t,r]),s=new Date().toISOString().slice(0,10),a=i.find(g=>g.date===s),l=new Date().toISOString().slice(0,7),u=i.filter(g=>g.date.startsWith(l)),c=S.useMemo(()=>{const g=u.reduce((m,p)=>m+p.salesRevenue,0),w=u.reduce((m,p)=>m+p.consumptionCost,0),v=u.reduce((m,p)=>m+p.expenseCost,0),C=u.reduce((m,p)=>m+p.totalCost,0),y=g-C;return{monthSalesRevenue:g,monthConsumptionCost:w,monthExpenseCost:v,monthTotalCost:C,monthProfit:y,monthDays:u.length}},[u]),d=g=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(g),f=g=>new Date(g).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"short",day:"numeric"});return _("div",{style:{padding:"20px",maxWidth:"1200px",margin:"0 auto"},children:[h("h1",{style:{margin:"0 0 24px 0",color:"#2c3e50",textAlign:"center"},children:" Daily Financial Summary"}),_("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(250px, 1fr))",gap:16,marginBottom:32},children:[_("div",{style:{background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Today"}),_("div",{style:{fontSize:"18px",marginBottom:"4px"},children:["Revenue: ",a?d(a.salesRevenue):"$0.00"]}),_("div",{style:{fontSize:"18px",marginBottom:"4px"},children:["Cost: ",a?d(a.totalCost):"$0.00"]}),_("div",{style:{fontSize:"16px",marginBottom:"4px",opacity:.9},children:["Consumption: ",a?d(a.consumptionCost):"$0.00"]}),_("div",{style:{fontSize:"16px",marginBottom:"4px",opacity:.9},children:["Expenses: ",a?d(a.expenseCost):"$0.00"]}),h("div",{style:{fontSize:"20px",fontWeight:"bold",color:a&&a.profit>=0?"#a8f5a8":"#ffb3b3"},children:a?d(a.profit):"$0.00"}),h("small",{style:{opacity:.8},children:a?`${a.salesCount} sales, ${a.consumptionCount} items consumed`:"No activity"})]}),_("div",{style:{background:"linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" This Month"}),_("div",{style:{fontSize:"18px",marginBottom:"4px"},children:["Revenue: ",d(c.monthSalesRevenue)]}),_("div",{style:{fontSize:"18px",marginBottom:"4px"},children:["Cost: ",d(c.monthTotalCost)]}),_("div",{style:{fontSize:"16px",marginBottom:"4px",opacity:.9},children:["Consumption: ",d(c.monthConsumptionCost)]}),_("div",{style:{fontSize:"16px",marginBottom:"4px",opacity:.9},children:["Expenses: ",d(c.monthExpenseCost)]}),h("div",{style:{fontSize:"20px",fontWeight:"bold",color:c.monthProfit>=0?"#a8f5a8":"#ffb3b3"},children:d(c.monthProfit)}),_("small",{style:{opacity:.8},children:[c.monthDays," days tracked"]})]}),_("div",{style:{background:"linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",color:"white",padding:"20px",borderRadius:"12px",textAlign:"center",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"},children:[h("div",{style:{fontSize:"24px",fontWeight:"bold",marginBottom:"8px"},children:" Overall"}),_("div",{style:{fontSize:"18px",marginBottom:"4px"},children:["Revenue: ",d(o.totalSalesRevenue)]}),_("div",{style:{fontSize:"18px",marginBottom:"4px"},children:["Cost: ",d(o.totalCost)]}),_("div",{style:{fontSize:"16px",marginBottom:"4px",opacity:.9},children:["Consumption: ",d(o.totalConsumptionCost)]}),_("div",{style:{fontSize:"16px",marginBottom:"4px",opacity:.9},children:["Expenses: ",d(o.totalExpenseCost+o.totalMiscExpenseCost)]}),h("div",{style:{fontSize:"20px",fontWeight:"bold",color:o.totalProfit>=0?"#a8f5a8":"#ffb3b3"},children:d(o.totalProfit)}),_("small",{style:{opacity:.8},children:[o.totalSales," sales, ",o.totalConsumption," items consumed, ",o.totalExpenses," expenses"]})]})]}),_("div",{style:{marginBottom:32},children:[h("h2",{style:{margin:"0 0 16px 0",color:"#2c3e50"},children:" Daily Breakdown"}),h("div",{style:{border:"1px solid #ddd",borderRadius:8,overflow:"hidden",background:"white"},children:_("table",{style:{width:"100%",borderCollapse:"collapse"},children:[h("thead",{style:{background:"#f8f9fa"},children:_("tr",{children:[h("th",{style:{padding:"12px",textAlign:"left",borderBottom:"1px solid #dee2e6"},children:"Date"}),h("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #dee2e6"},children:"Sales Revenue"}),h("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #dee2e6"},children:"Consumption Cost"}),h("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #dee2e6"},children:"Expense Cost"}),h("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #dee2e6"},children:"Total Cost"}),h("th",{style:{padding:"12px",textAlign:"right",borderBottom:"1px solid #dee2e6"},children:"Profit/Loss"}),h("th",{style:{padding:"12px",textAlign:"center",borderBottom:"1px solid #dee2e6"},children:"Activity"})]})}),h("tbody",{children:i.length===0?h("tr",{children:h("td",{colSpan:8,style:{padding:"24px",textAlign:"center",color:"#666"},children:"No data available"})}):i.map(g=>_("tr",{style:{background:g.date===s?"#f0f8ff":"white"},children:[_("td",{style:{padding:"12px",fontWeight:g.date===s?"bold":"normal"},children:[f(g.date),g.date===s&&h("span",{style:{background:"#007bff",color:"white",padding:"2px 8px",borderRadius:"12px",fontSize:"12px",marginLeft:"8px"},children:"TODAY"})]}),h("td",{style:{padding:"12px",textAlign:"right",color:"#28a745"},children:d(g.salesRevenue)}),h("td",{style:{padding:"12px",textAlign:"right",color:"#dc3545"},children:d(g.consumptionCost)}),h("td",{style:{padding:"12px",textAlign:"right",color:"#fd7e14"},children:d(g.expenseCost)}),h("td",{style:{padding:"12px",textAlign:"right",color:"#6f42c1",fontWeight:"bold"},children:d(g.totalCost)}),_("td",{style:{padding:"12px",textAlign:"right",fontWeight:"bold",color:g.profit>=0?"#28a745":"#dc3545"},children:[g.profit>=0?"+":"",d(g.profit)]}),_("td",{style:{padding:"12px",textAlign:"center",fontSize:"14px"},children:[_("div",{style:{marginBottom:"4px"},children:[" ",g.salesCount," sales"]}),_("div",{children:[" ",g.consumptionCount," items"]}),_("div",{children:[" ",g.expenseCount," expenses"]})]})]},g.date))})]})})]}),_("div",{style:{background:"#f8f9fa",padding:"20px",borderRadius:"8px",border:"1px solid #dee2e6"},children:[h("h3",{style:{margin:"0 0 16px 0",color:"#2c3e50"},children:" Key Insights"}),_("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:16},children:[_("div",{children:[h("h4",{style:{margin:"0 0 8px 0",color:"#495057"},children:" Performance Metrics"}),_("ul",{style:{margin:0,paddingLeft:"20px",color:"#6c757d"},children:[_("li",{children:["Average daily revenue: ",d(o.totalSalesRevenue/Math.max(i.length,1))]}),_("li",{children:["Average daily cost: ",d(o.totalCost/Math.max(i.length,1))]}),_("li",{children:["Average daily consumption: ",d(o.totalConsumptionCost/Math.max(i.length,1))]}),_("li",{children:["Average daily expenses: ",d((o.totalExpenseCost+o.totalMiscExpenseCost)/Math.max(i.length,1))]}),_("li",{children:["Profit margin: ",(o.totalProfit/o.totalSalesRevenue*100).toFixed(1),"%"]})]})]}),_("div",{children:[h("h4",{style:{margin:"0 0 8px 0",color:"#495057"},children:" Recommendations"}),_("ul",{style:{margin:0,paddingLeft:"20px",color:"#6c757d"},children:[h("li",{children:"Track daily consumption patterns"}),h("li",{children:"Monitor profit margins by product"}),h("li",{children:"Identify high-cost consumption days"}),h("li",{children:"Optimize inventory management"})]})]})]})]}),_("div",{style:{background:"#e7f3ff",padding:"16px",borderRadius:"8px",marginTop:"24px",border:"1px solid #b3d9ff"},children:[h("h4",{style:{margin:"0 0 12px 0",color:"#0066cc"},children:" How to Use This Summary"}),_("div",{style:{fontSize:"14px",color:"#0066cc",lineHeight:"1.5"},children:[_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Daily Summary:"})," View revenue, costs, and profit for each day"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Profit Calculation:"})," Sales Revenue - (Consumption Cost + Expense Cost) = Daily Profit"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Trend Analysis:"})," Identify patterns in daily financial performance"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Cost Control:"})," Monitor daily consumption and expense costs to optimize spending"]}),_("p",{style:{margin:"0 0 8px 0"},children:[" ",h("strong",{children:"Expense Tracking:"})," Track both consumption costs and general/misc expenses for complete financial picture"]})]})]})]})}function SC(){const t=(()=>{const r={}.VITE_SUPABASE_URL,n={}.VITE_SUPABASE_ANON_KEY;return!!(r&&n&&r!=="https://your-project-id.supabase.co"&&n!=="your-anon-key-here")})();return h("div",{style:{position:"fixed",bottom:"20px",right:"20px",background:t?"#e8f5e8":"#fff3e0",color:t?"#2e7d32":"#f57c00",padding:"8px 12px",borderRadius:"20px",fontSize:"12px",border:`1px solid ${t?"#4caf50":"#ff9800"}`,boxShadow:"0 2px 8px rgba(0,0,0,0.1)",zIndex:1e3},children:t?" Database":" Local Storage"})}const Dp="charity.products.v4",Op="charity.sales.v2",$p="charity.expenses.v1",Ip="charity.misc_expenses.v1",zp="charity.custom_items.v1",Lp="charity.custom_products.v1",Np="charity.consumed_items.v1",Pn=(e,t)=>{try{const r=localStorage.getItem(e);return r?JSON.parse(r):t}catch{return t}},Tn=(e,t)=>{try{localStorage.setItem(e,JSON.stringify(t))}catch(r){console.error("Failed to write to localStorage:",r)}},xC=()=>{["charity.products.v1","charity.products.v2","charity.products.v3","charity.sales.v1"].forEach(t=>{localStorage.getItem(t)&&(console.log("Clearing old storage key:",t),localStorage.removeItem(t))})};function bC(){const e=S.useMemo(()=>Math.random().toString(36).slice(2),[]),[t,r]=S.useState([]),[n,i]=S.useState([]),[o,s]=S.useState([]),[a,l]=S.useState([]),[u,c]=S.useState([]),[d,f]=S.useState([]),[g,w]=S.useState([]),[v,C]=S.useState(!1),[y,m]=S.useState(null),[p,b]=S.useState(!1),[T,x]=S.useState(!1);console.log(`useLocalStorage [${e}]: Hook created/rendered`),S.useEffect(()=>{if(p){console.log(`useLocalStorage [${e}]: Already initialized, skipping load`);return}console.log(`useLocalStorage [${e}]: Initializing and loading data...`),T||(console.log(`useLocalStorage [${e}]: Clearing old storage keys...`),xC(),x(!0));const G=Pn(Dp,[]),I=Pn(Op,[]),H=Pn($p,[]),fe=Pn(Ip,[]),_t=Pn(zp,[]),ri=Pn(Lp,[]),ni=Pn(Np,[]);console.log(`useLocalStorage [${e}]: Raw stored products:`,G),console.log(`useLocalStorage [${e}]: Raw stored sales:`,I),console.log(`useLocalStorage [${e}]: Raw stored expenses:`,H),console.log(`useLocalStorage [${e}]: Raw stored misc expenses:`,fe),console.log(`useLocalStorage [${e}]: Raw stored custom items:`,_t),console.log(`useLocalStorage [${e}]: Raw stored consumed items:`,ni);const Vr=G.map(j=>"salePrice"in j?j:{...j,salePrice:0}),ii=I.map(j=>{console.log(`useLocalStorage [${e}]: Processing sale:`,j);let N=j;"credit"in j||(console.log(`useLocalStorage [${e}]: Adding credit field to sale:`,j.id),N={...j,credit:0});const X=N.expectedCash||0,_e=N.receivedCash||0,Pe=N.topup||0,ft=N.charity||0,Hr=N.credit||0,Ye=X-(_e+Pe+ft+Hr);return Math.abs((N.arrears||0)-Ye)>.01&&(console.log(`useLocalStorage [${e}]: Updating arrears for sale:`,j.id,"from",N.arrears,"to",Ye),N={...N,arrears:Ye}),N}),Zr=H,k=fe,R=_t,O=ri,q=ni.map(j=>"price"in j?j:{...j,price:0});console.log(`useLocalStorage [${e}]: Migrated products:`,Vr),console.log(`useLocalStorage [${e}]: Migrated sales:`,ii),console.log(`useLocalStorage [${e}]: Migrated expenses:`,Zr),console.log(`useLocalStorage [${e}]: Migrated misc expenses:`,k),console.log(`useLocalStorage [${e}]: Migrated custom items:`,R),console.log(`useLocalStorage [${e}]: Migrated custom products:`,O),console.log(`useLocalStorage [${e}]: Migrated consumed items:`,q),console.log(`useLocalStorage [${e}]: Setting products state to:`,Vr),console.log(`useLocalStorage [${e}]: Setting sales state to:`,ii),console.log(`useLocalStorage [${e}]: Setting expenses state to:`,Zr),console.log(`useLocalStorage [${e}]: Setting misc expenses state to:`,k),console.log(`useLocalStorage [${e}]: Setting custom items state to:`,R),console.log(`useLocalStorage [${e}]: Setting custom products state to:`,O),console.log(`useLocalStorage [${e}]: Setting consumed items state to:`,q),r(Vr),i(ii),s(Zr),l(k),c(R),f(O),w(q),b(!0),console.log(`useLocalStorage [${e}]: Initialization complete`)},[p,T,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving products to localStorage:`,t),console.log(`useLocalStorage [${e}]: Products array length:`,t.length),Tn(Dp,t)},[t,p,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving sales to localStorage:`,n),Tn(Op,n)},[n,p,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving expenses to localStorage:`,o),Tn($p,o)},[o,p,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving misc expenses to localStorage:`,a),Tn(Ip,a)},[a,p,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving custom items to localStorage:`,u),Tn(zp,u)},[u,p,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving custom products to localStorage:`,d),Tn(Lp,d)},[d,p,e]),S.useEffect(()=>{if(!p){console.log(`useLocalStorage [${e}]: Skipping save - not yet initialized`);return}console.log(`useLocalStorage [${e}]: Saving consumed items to localStorage:`,g),Tn(Np,g)},[g,p,e]);const A=S.useCallback(async G=>{try{if(!p)throw console.log(`useLocalStorage [${e}]: Cannot create product - hook not initialized`),new Error("Hook not initialized");m(null),console.log(`useLocalStorage [${e}]: Creating product with input:`,G);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G};console.log(`useLocalStorage [${e}]: New product created:`,H),r(fe=>{const _t=[H,...fe];return console.log(`useLocalStorage [${e}]: Updated products array:`,_t),_t})}catch(I){throw console.error(`useLocalStorage [${e}]: Error creating product:`,I),m(I instanceof Error?I.message:"Failed to create product"),I}},[p,e]),$=S.useCallback(async(G,I)=>{try{m(null),r(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString()}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update product"),H}},[]),V=S.useCallback(async G=>{try{m(null),r(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete product"),I}},[]),J=S.useCallback(async G=>{try{m(null);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G,arrears:G.expectedCash-(G.receivedCash+G.topup+G.charity+G.credit)};i(fe=>[H,...fe])}catch(I){throw m(I instanceof Error?I.message:"Failed to create sale"),I}},[]),we=S.useCallback(async(G,I)=>{try{m(null),i(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString(),arrears:I.expectedCash-(I.receivedCash+I.topup+I.charity+I.credit)}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update sale"),H}},[]),te=S.useCallback(async G=>{try{m(null),i(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete sale"),I}},[]),ue=S.useCallback(async G=>{try{m(null);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G};s(fe=>[H,...fe])}catch(I){throw m(I instanceof Error?I.message:"Failed to create expense"),I}},[]),ne=S.useCallback(async(G,I)=>{try{m(null),s(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString()}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update expense"),H}},[]),oe=S.useCallback(async G=>{try{m(null),s(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete expense"),I}},[]),ce=S.useCallback(async G=>{try{m(null);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G};l(fe=>[H,...fe])}catch(I){throw m(I instanceof Error?I.message:"Failed to create misc expense"),I}},[]),ke=S.useCallback(async(G,I)=>{try{m(null),l(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString()}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update misc expense"),H}},[]),U=S.useCallback(async G=>{try{m(null),l(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete misc expense"),I}},[]),W=S.useCallback(async G=>{try{m(null);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G};c(fe=>[H,...fe])}catch(I){throw m(I instanceof Error?I.message:"Failed to create custom item"),I}},[]),Q=S.useCallback(async(G,I)=>{try{m(null),c(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString()}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update custom item"),H}},[]),ge=S.useCallback(async G=>{try{m(null),c(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete custom item"),I}},[]),Ee=S.useCallback(async G=>{try{m(null);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G};f(fe=>[H,...fe])}catch(I){throw m(I instanceof Error?I.message:"Failed to create custom product"),I}},[]),Ie=S.useCallback(async(G,I)=>{try{m(null),f(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString()}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update custom product"),H}},[]),Z=S.useCallback(async G=>{try{m(null),f(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete custom product"),I}},[]),z=S.useCallback(async G=>{try{m(null);const I=new Date().toISOString(),H={id:Math.random().toString(36).slice(2)+Date.now().toString(36),createdAt:I,updatedAt:I,...G};w(fe=>[H,...fe])}catch(I){throw m(I instanceof Error?I.message:"Failed to create consumed item"),I}},[]),B=S.useCallback(async(G,I)=>{try{m(null),w(H=>H.map(fe=>fe.id===G?{...fe,...I,updatedAt:new Date().toISOString()}:fe))}catch(H){throw m(H instanceof Error?H.message:"Failed to update consumed item"),H}},[]),me=S.useCallback(async G=>{try{m(null),w(I=>I.filter(H=>H.id!==G))}catch(I){throw m(I instanceof Error?I.message:"Failed to delete consumed item"),I}},[]),Qe=S.useCallback(async()=>{},[]),Te=S.useCallback(()=>{m(null)},[]);return{products:t,sales:n,expenses:o,miscExpenses:a,customItems:u,customProducts:d,consumedItems:g,loading:v,error:y,loadData:Qe,createProduct:A,updateProduct:$,deleteProduct:V,createSale:J,updateSale:we,deleteSale:te,createExpense:ue,updateExpense:ne,deleteExpense:oe,createMiscExpense:ce,updateMiscExpense:ke,deleteMiscExpense:U,createCustomItem:W,updateCustomItem:Q,deleteCustomItem:ge,createCustomProduct:Ee,updateCustomProduct:Ie,deleteCustomProduct:Z,createConsumedItem:z,updateConsumedItem:B,deleteConsumedItem:me,clearError:Te}}const kC=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ki(()=>Promise.resolve().then(()=>Qi),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class oh extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class EC extends oh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class jp extends oh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mp extends oh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Dc;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Dc||(Dc={}));var CC=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class PC{constructor(t,{headers:r={},customFetch:n,region:i=Dc.Any}={}){this.url=t,this.headers=r,this.region=i,this.fetch=kC(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return CC(this,void 0,void 0,function*(){try{const{headers:i,method:o,body:s}=r;let a={},{region:l}=r;l||(l=this.region);const u=new URL(`${this.url}/${t}`);l&&l!=="any"&&(a["x-region"]=l,u.searchParams.set("forceFunctionRegion",l));let c;s&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&s instanceof Blob||s instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=s):typeof s=="string"?(a["Content-Type"]="text/plain",c=s):typeof FormData<"u"&&s instanceof FormData?c=s:(a["Content-Type"]="application/json",c=JSON.stringify(s)));const d=yield this.fetch(u.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:c}).catch(v=>{throw new EC(v)}),f=d.headers.get("x-relay-error");if(f&&f==="true")throw new jp(d);if(!d.ok)throw new Mp(d);let g=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),w;return g==="application/json"?w=yield d.json():g==="application/octet-stream"?w=yield d.blob():g==="text/event-stream"?w=d:g==="multipart/form-data"?w=yield d.formData():w=yield d.text(),{data:w,error:null,response:d}}catch(i){return{data:null,error:i,response:i instanceof Mp||i instanceof jp?i.context:void 0}}})}}var jt={},sh={},kl={},bs={},El={},Cl={},TC=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Vi=TC();const RC=Vi.fetch,Ev=Vi.fetch.bind(Vi),Cv=Vi.Headers,AC=Vi.Request,DC=Vi.Response,Qi=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cv,Request:AC,Response:DC,default:Ev,fetch:RC},Symbol.toStringTag,{value:"Module"})),OC=r0(Qi);var Pl={};Object.defineProperty(Pl,"__esModule",{value:!0});let $C=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Pl.default=$C;var Pv=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Cl,"__esModule",{value:!0});const IC=Pv(OC),zC=Pv(Pl);let LC=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=IC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=Object.assign({},this.headers),this.headers[t]=r,this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var s,a,l;let u=null,c=null,d=null,f=o.status,g=o.statusText;if(o.ok){if(this.method!=="HEAD"){const y=await o.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=y:c=JSON.parse(y))}const v=(s=this.headers.Prefer)===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),C=(a=o.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");v&&C&&C.length>1&&(d=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(u={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,f=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const v=await o.text();try{u=JSON.parse(v),Array.isArray(u)&&o.status===404&&(c=[],u=null,f=200,g="OK")}catch{o.status===404&&v===""?(f=204,g="No Content"):u={message:v}}if(u&&this.isMaybeSingle&&(!((l=u==null?void 0:u.details)===null||l===void 0)&&l.includes("0 rows"))&&(u=null,f=200,g="OK"),u&&this.shouldThrowOnError)throw new zC.default(u)}return{error:u,data:c,count:d,status:f,statusText:g}});return this.shouldThrowOnError||(i=i.catch(o=>{var s,a,l;return{error:{message:`${(s=o==null?void 0:o.name)!==null&&s!==void 0?s:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(a=o==null?void 0:o.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=o==null?void 0:o.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,r)}returns(){return this}overrideTypes(){return this}};Cl.default=LC;var NC=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(El,"__esModule",{value:!0});const jC=NC(Cl);let MC=class extends jC.default{select(t){let r=!1;const n=(t??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const s=o?`${o}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,s=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(s,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:s="text"}={}){var a;const l=[t?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),u=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${s}; for="${u}"; options=${l};`,s==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};El.default=MC;var FC=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bs,"__esModule",{value:!0});const UC=FC(El);let BC=class extends UC.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${o}fts${s}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bs.default=BC;var WC=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(kl,"__esModule",{value:!0});const yo=WC(bs);let VC=class{constructor(t,{headers:r={},schema:n,fetch:i}){this.url=t,this.headers=r,this.schema=n,this.fetch=i}select(t,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let o=!1;const s=(t??"*").split("").map(a=>/\s/.test(a)&&!o?"":(a==='"'&&(o=!o),a)).join("");return this.url.searchParams.set("select",s),n&&(this.headers.Prefer=`count=${n}`),new yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:r,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),r&&o.push(`count=${r}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){const s=t.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(s.length>0){const a=[...new Set(s)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new yo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const s="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),o||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){const l=t.reduce((u,c)=>u.concat(Object.keys(c)),[]);if(l.length>0){const u=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",u.join(","))}}return new yo.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new yo.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const r="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new yo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};kl.default=VC;var Tl={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.version=void 0;Rl.version="0.0.0-automated";Object.defineProperty(Tl,"__esModule",{value:!0});Tl.DEFAULT_HEADERS=void 0;const ZC=Rl;Tl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ZC.version}`};var Tv=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(sh,"__esModule",{value:!0});const HC=Tv(kl),qC=Tv(bs),KC=Tl;let GC=class Rv{constructor(t,{headers:r={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},KC.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(t){const r=new URL(`${this.url}/${t}`);return new HC.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Rv(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:i=!1,count:o}={}){let s;const a=new URL(`${this.url}/rpc/${t}`);let l;n||i?(s=n?"HEAD":"GET",Object.entries(r).filter(([c,d])=>d!==void 0).map(([c,d])=>[c,Array.isArray(d)?`{${d.join(",")}}`:`${d}`]).forEach(([c,d])=>{a.searchParams.append(c,d)})):(s="POST",l=r);const u=Object.assign({},this.headers);return o&&(u.Prefer=`count=${o}`),new qC.default({method:s,url:a,headers:u,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};sh.default=GC;var Ji=nr&&nr.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jt,"__esModule",{value:!0});jt.PostgrestError=jt.PostgrestBuilder=jt.PostgrestTransformBuilder=jt.PostgrestFilterBuilder=jt.PostgrestQueryBuilder=jt.PostgrestClient=void 0;const Av=Ji(sh);jt.PostgrestClient=Av.default;const Dv=Ji(kl);jt.PostgrestQueryBuilder=Dv.default;const Ov=Ji(bs);jt.PostgrestFilterBuilder=Ov.default;const $v=Ji(El);jt.PostgrestTransformBuilder=$v.default;const Iv=Ji(Cl);jt.PostgrestBuilder=Iv.default;const zv=Ji(Pl);jt.PostgrestError=zv.default;var QC=jt.default={PostgrestClient:Av.default,PostgrestQueryBuilder:Dv.default,PostgrestFilterBuilder:Ov.default,PostgrestTransformBuilder:$v.default,PostgrestBuilder:Iv.default,PostgrestError:zv.default};const{PostgrestClient:JC,PostgrestQueryBuilder:YT,PostgrestFilterBuilder:XT,PostgrestTransformBuilder:eR,PostgrestBuilder:tR,PostgrestError:rR}=QC;class YC{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const XC="2.15.1",eP=`realtime-js/${XC}`,tP="1.0.0",Oc=1e4,rP=1e3,nP=100;var Lo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Lo||(Lo={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var dr;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(dr||(dr={}));var $c;(function(e){e.websocket="websocket"})($c||($c={}));var In;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(In||(In={}));class iP{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const i=r.getUint8(1),o=r.getUint8(2);let s=this.HEADER_LENGTH+2;const a=n.decode(t.slice(s,s+i));s=s+i;const l=n.decode(t.slice(s,s+o));s=s+o;const u=JSON.parse(n.decode(t.slice(s,t.byteLength)));return{ref:null,topic:a,event:l,payload:u}}}class Lv{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Le||(Le={}));const Fp=(e,t,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,s)=>(o[s]=oP(s,e,t,i),o),{})},oP=(e,t,r,n)=>{const i=t.find(a=>a.name===e),o=i==null?void 0:i.type,s=r[e];return o&&!n.includes(o)?Nv(o,s):Ic(s)},Nv=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return uP(t,r)}switch(e){case Le.bool:return sP(t);case Le.float4:case Le.float8:case Le.int2:case Le.int4:case Le.int8:case Le.numeric:case Le.oid:return aP(t);case Le.json:case Le.jsonb:return lP(t);case Le.timestamp:return cP(t);case Le.abstime:case Le.date:case Le.daterange:case Le.int4range:case Le.int8range:case Le.money:case Le.reltime:case Le.text:case Le.time:case Le.timestamptz:case Le.timetz:case Le.tsrange:case Le.tstzrange:return Ic(t);default:return Ic(t)}},Ic=e=>e,sP=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},aP=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},lP=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},uP=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const s=e.slice(1,r);try{o=JSON.parse("["+s+"]")}catch{o=s?s.split(","):[]}return o.map(a=>Nv(t,a))}return e},cP=e=>typeof e=="string"?e.replace(" ","T"):e,jv=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class pu{constructor(t,r,n={},i=Oc){this.channel=t,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Up;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Up||(Up={}));class No{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=No.syncState(this.state,i,o,s),this.pendingDiffs.forEach(l=>{this.state=No.syncDiff(this.state,l,o,s)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{const{onJoin:o,onLeave:s,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=No.syncDiff(this.state,i,o,s),a())}),this.onJoin((i,o,s)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:s})}),this.onLeave((i,o,s)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:s})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,i){const o=this.cloneDeep(t),s=this.transformState(r),a={},l={};return this.map(o,(u,c)=>{s[u]||(l[u]=c)}),this.map(s,(u,c)=>{const d=o[u];if(d){const f=c.map(C=>C.presence_ref),g=d.map(C=>C.presence_ref),w=c.filter(C=>g.indexOf(C.presence_ref)<0),v=d.filter(C=>f.indexOf(C.presence_ref)<0);w.length>0&&(a[u]=w),v.length>0&&(l[u]=v)}else a[u]=c}),this.syncDiff(o,{joins:a,leaves:l},n,i)}static syncDiff(t,r,n,i){const{joins:o,leaves:s}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(o,(a,l)=>{var u;const c=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),c.length>0){const d=t[a].map(g=>g.presence_ref),f=c.filter(g=>d.indexOf(g.presence_ref)<0);t[a].unshift(...f)}n(a,c,l)}),this.map(s,(a,l)=>{let u=t[a];if(!u)return;const c=l.map(d=>d.presence_ref);u=u.filter(d=>c.indexOf(d.presence_ref)<0),t[a]=u,i(a,u,l),u.length===0&&delete t[a]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const i=t[n];return"metas"in i?r[n]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=i,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Bp;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Bp||(Bp={}));var jo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(jo||(jo={}));var $r;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})($r||($r={}));class ah{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new pu(this,dr.join,this.params,this.timeout),this.rejoinTimer=new Lv(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dr.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new No(this),this.broadcastEndpointURL=jv(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:o,presence:s,private:a}}=this.params,l=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(f=>f.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[jo.PRESENCE]&&this.bindings[jo.PRESENCE].length>0,c={},d={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t($r.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t($r.CLOSED)),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:f})=>{var g;if(this.socket.setAuth(),f===void 0){t==null||t($r.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,v=(g=w==null?void 0:w.length)!==null&&g!==void 0?g:0,C=[];for(let y=0;y<v;y++){const m=w[y],{filter:{event:p,schema:b,table:T,filter:x}}=m,A=f&&f[y];if(A&&A.event===p&&A.schema===b&&A.table===T&&A.filter===x)C.push(Object.assign(Object.assign({},m),{id:A.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t($r.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t($r.SUBSCRIBED);return}}).receive("error",f=>{this.state=at.errored,t==null||t($r.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($r.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===at.joined&&t===jo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,i;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:s,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var s,a,l;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(s=this.params)===null||s===void 0?void 0:s.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dr.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new pu(this,dr.leave,{},t),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const i=new AbortController,o=setTimeout(()=>i.abort(),n),s=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(o),s}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new pu(this,t,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>nP){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var i,o;const s=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=dr;if(n&&[a,l,u,c].indexOf(s)>=0&&n!==this._joinRef())return;let f=this._onMessage(s,r,n);if(r&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(g=>{var w,v,C;return((w=g.filter)===null||w===void 0?void 0:w.event)==="*"||((C=(v=g.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase())===s}).map(g=>g.callback(f,n)):(o=this.bindings[s])===null||o===void 0||o.filter(g=>{var w,v,C,y,m,p;if(["broadcast","presence","postgres_changes"].includes(s))if("id"in g){const b=g.id,T=(w=g.filter)===null||w===void 0?void 0:w.event;return b&&((v=r.ids)===null||v===void 0?void 0:v.includes(b))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((C=r.data)===null||C===void 0?void 0:C.type.toLocaleLowerCase()))}else{const b=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return b==="*"||b===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===s}).map(g=>{if(typeof f=="object"&&"ids"in f){const w=f.data,{schema:v,table:C,commit_timestamp:y,type:m,errors:p}=w;f=Object.assign(Object.assign({},{schema:v,table:C,commit_timestamp:y,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(w))}g.callback(f,n)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const i=t.toLocaleLowerCase(),o={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&ah.isEqual(i.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(dr.close,{},t)}_onError(t){this._on(dr.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Fp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Fp(t.columns,t.old_record)),r}}const Wp=()=>{},ta={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},dP=[1e3,2e3,5e3,1e4],hP=1e4,fP=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class pP{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Oc,this.transport=null,this.heartbeatIntervalMs=ta.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wp,this.ref=0,this.reconnectTimer=null,this.logger=Wp,this.conn=null,this.sendBuffer=[],this.serializer=new iP,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...s)=>Ki(()=>Promise.resolve().then(()=>Qi),void 0).then(({default:a})=>a(...s)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...s)=>o(...s)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${$c.websocket}`,this.httpEndpoint=jv(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=YC.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tP}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Lo.connecting:return In.Connecting;case Lo.open:return In.Open;case Lo.closing:return In.Closing;default:return In.Closed}}isConnected(){return this.connectionState()===In.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===n);if(i)return i;{const o=new ah(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:i,ref:o}=t,s=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${o})`,i),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(rP,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ta.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:o,ref:s}=r,a=s?`(${s})`:"",l=o.status||"";this.log("receive",`${l} ${n} ${i} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,o,s)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(dr.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${t}${n}${i}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([fP],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:eP};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(dr.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Lv(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ta.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,i,o,s,a,l,u;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Oc,this.heartbeatIntervalMs=(i=t==null?void 0:t.heartbeatIntervalMs)!==null&&i!==void 0?i:ta.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(s=t==null?void 0:t.accessToken)!==null&&s!==void 0?s:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=t==null?void 0:t.reconnectAfterMs)!==null&&a!==void 0?a:c=>dP[c-1]||hP,this.encode=(l=t==null?void 0:t.encode)!==null&&l!==void 0?l:(c,d)=>d(JSON.stringify(c)),this.decode=(u=t==null?void 0:t.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class lh extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function lt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class gP extends lh{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class zc extends lh{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var mP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const Mv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ki(()=>Promise.resolve().then(()=>Qi),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},yP=()=>mP(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ki(()=>Promise.resolve().then(()=>Qi),void 0)).Response:Response}),Lc=e=>{if(Array.isArray(e))return e.map(r=>Lc(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Lc(n)}),t},vP=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ti=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const gu=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wP=(e,t,r)=>ti(void 0,void 0,void 0,function*(){const n=yield yP();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(i=>{const o=e.status||500,s=(i==null?void 0:i.statusCode)||o+"";t(new gP(gu(i),o,s))}).catch(i=>{t(new zc(gu(i),i))}):t(new zc(gu(e),e))}),_P=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?i:(vP(n)?(i.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),i.body=JSON.stringify(n)):i.body=n,t!=null&&t.duplex&&(i.duplex=t.duplex),Object.assign(Object.assign({},i),r))};function ks(e,t,r,n,i,o){return ti(this,void 0,void 0,function*(){return new Promise((s,a)=>{e(r,_P(t,n,i,o)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>s(l)).catch(l=>wP(l,a,n))})})}function el(e,t,r,n){return ti(this,void 0,void 0,function*(){return ks(e,"GET",t,r,n)})}function Sr(e,t,r,n,i){return ti(this,void 0,void 0,function*(){return ks(e,"POST",t,n,i,r)})}function Nc(e,t,r,n,i){return ti(this,void 0,void 0,function*(){return ks(e,"PUT",t,n,i,r)})}function SP(e,t,r,n){return ti(this,void 0,void 0,function*(){return ks(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Fv(e,t,r,n,i){return ti(this,void 0,void 0,function*(){return ks(e,"DELETE",t,n,i,r)})}var Tt=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const xP={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class bP{constructor(t,r={},n,i){this.url=t,this.headers=r,this.bucketId=n,this.fetch=Mv(i)}uploadOrUpdate(t,r,n,i){return Tt(this,void 0,void 0,function*(){try{let o;const s=Object.assign(Object.assign({},Vp),i);let a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(s.upsert)});const l=s.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",s.cacheControl),l&&o.append("metadata",this.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${s.cacheControl}`,a["content-type"]=s.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),i!=null&&i.headers&&(a=Object.assign(Object.assign({},a),i.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),d=yield(t=="PUT"?Nc:Sr)(this.fetch,`${this.url}/object/${c}`,o,Object.assign({headers:a},s!=null&&s.duplex?{duplex:s.duplex}:{}));return{data:{path:u,id:d.Id,fullPath:d.Key},error:null}}catch(o){if(lt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,i){return Tt(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),s=this._getFinalPath(o),a=new URL(this.url+`/object/upload/sign/${s}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Vp.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const d=yield Nc(this.fetch,a.toString(),l,{headers:c});return{data:{path:o,fullPath:d.Key},error:null}}catch(l){if(lt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(t,r){return Tt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const o=yield Sr(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),s=new URL(this.url+o.url),a=s.searchParams.get("token");if(!a)throw new lh("No token returned by API");return{data:{signedUrl:s.toString(),path:t,token:a},error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}update(t,r,n){return Tt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return Tt(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}copy(t,r,n){return Tt(this,void 0,void 0,function*(){try{return{data:{path:(yield Sr(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}createSignedUrl(t,r,n){return Tt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Sr(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${s}`)},{data:o,error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}createSignedUrls(t,r,n){return Tt(this,void 0,void 0,function*(){try{const i=yield Sr(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(s=>Object.assign(Object.assign({},s),{signedUrl:s.signedURL?encodeURI(`${this.url}${s.signedURL}${o}`):null})),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}download(t,r){return Tt(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),s=o?`?${o}`:"";try{const a=this._getFinalPath(t);return{data:yield(yield el(this.fetch,`${this.url}/${i}/${a}${s}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(lt(a))return{data:null,error:a};throw a}})}info(t){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield el(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Lc(n),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}exists(t){return Tt(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield SP(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(lt(n)&&n instanceof zc){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),i=[],o=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&i.push(o);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(t){return Tt(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}list(t,r,n){return Tt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},xP),r),{prefix:t||""});return{data:yield Sr(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(lt(i))return{data:null,error:i};throw i}})}listV2(t,r){return Tt(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Sr(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const kP="2.11.0",EP={"X-Client-Info":`storage-js/${kP}`};var ci=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class CP{constructor(t,r={},n,i){const o=new URL(t);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},EP),r),this.fetch=Mv(n)}listBuckets(){return ci(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(lt(t))return{data:null,error:t};throw t}})}getBucket(t){return ci(this,void 0,void 0,function*(){try{return{data:yield el(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return ci(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return ci(this,void 0,void 0,function*(){try{return{data:yield Nc(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(lt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return ci(this,void 0,void 0,function*(){try{return{data:yield Sr(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return ci(this,void 0,void 0,function*(){try{return{data:yield Fv(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(lt(r))return{data:null,error:r};throw r}})}}class PP extends CP{constructor(t,r={},n,i){super(t,r,n,i)}from(t){return new bP(this.url,this.headers,t,this.fetch)}}const TP="2.55.0";let bo="";typeof Deno<"u"?bo="deno":typeof document<"u"?bo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?bo="react-native":bo="node";const RP={"X-Client-Info":`supabase-js-${bo}/${TP}`},AP={headers:RP},DP={schema:"public"},OP={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},$P={};var IP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};const zP=e=>{let t;return e?t=e:typeof fetch>"u"?t=Ev:t=fetch,(...r)=>t(...r)},LP=()=>typeof Headers>"u"?Cv:Headers,NP=(e,t,r)=>{const n=zP(r),i=LP();return(o,s)=>IP(void 0,void 0,void 0,function*(){var a;const l=(a=yield t())!==null&&a!==void 0?a:e;let u=new i(s==null?void 0:s.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(o,Object.assign(Object.assign({},s),{headers:u}))})};var jP=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};function MP(e){return e.endsWith("/")?e:e+"/"}function FP(e,t){var r,n;const{db:i,auth:o,realtime:s,global:a}=e,{db:l,auth:u,realtime:c,global:d}=t,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),o),realtime:Object.assign(Object.assign({},c),s),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>jP(this,void 0,void 0,function*(){return""})};return e.accessToken?f.accessToken=e.accessToken:delete f.accessToken,f}const Uv="2.71.1",mi=30*1e3,jc=3,mu=jc*mi,UP="http://localhost:9999",BP="supabase.auth.token",WP={"X-Client-Info":`gotrue-js/${Uv}`},Mc="X-Supabase-Api-Version",Bv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},VP=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZP=10*60*1e3;class uh extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function ve(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class HP extends uh{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function qP(e){return ve(e)&&e.name==="AuthApiError"}class Wv extends uh{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class kn extends uh{constructor(t,r,n,i){super(t,n,i),this.name=r,this.status=n}}class Jr extends kn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KP(e){return ve(e)&&e.name==="AuthSessionMissingError"}class ra extends kn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class na extends kn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ia extends kn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function GP(e){return ve(e)&&e.name==="AuthImplicitGrantRedirectError"}class Zp extends kn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Fc extends kn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function yu(e){return ve(e)&&e.name==="AuthRetryableFetchError"}class Hp extends kn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Uc extends kn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const tl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),qp=` 	
\r=`.split(""),QP=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<qp.length;t+=1)e[qp[t].charCodeAt(0)]=-2;for(let t=0;t<tl.length;t+=1)e[tl[t].charCodeAt(0)]=t;return e})();function Kp(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(tl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(tl[n]),t.queuedBits-=6}}function Vv(e,t,r){const n=QP[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Gp(e){const t=[],r=s=>{t.push(String.fromCodePoint(s))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=s=>{XP(s,n,r)};for(let s=0;s<e.length;s+=1)Vv(e.charCodeAt(s),i,o);return t.join("")}function JP(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function YP(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}JP(n,t)}}function XP(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function eT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Vv(e.charCodeAt(i),r,n);return new Uint8Array(t)}function tT(e){const t=[];return YP(e,r=>t.push(r)),new Uint8Array(t)}function rT(e){const t=[],r={queue:0,queuedBits:0},n=i=>{t.push(i)};return e.forEach(i=>Kp(i,r,n)),Kp(null,r,n),t.join("")}function nT(e){return Math.round(Date.now()/1e3)+e}function iT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const lr=()=>typeof window<"u"&&typeof document<"u",Rn={tested:!1,writable:!1},Zv=()=>{if(!lr())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rn.tested)return Rn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Rn.tested=!0,Rn.writable=!0}catch{Rn.tested=!0,Rn.writable=!1}return Rn.writable};function oT(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return r.searchParams.forEach((n,i)=>{t[i]=n}),t}const Hv=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ki(()=>Promise.resolve().then(()=>Qi),void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},sT=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yi=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},An=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Gr=async(e,t)=>{await e.removeItem(t)};class Al{constructor(){this.promise=new Al.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Al.promiseConstructor=Promise;function vu(e){const t=e.split(".");if(t.length!==3)throw new Uc("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!VP.test(t[n]))throw new Uc("JWT not in base64url format");return{header:JSON.parse(Gp(t[0])),payload:JSON.parse(Gp(t[1])),signature:eT(t[2]),raw:{header:t[0],payload:t[1]}}}async function aT(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function lT(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const s=await e(o);if(!t(o,null,s)){n(s);return}}catch(s){if(!t(o,s)){i(s);return}}})()})}function uT(e){return("0"+e.toString(16)).substr(-2)}function cT(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let o=0;o<56;o++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,uT).join("")}async function dT(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function hT(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await dT(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function di(e,t,r=!1){const n=cT();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await yi(e,`${t}-code-verifier`,i);const o=await hT(n);return[o,n===o?"plain":"s256"]}const fT=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function pT(e){const t=e.headers.get(Mc);if(!t||!t.match(fT))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gT(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function mT(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yT=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hi(e){if(!yT.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wu(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Qp(e){return JSON.parse(JSON.stringify(e))}var vT=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};const $n=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),wT=[502,503,504];async function Jp(e){var t;if(!sT(e))throw new Fc($n(e),0);if(wT.includes(e.status))throw new Fc($n(e),e.status);let r;try{r=await e.json()}catch(o){throw new Wv($n(o),o)}let n;const i=pT(e);if(i&&i.getTime()>=Bv["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Hp($n(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Jr}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,s)=>o&&typeof s=="string",!0))throw new Hp($n(r),e.status,r.weak_password.reasons);throw new HP($n(r),e.status||500,n)}const _T=(e,t,r,n)=>{const i={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function xe(e,t,r,n){var i;const o=Object.assign({},n==null?void 0:n.headers);o[Mc]||(o[Mc]=Bv["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const s=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(s.redirect_to=n.redirectTo);const a=Object.keys(s).length?"?"+new URLSearchParams(s).toString():"",l=await ST(e,t,r+a,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function ST(e,t,r,n,i,o){const s=_T(t,n,i,o);let a;try{a=await e(r,Object.assign({},s))}catch(l){throw console.error(l),new Fc($n(l),0)}if(a.ok||await Jp(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Jp(l)}}function Dr(e){var t;let r=null;ET(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=nT(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function Yp(e){const t=Dr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function an(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function xT(e){return{data:e,error:null}}function bT(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o}=e,s=vT(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:r,hashed_token:n,redirect_to:i,verification_type:o},l=Object.assign({},s);return{data:{properties:a,user:l},error:null}}function kT(e){return e}function ET(e){return e.access_token&&e.refresh_token&&e.expires_in}const _u=["global","local","others"];var CT=globalThis&&globalThis.__rest||function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(r[n[i]]=e[n[i]]);return r};class PT{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=Hv(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=_u[0]){if(_u.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_u.join(", ")}`);try{return await xe(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await xe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:an})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=CT(t,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await xe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:bT,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ve(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await xe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:an})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,i,o,s,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await xe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(i=t==null?void 0:t.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:kT});if(c.error)throw c.error;const d=await c.json(),f=(s=c.headers.get("x-total-count"))!==null&&s!==void 0?s:0,g=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(w=>{const v=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),C=JSON.parse(w.split(";")[1].split("=")[1]);u[`${C}Page`]=v}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},d),u),error:null}}catch(u){if(ve(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){hi(t);try{return await xe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:an})}catch(r){if(ve(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){hi(t);try{return await xe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:an})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){hi(t);try{return await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:an})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){hi(t.userId);try{const{data:r,error:n}=await xe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _deleteFactor(t){hi(t.userId),hi(t.id);try{return{data:await xe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}}function Xp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function TT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const fi={debug:!!(globalThis&&Zv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class qv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class RT extends qv{}async function AT(e,t,r){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),fi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await r()}finally{fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw fi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new RT(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(fi.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}TT();const DT={url:UP,storageKey:BP,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:WP,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function eg(e,t,r){return await r()}const pi={};class ls{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ls.nextInstanceID,ls.nextInstanceID+=1,this.instanceID>0&&lr()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},DT),t);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new PT({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=Hv(i.fetch),this.lock=i.lock||eg,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:lr()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=AT:this.lock=eg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:Zv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Xp(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Xp(this.memoryStorage)),lr()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=pi[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=pi[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){pi[this.storageKey]=Object.assign(Object.assign({},pi[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Uv}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=oT(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),lr()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),GP(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:s,redirectType:a}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",a),await this._saveSession(s),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ve(r)?{error:r}:{error:new Wv("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,i;try{const o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=t==null?void 0:t.options)===null||i===void 0?void 0:i.captchaToken}},xform:Dr}),{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,i;try{let o;if("email"in t){const{email:c,password:d,options:f}=t;let g=null,w=null;this.flowType==="pkce"&&([g,w]=await di(this.storage,this.storageKey)),o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:c,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:g,code_challenge_method:w},xform:Dr})}else if("phone"in t){const{phone:c,password:d,options:f}=t;o=await xe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Dr})}else throw new na("You must provide either an email or phone number and a password");const{data:s,error:a}=o;if(a||!s)return{data:{user:null,session:null},error:a};const l=s.session,u=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(o){if(ve(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:s,options:a}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yp})}else if("phone"in t){const{phone:o,password:s,options:a}=t;r=await xe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Yp})}else throw new na("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ra}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,i,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=t.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,i,o,s,a,l,u,c,d,f,g;let w,v;if("message"in t)w=t.message,v=t.signature;else{const{chain:C,wallet:y,statement:m,options:p}=t;let b;if(lr())if(typeof y=="object")b=y;else{const x=window;if("solana"in x&&typeof x.solana=="object"&&("signIn"in x.solana&&typeof x.solana.signIn=="function"||"signMessage"in x.solana&&typeof x.solana.signMessage=="function"))b=x.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=y}const T=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const x=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:T.host,uri:T.href}),m?{statement:m}:null));let A;if(Array.isArray(x)&&x[0]&&typeof x[0]=="object")A=x[0];else if(x&&typeof x=="object"&&"signedMessage"in x&&"signature"in x)A=x;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)w=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),v=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${T.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${T.href}`,`Issued At: ${(i=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((s=p==null?void 0:p.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((u=p==null?void 0:p.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(c=p==null?void 0:p.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const x=await b.signMessage(new TextEncoder().encode(w),"utf8");if(!x||!(x instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=x}}try{const{data:C,error:y}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:rT(v)},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Dr});if(y)throw y;return!C||!C.session||!C.user?{data:{user:null,session:null},error:new ra}:(C.session&&(await this._saveSession(C.session),await this._notifyAllSubscribers("SIGNED_IN",C.session)),{data:Object.assign({},C),error:y})}catch(C){if(ve(C))return{data:{user:null,session:null},error:C};throw C}}async _exchangeCodeForSession(t){const r=await An(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:o,error:s}=await xe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Dr});if(await Gr(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ra}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(ve(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:i,access_token:o,nonce:s}=t,a=await xe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Dr}),{data:l,error:u}=a;return u?{data:{user:null,session:null},error:u}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ra}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:u})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,i,o,s;try{if("email"in t){const{email:a,options:l}=t;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await di(this.storage,this.storageKey));const{error:d}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:c}=await xe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(s=l==null?void 0:l.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c}}throw new na("You must provide either an email or phone number.")}catch(a){if(ve(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(t){var r,n;try{let i,o;"options"in t&&(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:s,error:a}=await xe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Dr});if(a)throw a;if(!s)throw new Error("An error occurred on token verification.");const l=s.session,u=s.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:u,session:l},error:null}}catch(i){if(ve(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(t){var r,n,i;try{let o=null,s=null;return this.flowType==="pkce"&&([o,s]=await di(this.storage,this.storageKey)),await xe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=t==null?void 0:t.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:s}),headers:this.headers,xform:xT})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Jr;const{error:i}=await xe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(t){if(ve(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:i,options:o}=t,{error:s}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){const{phone:n,type:i,options:o}=t,{data:s,error:a}=await xe(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return{data:{user:null,session:null,messageId:s==null?void 0:s.message_id},error:a}}throw new na("You must provide either an email or phone number and a type")}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await An(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<mu:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const s=await An(this.userStorage,this.storageKey+"-user");s!=null&&s.user?t.user=s.user:t.user=wu()}if(this.storage.isServer&&t.user){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,u,c)=>(!s&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,u,c))})}return{data:{session:t},error:null}}const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:an}):await this._useSession(async r=>{var n,i,o;const{data:s,error:a}=r;if(a)throw a;return!(!((n=s.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Jr}:await xe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:an})})}catch(r){if(ve(r))return KP(r)&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:i,error:o}=n;if(o)throw o;if(!i.session)throw new Jr;const s=i.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await di(this.storage,this.storageKey));const{data:u,error:c}=await xe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:s.access_token,xform:an});if(c)throw c;return s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}})}catch(n){if(ve(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Jr;const r=Date.now()/1e3;let n=r,i=!0,o=null;const{payload:s}=vu(t.access_token);if(s.exp&&(n=s.exp,i=n<=r),i){const{session:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(ve(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:s,error:a}=r;if(a)throw a;t=(n=s.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Jr;const{session:i,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(ve(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!lr())throw new ia("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ia(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Zp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ia("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Zp("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(t.code);if(p)throw p;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:a,expires_at:l,token_type:u}=t;if(!o||!a||!s||!u)throw new ia("No session defined in URL");const c=Math.round(Date.now()/1e3),d=parseInt(a);let f=c+d;l&&(f=parseInt(l));const g=f-c;g*1e3<=mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${d}s`);const w=f-d;c-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,f,c):c-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,f,c);const{data:v,error:C}=await this._getUser(o);if(C)throw C;const y={provider_token:n,provider_refresh_token:i,access_token:o,expires_in:d,expires_at:f,refresh_token:s,token_type:u,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(ve(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await An(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{error:o};const s=(n=i.session)===null||n===void 0?void 0:n.access_token;if(s){const{error:a}=await this.admin.signOut(s,t);if(a&&!(qP(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return t!=="others"&&(await this._removeSession(),await Gr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=iT(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,i;try{const{data:{session:o},error:s}=r;if(s)throw s;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await di(this.storage,this.storageKey,!0));try{return await xe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(ve(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:i}=await this._useSession(async o=>{var s,a,l,u,c;const{data:d,error:f}=o;if(f)throw f;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await xe(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(u=d.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(i)throw i;return lr()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(ve(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)throw s;return await xe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(i=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await lT(async i=>(i>0&&await aT(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await xe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Dr})),(i,o)=>{const s=200*Math.pow(2,i);return o&&yu(o)&&Date.now()+s-n<mi})}catch(n){if(this._debug(r,"error",n),ve(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),lr()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await An(this.storage,this.storageKey);if(i&&this.userStorage){let s=await An(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await yi(this.userStorage,this.storageKey+"-user",s)),i.user=(t=s==null?void 0:s.user)!==null&&t!==void 0?t:wu()}else if(i&&!i.user&&!i.user){const s=await An(this.storage,this.storageKey+"-user");s&&(s!=null&&s.user)?(i.user=s.user,await Gr(this.storage,this.storageKey+"-user"),await yi(this.storage,this.storageKey,i)):i.user=wu()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const o=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<mu;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${mu}s`),o){if(this.autoRefreshToken&&i.refresh_token){const{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),yu(s)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:s,error:a}=await this._getUser(i.access_token);!a&&(s!=null&&s.user)?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(n,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Jr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Al;const{data:o,error:s}=await this._refreshAccessToken(t);if(s)throw s;if(!o.session)throw new Jr;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={session:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(i,"error",o),ve(o)){const s={session:null,error:o};return yu(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(t,r,n=!0){const i=`#_notifyAllSubscribers(${t})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],s=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,r)}catch(l){o.push(l)}});if(await Promise.all(s),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await yi(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const o=Qp(i);await yi(this.storage,this.storageKey,o)}else{const i=Qp(r);await yi(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Gr(this.storage,this.storageKey),await Gr(this.storage,this.storageKey+"-code-verifier"),await Gr(this.storage,this.storageKey+"-user"),this.userStorage&&await Gr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&lr()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),mi);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-t)/mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${mi}ms, refresh threshold is ${jc} ticks`),i<=jc&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof qv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!lr()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,s]=await di(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(a.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);i.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${i.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await xe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,i;const{data:o,error:s}=r;if(s)return{data:null,error:s};const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:u}=await xe(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(ve(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;if(o)return{data:null,error:o};const{data:s,error:a}=await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:a})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:o}=r;return o?{data:null,error:o}:await xe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(ve(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],i=n.filter(s=>s.factor_type==="totp"&&s.status==="verified"),o=n.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:n,totp:i,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:i},error:o}=t;if(o)return{data:null,error:o};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=vu(i.access_token);let a=null;s.aal&&(a=s.aal);let l=a;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(a=>a.kid===t);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(a=>a.kid===t),n&&this.jwks_cached_at+ZP>i)return n;const{data:o,error:s}=await xe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,n=o.keys.find(a=>a.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:w}=await this.getSession();if(w||!g.session)return{data:null,error:w};n=g.session.access_token}const{header:i,payload:o,signature:s,raw:{header:a,payload:l}}=vu(n);r!=null&&r.allowExpired||gT(o.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:o,header:i,signature:s},error:null}}const c=mT(i.alg),d=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,d,s,tT(`${a}.${l}`)))throw new Uc("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}}}ls.nextInstanceID=0;const OT=ls;class $T extends OT{constructor(t){super(t)}}var IT=globalThis&&globalThis.__awaiter||function(e,t,r,n){function i(o){return o instanceof r?o:new r(function(s){s(o)})}return new(r||(r=Promise))(function(o,s){function a(c){try{u(n.next(c))}catch(d){s(d)}}function l(c){try{u(n.throw(c))}catch(d){s(d)}}function u(c){c.done?o(c.value):i(c.value).then(a,l)}u((n=n.apply(e,t||[])).next())})};class zT{constructor(t,r,n){var i,o,s;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=MP(t),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:DP,realtime:$P,auth:Object.assign(Object.assign({},OP),{storageKey:u}),global:AP},d=FP(n??{},c);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=d.global.headers)!==null&&o!==void 0?o:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((s=d.auth)!==null&&s!==void 0?s:{},this.headers,d.global.fetch),this.fetch=NP(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new JC(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new PP(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new PC(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return IT(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:o,flowType:s,lock:a,debug:l},u,c){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new $T({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),u),storageKey:o,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:i,flowType:s,lock:a,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new pP(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const LT=(e,t,r)=>new zT(e,t,r);function NT(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}NT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const jT={}.VITE_SUPABASE_URL||"https://your-project.supabase.co",MT={}.VITE_SUPABASE_ANON_KEY||"your-anon-key",De=LT(jT,MT),Oe={PRODUCTS:"products",SALES:"sales",EXPENSES:"expenses",MISC_EXPENSES:"misc_expenses",CUSTOM_ITEMS:"custom_items",CUSTOM_PRODUCTS:"custom_products",CONSUMED_ITEMS:"consumed_items"},$e={async getProducts(){const{data:e,error:t}=await De.from(Oe.PRODUCTS).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createProduct(e){const{data:t,error:r}=await De.from(Oe.PRODUCTS).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateProduct(e,t){const{data:r,error:n}=await De.from(Oe.PRODUCTS).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteProduct(e){const{error:t}=await De.from(Oe.PRODUCTS).delete().eq("id",e);if(t)throw t},async getSales(){const{data:e,error:t}=await De.from(Oe.SALES).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createSale(e){const{data:t,error:r}=await De.from(Oe.SALES).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateSale(e,t){const{data:r,error:n}=await De.from(Oe.SALES).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteSale(e){const{error:t}=await De.from(Oe.SALES).delete().eq("id",e);if(t)throw t},async getExpenses(){const{data:e,error:t}=await De.from(Oe.EXPENSES).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createExpense(e){const{data:t,error:r}=await De.from(Oe.EXPENSES).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateExpense(e,t){const{data:r,error:n}=await De.from(Oe.EXPENSES).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteExpense(e){const{error:t}=await De.from(Oe.EXPENSES).delete().eq("id",e);if(t)throw t},async getMiscExpenses(){const{data:e,error:t}=await De.from(Oe.MISC_EXPENSES).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createMiscExpense(e){const{data:t,error:r}=await De.from(Oe.MISC_EXPENSES).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateMiscExpense(e,t){const{data:r,error:n}=await De.from(Oe.MISC_EXPENSES).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteMiscExpense(e){const{error:t}=await De.from(Oe.MISC_EXPENSES).delete().eq("id",e);if(t)throw t},async getCustomItems(){const{data:e,error:t}=await De.from(Oe.CUSTOM_ITEMS).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createCustomItem(e){const{data:t,error:r}=await De.from(Oe.CUSTOM_ITEMS).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateCustomItem(e,t){const{data:r,error:n}=await De.from(Oe.CUSTOM_ITEMS).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteCustomItem(e){const{error:t}=await De.from(Oe.CUSTOM_ITEMS).delete().eq("id",e);if(t)throw t},async getCustomProducts(){const{data:e,error:t}=await De.from(Oe.CUSTOM_PRODUCTS).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createCustomProduct(e){const{data:t,error:r}=await De.from(Oe.CUSTOM_PRODUCTS).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateCustomProduct(e,t){const{data:r,error:n}=await De.from(Oe.CUSTOM_PRODUCTS).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteCustomProduct(e){const{error:t}=await De.from(Oe.CUSTOM_PRODUCTS).delete().eq("id",e);if(t)throw t},async getConsumedItems(){const{data:e,error:t}=await De.from(Oe.CONSUMED_ITEMS).select("*").order("created_at",{ascending:!1});if(t)throw t;return e||[]},async createConsumedItem(e){const{data:t,error:r}=await De.from(Oe.CONSUMED_ITEMS).insert([{...e,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}]).select().single();if(r)throw r;return t},async updateConsumedItem(e,t){const{data:r,error:n}=await De.from(Oe.CONSUMED_ITEMS).update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw n;return r},async deleteConsumedItem(e){const{error:t}=await De.from(Oe.CONSUMED_ITEMS).delete().eq("id",e);if(t)throw t}},Su=e=>({id:e.id,name:e.name,unit:e.unit,salePrice:e.sale_price,quantity:e.quantity,buyingDate:e.buying_date,createdAt:e.created_at,updatedAt:e.updated_at}),xu=e=>({id:e.id,productId:e.product_id,weightBeforeSale:e.weight_before_sale,weightAfterSale:e.weight_after_sale,weight:e.weight,pricePerKg:e.price_per_kg,expectedCash:e.expected_cash,receivedCash:e.received_cash,saleDate:e.sale_date,topup:e.topup,charity:e.charity,credit:e.credit,arrears:e.arrears,createdAt:e.created_at,updatedAt:e.updated_at}),tg=e=>({name:e.name,unit:e.unit,sale_price:e.salePrice,quantity:e.quantity,buying_date:e.buyingDate}),rg=e=>({product_id:e.productId,weight_before_sale:e.weightBeforeSale,weight_after_sale:e.weightAfterSale,weight:e.weight,price_per_kg:e.pricePerKg,expected_cash:e.expectedCash,received_cash:e.receivedCash,sale_date:e.saleDate,topup:e.topup,charity:e.charity,credit:e.credit,arrears:e.expectedCash-(e.receivedCash+e.topup+e.charity+e.credit)}),bu=e=>({id:e.id,name:e.name,unit:e.unit,price:e.price,quantity:e.quantity,weight:e.weight||void 0,expenseDate:e.expense_date,notes:e.notes||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),ng=e=>({name:e.name,unit:e.unit,price:e.price,quantity:e.quantity,weight:e.weight||null,expense_date:e.expenseDate,notes:e.notes||null}),ku=e=>({id:e.id,name:e.name,price:e.price,quantity:e.quantity,expenseDate:e.expense_date,notes:e.notes||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),ig=e=>({name:e.name,price:e.price,quantity:e.quantity,expense_date:e.expenseDate,notes:e.notes||null}),Eu=e=>({id:e.id,itemName:e.item_name,unit:e.unit,quantity:e.quantity,weight:e.weight||void 0,price:e.price||void 0,consumptionDate:e.consumption_date,notes:e.notes||void 0,sourceType:e.source_type,sourceId:e.source_id||void 0,createdAt:e.created_at,updatedAt:e.updated_at}),og=e=>({item_name:e.itemName,unit:e.unit,quantity:e.quantity,weight:e.weight||null,price:e.price||null,consumption_date:e.consumptionDate,notes:e.notes||null,source_type:e.sourceType,source_id:e.sourceId||null}),Cu=e=>({id:e.id,name:e.name,unit:e.unit,createdAt:e.created_at,updatedAt:e.updated_at}),sg=e=>({name:e.name,unit:e.unit}),Pu=e=>({id:e.id,name:e.name,unit:e.unit,createdAt:e.created_at,updatedAt:e.updated_at}),ag=e=>({name:e.name,unit:e.unit});function FT(){const[e,t]=S.useState([]),[r,n]=S.useState([]),[i,o]=S.useState([]),[s,a]=S.useState([]),[l,u]=S.useState([]),[c,d]=S.useState([]),[f,g]=S.useState([]),[w,v]=S.useState(!1),[C,y]=S.useState(null),m=S.useCallback(async()=>{try{v(!0),y(null);const[Z,z,B,me,Qe,Te,G]=await Promise.all([$e.getProducts(),$e.getSales(),$e.getExpenses(),$e.getMiscExpenses(),$e.getCustomItems(),$e.getCustomProducts(),$e.getConsumedItems()]);t(Z.map(Su)),n(z.map(xu)),o(B.map(bu)),a(me.map(ku)),u(Qe.map(Cu)),d(Te.map(Pu)),g(G.map(Eu))}catch(Z){throw y(Z instanceof Error?Z.message:"Failed to load data"),Z}finally{v(!1)}},[]),p=S.useCallback(async Z=>{try{y(null);const z=await $e.createProduct(tg(Z)),B=Su(z);t(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create product"),z}},[]),b=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateProduct(Z,tg(z)),me=Su(B);t(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update product"),B}},[]),T=S.useCallback(async Z=>{try{y(null),await $e.deleteProduct(Z),t(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete product"),z}},[]),x=S.useCallback(async Z=>{try{y(null);const z=await $e.createSale(rg(Z)),B=xu(z);n(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create sale"),z}},[]),A=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateSale(Z,rg(z)),me=xu(B);n(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update sale"),B}},[]),$=S.useCallback(async Z=>{try{y(null),await $e.deleteSale(Z),n(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete sale"),z}},[]),V=S.useCallback(async Z=>{try{y(null);const z=await $e.createExpense(ng(Z)),B=bu(z);o(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create expense"),z}},[]),J=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateExpense(Z,ng(z)),me=bu(B);o(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update expense"),B}},[]),we=S.useCallback(async Z=>{try{y(null),await $e.deleteExpense(Z),o(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete expense"),z}},[]),te=S.useCallback(async Z=>{try{y(null);const z=await $e.createMiscExpense(ig(Z)),B=ku(z);a(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create misc expense"),z}},[]),ue=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateMiscExpense(Z,ig(z)),me=ku(B);a(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update misc expense"),B}},[]),ne=S.useCallback(async Z=>{try{y(null),await $e.deleteMiscExpense(Z),a(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete misc expense"),z}},[]),oe=S.useCallback(async Z=>{try{y(null);const z=await $e.createCustomItem(sg(Z)),B=Cu(z);u(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create custom item"),z}},[]),ce=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateCustomItem(Z,sg(z)),me=Cu(B);u(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update custom item"),B}},[]),ke=S.useCallback(async Z=>{try{y(null),await $e.deleteCustomItem(Z),u(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete custom item"),z}},[]),U=S.useCallback(async Z=>{try{y(null);const z=await $e.createCustomProduct(ag(Z)),B=Pu(z);d(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create custom product"),z}},[]),W=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateCustomProduct(Z,ag(z)),me=Pu(B);d(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update custom product"),B}},[]),Q=S.useCallback(async Z=>{try{y(null),await $e.deleteCustomProduct(Z),d(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete custom product"),z}},[]),ge=S.useCallback(async Z=>{try{y(null);const z=await $e.createConsumedItem(og(Z)),B=Eu(z);g(me=>[B,...me])}catch(z){throw y(z instanceof Error?z.message:"Failed to create consumed item"),z}},[]),Ee=S.useCallback(async(Z,z)=>{try{y(null);const B=await $e.updateConsumedItem(Z,og(z)),me=Eu(B);g(Qe=>Qe.map(Te=>Te.id===Z?me:Te))}catch(B){throw y(B instanceof Error?B.message:"Failed to update consumed item"),B}},[]),Ie=S.useCallback(async Z=>{try{y(null),await $e.deleteConsumedItem(Z),g(z=>z.filter(B=>B.id!==Z))}catch(z){throw y(z instanceof Error?z.message:"Failed to delete consumed item"),z}},[]);return{products:e,sales:r,expenses:i,miscExpenses:s,customItems:l,customProducts:c,consumedItems:f,loading:w,error:C,loadData:m,createProduct:p,updateProduct:b,deleteProduct:T,createSale:x,updateSale:A,deleteSale:$,createExpense:V,updateExpense:J,deleteExpense:we,createMiscExpense:te,updateMiscExpense:ue,deleteMiscExpense:ne,createCustomItem:oe,updateCustomItem:ce,deleteCustomItem:ke,createCustomProduct:U,updateCustomProduct:W,deleteCustomProduct:Q,createConsumedItem:ge,updateConsumedItem:Ee,deleteConsumedItem:Ie,clearError:()=>y(null)}}function Kv(){const e=bC(),t=FT(),r=S.useMemo(()=>{try{return!!{}.VITE_SUPABASE_URL&&!!{}.VITE_SUPABASE_ANON_KEY}catch{return!1}},[]);return console.log("useDataStore: localStorageData loaded:",e.products.length,"products"),console.log("useDataStore: database configured:",r),r?(console.log("useDataStore: Using database for data storage"),t):(console.log("useDataStore: Using localStorage for data storage"),e)}function UT(){return _("div",{style:{maxWidth:1e3,margin:"0 auto",padding:24,fontFamily:"system-ui, -apple-system, Segoe UI, Roboto, sans-serif"},children:[_("header",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h("h1",{style:{margin:0},children:"Charity Inventory"}),_("nav",{style:{background:"#f7f7f7",padding:16,marginBottom:16},children:[h(en,{to:"/",style:{marginRight:16,textDecoration:"none",color:"#2c5aa0"},children:"Products"}),h(en,{to:"/sales",style:{marginRight:16,textDecoration:"none",color:"#2c5aa0"},children:"Sales"}),h(en,{to:"/expenses",style:{marginRight:16,textDecoration:"none",color:"#2c5aa0"},children:"General Expenses"}),h(en,{to:"/misc-expenses",style:{marginRight:16,textDecoration:"none",color:"#2c5aa0"},children:"Misc Expenses"}),h(en,{to:"/consumed-items",style:{marginRight:16,textDecoration:"none",color:"#2c5aa0"},children:"Items Consumed"}),h(en,{to:"/summary",style:{marginRight:16,textDecoration:"none",color:"#2c5aa0"},children:"Summary"})]})]}),h(nx,{}),h(SC,{})]})}function BT(){const{products:e,sales:t,expenses:r,customItems:n,customProducts:i,consumedItems:o,loading:s,error:a,loadData:l,createProduct:u,updateProduct:c,deleteProduct:d,createSale:f,updateSale:g,deleteSale:w,createExpense:v,updateExpense:C,deleteExpense:y,createCustomItem:m,updateCustomItem:p,deleteCustomItem:b,createCustomProduct:T,updateCustomProduct:x,deleteCustomProduct:A,createConsumedItem:$,updateConsumedItem:V,deleteConsumedItem:J,clearError:we}=Kv(),[te,ue]=S.useState(null),ne=S.useMemo(()=>e.find(W=>W.id===te)||null,[e,te]),[oe,ce]=S.useState("products"),[ke,U]=S.useState(!1);return S.useEffect(()=>{console.log("Products state changed:",e.length,"products"),console.log("Products data:",e)},[e]),s?h("div",{style:{textAlign:"center",padding:"40px"},children:h("div",{children:"Loading products..."})}):_("div",{style:{padding:16},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h("h2",{style:{margin:0,color:"#2c5aa0"},children:"Charity Management System"}),h("button",{onClick:l,disabled:s,style:{background:"#007bff",color:"white",border:"none",padding:"8px 16px",borderRadius:4,cursor:s?"not-allowed":"pointer"},children:s?"Loading...":"Refresh Data"})]}),_("div",{style:{display:"flex",gap:0,marginBottom:16},children:[h("button",{onClick:()=>ce("products"),style:{background:oe==="products"?"#2c5aa0":"#f7f7f7",color:oe==="products"?"white":"#333",border:"1px solid #ddd",padding:"12px 24px",cursor:"pointer",borderRadius:"8px 8px 0 0"},children:"Products"}),h("button",{onClick:()=>ce("sales"),style:{background:oe==="sales"?"#2c5aa0":"#f7f7f7",color:oe==="sales"?"white":"#333",border:"1px solid #ddd",padding:"12px 24px",cursor:"pointer",borderRadius:"8px 8px 0 0"},children:"Sales"}),h("button",{onClick:()=>ce("expenses"),style:{background:oe==="expenses"?"#2c5aa0":"#f7f7f7",color:oe==="expenses"?"white":"#333",border:"1px solid #ddd",padding:"12px 24px",cursor:"pointer",borderRadius:"8px 8px 0 0"},children:"General Expenses"})]}),oe==="products"&&_(qc,{children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[h("h3",{style:{margin:0,color:"#2c5aa0"},children:"Products Management"}),!te&&h("button",{onClick:()=>ue("new"),style:{background:"#4caf50",color:"white",border:"none",padding:"12px 24px",borderRadius:6,cursor:"pointer",fontSize:"14px",fontWeight:"500",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",transition:"all 0.2s ease"},onMouseOver:W=>{W.currentTarget.style.background="#45a049",W.currentTarget.style.transform="translateY(-1px)",W.currentTarget.style.boxShadow="0 4px 8px rgba(0,0,0,0.15)"},onMouseOut:W=>{W.currentTarget.style.background="#4caf50",W.currentTarget.style.transform="translateY(0)",W.currentTarget.style.boxShadow="0 2px 4px rgba(0,0,0,0.1)"},children:" Add New Product"})]}),te&&_("div",{style:{marginBottom:24,padding:"20px",background:"#f8f9fa",borderRadius:"8px",border:"1px solid #e9ecef"},children:[_("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[h("h4",{style:{margin:0,color:"#2c5aa0"},children:te==="new"?"Create New Product":"Edit Product"}),h("button",{onClick:()=>ue(null),style:{background:"#6c757d",color:"white",border:"none",padding:"6px 12px",borderRadius:"4px",cursor:"pointer",fontSize:"12px"},children:" Cancel"})]}),h(nC,{product:te==="new"?void 0:ne||void 0,customProducts:i,onSubmit:async W=>{try{te==="new"?await u(W):await c(te,W),ue(null)}catch(Q){console.error("Failed to save product:",Q)}},onCancel:()=>ue(null),onManageCustomProducts:()=>U(!0)})]}),h(Ux,{products:e,onEdit:ue,onDelete:async W=>{try{await d(W)}catch(Q){console.error("Failed to delete product:",Q),alert("Failed to delete product. Please try again.")}}}),ke&&h(iC,{customProducts:i,onAddProduct:async W=>{try{await T(W)}catch(Q){console.error("Failed to create custom product:",Q)}},onUpdateProduct:async(W,Q)=>{try{await x(W,Q)}catch(ge){console.error("Failed to update custom product:",ge)}},onDeleteProduct:async W=>{try{await A(W)}catch(Q){console.error("Failed to delete custom product:",Q)}},onClose:()=>U(!1)})]}),oe==="sales"&&h(bv,{products:e,sales:t,createSale:f,updateSale:g,deleteSale:w,loading:s,error:a,clearError:we}),oe==="expenses"&&h(kv,{expenses:r,customItems:n,onCreateExpense:v,onUpdateExpense:C,onDeleteExpense:y,onCreateCustomItem:m,onUpdateCustomItem:p,onDeleteCustomItem:b}),a&&_("div",{style:{background:"#f8d7da",color:"#721c24",padding:12,borderRadius:4,marginTop:16},children:[h("strong",{children:"Error:"})," ",a,h("button",{onClick:we,style:{background:"none",border:"none",color:"#721c24",cursor:"pointer",marginLeft:8,textDecoration:"underline"},children:"Dismiss"})]})]})}function WT(){const{products:e,sales:t,expenses:r,miscExpenses:n,customItems:i,consumedItems:o,createSale:s,updateSale:a,deleteSale:l,createExpense:u,updateExpense:c,deleteExpense:d,createMiscExpense:f,updateMiscExpense:g,deleteMiscExpense:w,createCustomItem:v,updateCustomItem:C,deleteCustomItem:y,createConsumedItem:m,updateConsumedItem:p,deleteConsumedItem:b,loading:T,error:x,clearError:A}=Kv(),$=Tx([{element:h(UT,{}),children:[{index:!0,element:h(BT,{})},{path:"sales",element:h(bv,{products:e,sales:t,createSale:s,updateSale:a,deleteSale:l,loading:T,error:x,clearError:A})},{path:"expenses",element:h(kv,{expenses:r,customItems:i,onCreateExpense:u,onUpdateExpense:c,onDeleteExpense:d,onCreateCustomItem:v,onUpdateCustomItem:C,onDeleteCustomItem:y})},{path:"misc-expenses",element:h(gC,{expenses:n,onCreateExpense:f,onUpdateExpense:g,onDeleteExpense:w})},{path:"consumed-items",element:h(wC,{consumedItems:o,generalExpenses:r,customItems:i,onCreateConsumedItem:m,onUpdateConsumedItem:p,onDeleteConsumedItem:b})},{path:"summary",element:h(_C,{sales:t,expenses:r,miscExpenses:n,consumedItems:o})}]}]);return h(Fx,{router:$})}function VT(){return h(WT,{})}const Gv=document.getElementById("root");if(!Gv)throw new Error("Root element not found");const ZT=Sy(Gv);ZT.render(h(It.StrictMode,{children:h(VT,{})}));
